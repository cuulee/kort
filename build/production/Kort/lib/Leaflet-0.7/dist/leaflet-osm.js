/*b7f087d29c674d9ce6bfd0f2b7f4028cbe40a956*/L.OSM={};L.OSM.TileLayer=L.TileLayer.extend({options:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a target="_parent" href="http://www.openstreetmap.org">OpenStreetMap</a> and contributors, under an <a target="_parent" href="http://www.openstreetmap.org/copyright">open license</a>'},initialize:function(b){b=L.Util.setOptions(this,b);L.TileLayer.prototype.initialize.call(this,b.url)}});L.OSM.Mapnik=L.OSM.TileLayer.extend({options:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:19}});L.OSM.CycleMap=L.OSM.TileLayer.extend({options:{url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png"}});L.OSM.TransportMap=L.OSM.TileLayer.extend({options:{url:"http://{s}.tile2.opencyclemap.org/transport/{z}/{x}/{y}.png"}});L.OSM.MapQuestOpen=L.OSM.TileLayer.extend({options:{url:"http://otile{s}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.png",subdomains:"1234",attribution:"Tiles courtesy of <a href='http://www.mapquest.com/' target='_blank'>MapQuest</a> <img src='http://developer.mapquest.com/content/osm/mq_logo.png'>"}});L.OSM.DataLayer=L.FeatureGroup.extend({options:{areaTags:["area","building","leisure","tourism","ruins","historic","landuse","military","natural","sport"],uninterestingTags:["source","source_ref","source:ref","history","attribution","created_by","tiger:county","tiger:tlid","tiger:upload_uuid"],styles:{}},initialize:function(c,d){L.Util.setOptions(this,d);L.FeatureGroup.prototype.initialize.call(this);if(c){this.addData(c)}},addData:function(l){if(!(l instanceof Array)){l=this.buildFeatures(l)}for(var g=0;g<l.length;g++){var h=l[g],i;if(h.type==="node"){i=L.marker(h.latLng,this.options.styles.node)}else{var k=new Array(h.nodes.length);for(var j=0;j<h.nodes.length;j++){k[j]=h.nodes[j].latLng}if(this.isWayArea(h)){k.pop();i=L.polygon(k,this.options.styles.area)}else{i=L.polyline(k,this.options.styles.way)}}i.addTo(this);i.feature=h}},buildFeatures:function(m){var q=[],r=L.OSM.getNodes(m),i=L.OSM.getWays(m,r),l=L.OSM.getRelations(m,r,i);for(var o in r){var p=r[o];if(this.interestingNode(p)){q.push(p)}}for(var n=0;n<i.length;n++){var k=i[n];q.push(k)}return q},isWayArea:function(d){if(d.nodes[0]!=d.nodes[d.nodes.length-1]){return false}for(var c in d.tags){if(~this.options.areaTags.indexOf(c)){return true}}return false},interestingNode:function(c){for(var d in c.tags){if(this.options.uninterestingTags.indexOf(d)<0){return true}}return false}});L.Util.extend(L.OSM,{getNodes:function(h){var j={};var i=h.getElementsByTagName("node");for(var g=0;g<i.length;g++){var l=i[g],k=l.getAttribute("id");j[k]={id:k,type:"node",latLng:L.latLng(l.getAttribute("lat"),l.getAttribute("lon"),true),tags:this.getTags(l)}}return j},getWays:function(m,q){var i=[];var j=m.getElementsByTagName("way");for(var n=0;n<j.length;n++){var l=j[n],p=l.getElementsByTagName("nd");var r={id:l.getAttribute("id"),type:"way",nodes:new Array(p.length),tags:this.getTags(l)};for(var o=0;o<p.length;o++){r.nodes[o]=q[p[o].getAttribute("ref")]}i.push(r)}return i},getRelations:function(r,j,o){var m=[];var q=r.getElementsByTagName("relation");for(var s=0;s<q.length;s++){var n=q[s],t=n.getElementsByTagName("member");var p={id:n.getAttribute("id"),type:"relation",members:new Array(t.length),tags:this.getTags(n)};for(var i=0;i<t.length;i++){if(t[i].getAttribute("type")==="node"){p.members[i]=j[t[i].getAttribute("ref")]}else{p.members[i]=null}}m.push(p)}return m},getTags:function(e){var h={};var f=e.getElementsByTagName("tag");for(var g=0;g<f.length;g++){h[f[g].getAttribute("k")]=f[g].getAttribute("v")}return h}});