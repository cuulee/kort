/*bfca8dc6ffbcaf822d9f18c0cca5bce00313905b*/(function(m,h,j){var l=m.L,i={};i.version="0.7";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=i}else{if(typeof define==="function"&&define.amd){define(i)}}i.noConflict=function(){m.L=l;return this};m.L=i;i.Util={extend:function(a){var b=Array.prototype.slice.call(arguments,1),f,c,d,e;for(c=0,d=b.length;c<d;c++){e=b[c]||{};for(f in e){if(e.hasOwnProperty(f)){a[f]=e[f]}}}return a},bind:function(b,a){var c=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return b.apply(a,c||arguments)}},stamp:(function(){var a=0,b="_leaflet_id";return function(c){c[b]=c[b]||++a;return c[b]}}()),invokeEach:function(b,a,c){var d,e;if(typeof b==="object"){e=Array.prototype.slice.call(arguments,3);for(d in b){a.apply(c,[d,b[d]].concat(e))}return true}return false},limitExecByInterval:function(c,a,d){var e,b;return function f(){var g=arguments;if(e){b=true;return}e=true;setTimeout(function(){e=false;if(b){f.apply(d,g);b=false}},a);c.apply(d,g)}},falseFn:function(){return false},formatNum:function(c,a){var b=Math.pow(10,a||5);return Math.round(c*b)/b},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return i.Util.trim(a).split(/\s+/)},setOptions:function(a,b){a.options=i.extend({},a.options,b);return a.options},getParamString:function(b,e,d){var a=[];for(var c in b){a.push(encodeURIComponent(d?c.toUpperCase():c)+"="+encodeURIComponent(b[c]))}return((!e||e.indexOf("?")===-1)?"?":"&")+a.join("&")},compileTemplate:function(a,b){a=a.replace(/"/g,'\\"');a=a.replace(/\{ *([\w_]+) *\}/g,function(c,d){return'" + o["'+d+'"]'+(typeof b[d]==="function"?"(o)":"")+' + "'});return new Function("o",'return "'+a+'";')},template:function(a,b){var c=i.Util._templateCache=i.Util._templateCache||{};c[a]=c[a]||i.Util.compileTemplate(a,b);return c[a](b)},isArray:Array.isArray||function(a){return(Object.prototype.toString.call(a)==="[object Array]")},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="};(function(){function b(f){var r,q,g=["webkit","moz","o","ms"];for(r=0;r<g.length&&!q;r++){q=m[g[r]+f]}return q}var a=0;function d(f){var g=+new Date(),p=Math.max(0,16-(g-a));a=g+p;return m.setTimeout(f,p)}var e=m.requestAnimationFrame||b("RequestAnimationFrame")||d;var c=m.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(f){m.clearTimeout(f)};i.Util.requestAnimFrame=function(g,q,f,r){g=i.bind(g,q);if(f&&e===d){g()}else{return e.call(m,g,r)}};i.Util.cancelAnimFrame=function(f){if(f){c.call(m,f)}}}());i.extend=i.Util.extend;i.bind=i.Util.bind;i.stamp=i.Util.stamp;i.setOptions=i.Util.setOptions;i.Class=function(){};i.Class.extend=function(c){var f=function(){if(this.initialize){this.initialize.apply(this,arguments)}if(this._initHooks){this.callInitHooks()}};var a=function(){};a.prototype=this.prototype;var b=new a();b.constructor=f;f.prototype=b;for(var e in this){if(this.hasOwnProperty(e)&&e!=="prototype"){f[e]=this[e]}}if(c.statics){i.extend(f,c.statics);delete c.statics}if(c.includes){i.Util.extend.apply(null,[b].concat(c.includes));delete c.includes}if(c.options&&b.options){c.options=i.extend({},b.options,c.options)}i.extend(b,c);b._initHooks=[];var d=this;f.__super__=d.prototype;b.callInitHooks=function(){if(this._initHooksCalled){return}if(d.prototype.callInitHooks){d.prototype.callInitHooks.call(this)}this._initHooksCalled=true;for(var g=0,q=b._initHooks.length;g<q;g++){b._initHooks[g].call(this)}};return f};i.Class.include=function(a){i.extend(this.prototype,a)};i.Class.mergeOptions=function(a){i.extend(this.prototype.options,a)};i.Class.addInitHook=function(b){var c=Array.prototype.slice.call(arguments,1);var a=typeof b==="function"?b:function(){this[b].apply(this,c)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(a)};var k="_leaflet_events";i.Mixin={};i.Mixin.Events={addEventListener:function(e,y,v){if(i.Util.invokeEach(e,this.addEventListener,this,y,v)){return this}var x=this[k]=this[k]||{},f=v&&v!==this&&i.stamp(v),g,d,w,a,u,b,c;e=i.Util.splitWords(e);for(g=0,d=e.length;g<d;g++){w={action:y,context:v||this};a=e[g];if(f){u=a+"_idx";b=u+"_len";c=x[u]=x[u]||{};if(!c[f]){c[f]=[];x[b]=(x[b]||0)+1}c[f].push(w)}else{x[a]=x[a]||[];x[a].push(w)}}return this},hasEventListeners:function(a){var b=this[k];return !!b&&((a in b&&b[a].length>0)||(a+"_idx" in b&&b[a+"_idx_len"]>0))},removeEventListener:function(c,A,y){if(!this[k]){return this}if(!c){return this.clearAllEventListeners()}if(i.Util.invokeEach(c,this.removeEventListener,this,A,y)){return this}var z=this[k],e=y&&y!==this&&i.stamp(y),f,b,B,C,x,g,D,a,d;c=i.Util.splitWords(c);for(f=0,b=c.length;f<b;f++){B=c[f];g=B+"_idx";D=g+"_len";a=z[g];if(!A){delete z[B];delete z[g];delete z[D]}else{C=e&&a?a[e]:z[B];if(C){for(x=C.length-1;x>=0;x--){if((C[x].action===A)&&(!y||(C[x].context===y))){d=C.splice(x,1);d[0].action=i.Util.falseFn}}if(y&&a&&(C.length===0)){delete a[e];z[D]--}}}}return this},clearAllEventListeners:function(){delete this[k];return this},fireEvent:function(c,r){if(!this.hasEventListeners(c)){return this}var s=i.Util.extend({},r,{type:c,target:this});var a=this[k],b,g,e,d,f;if(a[c]){b=a[c].slice();for(g=0,e=b.length;g<e;g++){b[g].action.call(b[g].context,s)}}d=a[c+"_idx"];for(f in d){b=d[f].slice();if(b){for(g=0,e=b.length;g<e;g++){b[g].action.call(b[g].context,s)}}}return this},addOneTimeEventListener:function(c,a,d){if(i.Util.invokeEach(c,this.addOneTimeEventListener,this,a,d)){return this}var b=i.bind(function(){this.removeEventListener(c,a,d).removeEventListener(c,b,d)},this);return this.addEventListener(c,a,d).addEventListener(c,b,d)}};i.Mixin.Events.on=i.Mixin.Events.addEventListener;i.Mixin.Events.off=i.Mixin.Events.removeEventListener;i.Mixin.Events.once=i.Mixin.Events.addOneTimeEventListener;i.Mixin.Events.fire=i.Mixin.Events.fireEvent;(function(){var g="ActiveXObject" in m,b=g&&!h.addEventListener,c=navigator.userAgent.toLowerCase(),N=c.indexOf("webkit")!==-1,B=c.indexOf("chrome")!==-1,L=c.indexOf("phantom")!==-1,a=c.indexOf("android")!==-1,C=c.search("android [23]")!==-1,F=c.indexOf("gecko")!==-1,J=typeof orientation!==j+"",K=m.navigator&&m.navigator.msPointerEnabled&&m.navigator.msMaxTouchPoints&&!m.PointerEvent,f=(m.PointerEvent&&m.navigator.pointerEnabled&&m.navigator.maxTouchPoints)||K,M=("devicePixelRatio" in m&&m.devicePixelRatio>1)||("matchMedia" in m&&m.matchMedia("(min-resolution:144dpi)")&&m.matchMedia("(min-resolution:144dpi)").matches),E=h.documentElement,e=g&&("transition" in E.style),D=("WebKitCSSMatrix" in m)&&("m11" in new m.WebKitCSSMatrix()),H="MozPerspective" in E.style,d="OTransition" in E.style,G=!m.L_DISABLE_3D&&(e||D||H||d)&&!L;var I=!m.L_NO_TOUCH&&!L&&(function(){var p="ontouchstart";if(f||(p in E)){return true}var o=h.createElement("div"),q=false;if(!o.setAttribute){return false}o.setAttribute(p,"return;");if(typeof o[p]==="function"){q=true}o.removeAttribute(p);o=null;return q}());i.Browser={ie:g,ielt9:b,webkit:N,gecko:F&&!N&&!m.opera&&!g,android:a,android23:C,chrome:B,ie3d:e,webkit3d:D,gecko3d:H,opera3d:d,any3d:G,mobile:J,mobileWebkit:J&&N,mobileWebkit3d:J&&D,mobileOpera:J&&m.opera,touch:I,msPointer:K,pointer:f,retina:M}}());i.Point=function(c,a,b){this.x=(b?Math.round(c):c);this.y=(b?Math.round(a):a)};i.Point.prototype={clone:function(){return new i.Point(this.x,this.y)},add:function(a){return this.clone()._add(i.point(a))},_add:function(a){this.x+=a.x;this.y+=a.y;return this},subtract:function(a){return this.clone()._subtract(i.point(a))},_subtract:function(a){this.x-=a.x;this.y-=a.y;return this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){this.x/=a;this.y/=a;return this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){this.x*=a;this.y*=a;return this},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},distanceTo:function(b){b=i.point(b);var c=b.x-this.x,a=b.y-this.y;return Math.sqrt(c*c+a*a)},equals:function(a){a=i.point(a);return a.x===this.x&&a.y===this.y},contains:function(a){a=i.point(a);return Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+i.Util.formatNum(this.x)+", "+i.Util.formatNum(this.y)+")"}};i.point=function(c,a,b){if(c instanceof i.Point){return c}if(i.Util.isArray(c)){return new i.Point(c[0],c[1])}if(c===j||c===null){return c}return new i.Point(c,a,b)};i.Bounds=function(c,d){if(!c){return}var a=d?[c,d]:c;for(var b=0,e=a.length;b<e;b++){this.extend(a[b])}};i.Bounds.prototype={extend:function(a){a=i.point(a);if(!this.min&&!this.max){this.min=a.clone();this.max=a.clone()}else{this.min.x=Math.min(a.x,this.min.x);this.max.x=Math.max(a.x,this.max.x);this.min.y=Math.min(a.y,this.min.y);this.max.y=Math.max(a.y,this.max.y)}return this},getCenter:function(a){return new i.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new i.Point(this.min.x,this.max.y)},getTopRight:function(){return new i.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,c;if(typeof a[0]==="number"||a instanceof i.Point){a=i.point(a)}else{a=i.bounds(a)}if(a instanceof i.Bounds){b=a.min;c=a.max}else{b=c=a}return(b.x>=this.min.x)&&(c.x<=this.max.x)&&(b.y>=this.min.y)&&(c.y<=this.max.y)},intersects:function(a){a=i.bounds(a);var c=this.min,f=this.max,b=a.min,e=a.max,d=(e.x>=c.x)&&(b.x<=f.x),g=(e.y>=c.y)&&(b.y<=f.y);return d&&g},isValid:function(){return !!(this.min&&this.max)}};i.bounds=function(a,b){if(!a||a instanceof i.Bounds){return a}return new i.Bounds(a,b)};i.Transformation=function(c,d,a,b){this._a=c;this._b=d;this._c=a;this._d=b};i.Transformation.prototype={transform:function(b,a){return this._transform(b.clone(),a)},_transform:function(b,a){a=a||1;b.x=a*(this._a*b.x+this._b);b.y=a*(this._c*b.y+this._d);return b},untransform:function(b,a){a=a||1;return new i.Point((b.x/a-this._b)/this._a,(b.y/a-this._d)/this._c)}};i.DomUtil={get:function(a){return(typeof a==="string"?h.getElementById(a):a)},getStyle:function(b,c){var a=b.style[c];if(!a&&b.currentStyle){a=b.currentStyle[c]}if((!a||a==="auto")&&h.defaultView){var d=h.defaultView.getComputedStyle(b,null);a=d?d[c]:null}return a==="auto"?null:a},getViewportOffset:function(e){var b=0,f=0,g=e,d=h.body,r=h.documentElement,c;do{b+=g.offsetTop||0;f+=g.offsetLeft||0;b+=parseInt(i.DomUtil.getStyle(g,"borderTopWidth"),10)||0;f+=parseInt(i.DomUtil.getStyle(g,"borderLeftWidth"),10)||0;c=i.DomUtil.getStyle(g,"position");if(g.offsetParent===d&&c==="absolute"){break}if(c==="fixed"){b+=d.scrollTop||r.scrollTop||0;f+=d.scrollLeft||r.scrollLeft||0;break}if(c==="relative"&&!g.offsetLeft){var s=i.DomUtil.getStyle(g,"width"),a=i.DomUtil.getStyle(g,"max-width"),t=g.getBoundingClientRect();if(s!=="none"||a!=="none"){f+=t.left+g.clientLeft}b+=t.top+(d.scrollTop||r.scrollTop||0);break}g=g.offsetParent}while(g);g=e;do{if(g===d){break}b-=g.scrollTop||0;f-=g.scrollLeft||0;g=g.parentNode}while(g);return new i.Point(f,b)},documentIsLtr:function(){if(!i.DomUtil._docIsLtrCached){i.DomUtil._docIsLtrCached=true;i.DomUtil._docIsLtr=i.DomUtil.getStyle(h.body,"direction")==="ltr"}return i.DomUtil._docIsLtr},create:function(c,a,d){var b=h.createElement(c);b.className=a;if(d){d.appendChild(b)}return b},hasClass:function(a,c){if(a.classList!==j){return a.classList.contains(c)}var b=i.DomUtil._getClass(a);return b.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(b)},addClass:function(f,d){if(f.classList!==j){var b=i.Util.splitWords(d);for(var c=0,e=b.length;c<e;c++){f.classList.add(b[c])}}else{if(!i.DomUtil.hasClass(f,d)){var a=i.DomUtil._getClass(f);i.DomUtil._setClass(f,(a?a+" ":"")+d)}}},removeClass:function(a,b){if(a.classList!==j){a.classList.remove(b)}else{i.DomUtil._setClass(a,i.Util.trim((" "+i.DomUtil._getClass(a)+" ").replace(" "+b+" "," ")))}},_setClass:function(a,b){if(a.className.baseVal===j){a.className=b}else{a.className.baseVal=b}},_getClass:function(a){return a.className.baseVal===j?a.className:a.className.baseVal},setOpacity:function(c,b){if("opacity" in c.style){c.style.opacity=b}else{if("filter" in c.style){var d=false,e="DXImageTransform.Microsoft.Alpha";try{d=c.filters.item(e)}catch(a){if(b===1){return}}b=Math.round(b*100);if(d){d.Enabled=(b!==100);d.Opacity=b}else{c.style.filter+=" progid:"+e+"(opacity="+b+")"}}}},testProp:function(a){var b=h.documentElement.style;for(var c=0;c<a.length;c++){if(a[c] in b){return a[c]}}return false},getTranslateString:function(d){var b=i.Browser.webkit3d,c="translate"+(b?"3d":"")+"(",a=(b?",0":"")+")";return c+d.x+"px,"+d.y+"px"+a},getScaleString:function(b,d){var a=i.DomUtil.getTranslateString(d.add(d.multiplyBy(-1*b))),c=" scale("+b+") ";return a+c},setPosition:function(a,c,b){a._leaflet_pos=c;if(!b&&i.Browser.any3d){a.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(c);if(i.Browser.mobileWebkit3d){a.style.WebkitBackfaceVisibility="hidden"}}else{a.style.left=c.x+"px";a.style.top=c.y+"px"}},getPosition:function(a){return a._leaflet_pos}};i.DomUtil.TRANSFORM=i.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);i.DomUtil.TRANSITION=i.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);i.DomUtil.TRANSITION_END=i.DomUtil.TRANSITION==="webkitTransition"||i.DomUtil.TRANSITION==="OTransition"?i.DomUtil.TRANSITION+"End":"transitionend";(function(){if("onselectstart" in h){i.extend(i.DomUtil,{disableTextSelection:function(){i.DomEvent.on(m,"selectstart",i.DomEvent.preventDefault)},enableTextSelection:function(){i.DomEvent.off(m,"selectstart",i.DomEvent.preventDefault)}})}else{var a=i.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);i.extend(i.DomUtil,{disableTextSelection:function(){if(a){var b=h.documentElement.style;this._userSelect=b[a];b[a]="none"}},enableTextSelection:function(){if(a){h.documentElement.style[a]=this._userSelect;delete this._userSelect}}})}i.extend(i.DomUtil,{disableImageDrag:function(){i.DomEvent.on(m,"dragstart",i.DomEvent.preventDefault)},enableImageDrag:function(){i.DomEvent.off(m,"dragstart",i.DomEvent.preventDefault)}})})();i.LatLng=function(a,c,b){a=parseFloat(a);c=parseFloat(c);if(isNaN(a)||isNaN(c)){throw new Error("Invalid LatLng object: ("+a+", "+c+")")}this.lat=a;this.lng=c;if(b!==j){this.alt=parseFloat(b)}};i.extend(i.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9});i.LatLng.prototype={equals:function(a){if(!a){return false}a=i.latLng(a);var b=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return b<=i.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+i.Util.formatNum(this.lat,a)+", "+i.Util.formatNum(this.lng,a)+")"},distanceTo:function(c){c=i.latLng(c);var d=6378137,g=i.LatLng.DEG_TO_RAD,b=(c.lat-this.lat)*g,t=(c.lng-this.lng)*g,e=this.lat*g,r=c.lat*g,f=Math.sin(b/2),s=Math.sin(t/2);var a=f*f+s*s*Math.cos(e)*Math.cos(r);return d*2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))},wrap:function(b,c){var a=this.lng;b=b||-180;c=c||180;a=(a+c)%(c-b)+(a<b||a===c?c:b);return new i.LatLng(this.lat,a)}};i.latLng=function(a,b){if(a instanceof i.LatLng){return a}if(i.Util.isArray(a)){if(typeof a[0]==="number"||typeof a[0]==="string"){return new i.LatLng(a[0],a[1],a[2])}else{return null}}if(a===j||a===null){return a}if(typeof a==="object"&&"lat" in a){return new i.LatLng(a.lat,"lng" in a?a.lng:a.lon)}if(b===j){return null}return new i.LatLng(a,b)};i.LatLngBounds=function(a,c){if(!a){return}var d=c?[a,c]:a;for(var b=0,e=d.length;b<e;b++){this.extend(d[b])}};i.LatLngBounds.prototype={extend:function(a){if(!a){return this}var b=i.latLng(a);if(b!==null){a=b}else{a=i.latLngBounds(a)}if(a instanceof i.LatLng){if(!this._southWest&&!this._northEast){this._southWest=new i.LatLng(a.lat,a.lng);this._northEast=new i.LatLng(a.lat,a.lng)}else{this._southWest.lat=Math.min(a.lat,this._southWest.lat);this._southWest.lng=Math.min(a.lng,this._southWest.lng);this._northEast.lat=Math.max(a.lat,this._northEast.lat);this._northEast.lng=Math.max(a.lng,this._northEast.lng)}}else{if(a instanceof i.LatLngBounds){this.extend(a._southWest);this.extend(a._northEast)}}return this},pad:function(b){var d=this._southWest,a=this._northEast,e=Math.abs(d.lat-a.lat)*b,c=Math.abs(d.lng-a.lng)*b;return new i.LatLngBounds(new i.LatLng(d.lat-e,d.lng-c),new i.LatLng(a.lat+e,a.lng+c))},getCenter:function(){return new i.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new i.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new i.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){if(typeof a[0]==="number"||a instanceof i.LatLng){a=i.latLng(a)}else{a=i.latLngBounds(a)}var e=this._southWest,b=this._northEast,d,c;if(a instanceof i.LatLngBounds){d=a.getSouthWest();c=a.getNorthEast()}else{d=c=a}return(d.lat>=e.lat)&&(c.lat<=b.lat)&&(d.lng>=e.lng)&&(c.lng<=b.lng)},intersects:function(c){c=i.latLngBounds(c);var f=this._southWest,g=this._northEast,e=c.getSouthWest(),a=c.getNorthEast(),b=(a.lat>=f.lat)&&(e.lat<=g.lat),d=(a.lng>=f.lng)&&(e.lng<=g.lng);return b&&d},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a){if(!a){return false}a=i.latLngBounds(a);return this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())},isValid:function(){return !!(this._southWest&&this._northEast)}};i.latLngBounds=function(a,b){if(!a||a instanceof i.LatLngBounds){return a}return new i.LatLngBounds(a,b)};i.Projection={};i.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(a){var c=i.LatLng.DEG_TO_RAD,e=this.MAX_LATITUDE,d=Math.max(Math.min(e,a.lat),-e),f=a.lng*c,b=d*c;b=Math.log(Math.tan((Math.PI/4)+(b/2)));return new i.Point(f,b)},unproject:function(d){var a=i.LatLng.RAD_TO_DEG,c=d.x*a,b=(2*Math.atan(Math.exp(d.y))-(Math.PI/2))*a;return new i.LatLng(b,c)}};i.Projection.LonLat={project:function(a){return new i.Point(a.lng,a.lat)},unproject:function(a){return new i.LatLng(a.y,a.x)}};i.CRS={latLngToPoint:function(a,c){var d=this.projection.project(a),b=this.scale(c);return this.transformation._transform(d,b)},pointToLatLng:function(d,b){var a=this.scale(b),c=this.transformation.untransform(d,a);return this.projection.unproject(c)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){var b=this.scale(a);return i.point(b,b)}};i.CRS.Simple=i.extend({},i.CRS,{projection:i.Projection.LonLat,transformation:new i.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}});i.CRS.EPSG3857=i.extend({},i.CRS,{code:"EPSG:3857",projection:i.Projection.SphericalMercator,transformation:new i.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(a){var b=this.projection.project(a),c=6378137;return b.multiplyBy(c)}});i.CRS.EPSG900913=i.extend({},i.CRS.EPSG3857,{code:"EPSG:900913"});i.CRS.EPSG4326=i.extend({},i.CRS,{code:"EPSG:4326",projection:i.Projection.LonLat,transformation:new i.Transformation(1/360,0.5,-1/360,0.5)});i.Map=i.Class.extend({includes:i.Mixin.Events,options:{crs:i.CRS.EPSG3857,fadeAnimation:i.DomUtil.TRANSITION&&!i.Browser.android23,trackResize:true,markerZoomAnimation:i.DomUtil.TRANSITION&&i.Browser.any3d},initialize:function(a,b){b=i.setOptions(this,b);this._initContainer(a);this._initLayout();this._onResize=i.bind(this._onResize,this);this._initEvents();if(b.maxBounds){this.setMaxBounds(b.maxBounds)}if(b.center&&b.zoom!==j){this.setView(i.latLng(b.center),b.zoom,{reset:true})}this._handlers=[];this._layers={};this._zoomBoundLayers={};this._tileLayersNum=0;this.callInitHooks();this._addLayers(b.layers)},setView:function(b,a){a=a===j?this.getZoom():a;this._resetView(i.latLng(b),this._limitZoom(a));return this},setZoom:function(a,b){if(!this._loaded){this._zoom=this._limitZoom(a);return this}return this.setView(this.getCenter(),a,{zoom:b})},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(g,a,b){var p=this.getZoomScale(a),c=this.getSize().divideBy(2),d=g instanceof i.Point?g:this.latLngToContainerPoint(g),f=d.subtract(c).multiplyBy(1-1/p),e=this.containerPointToLatLng(c.add(f));return this.setView(e,a,{zoom:b})},fitBounds:function(q,a){a=a||{};q=q.getBounds?q.getBounds():i.latLngBounds(q);var f=i.point(a.paddingTopLeft||a.padding||[0,0]),g=i.point(a.paddingBottomRight||a.padding||[0,0]),b=this.getBoundsZoom(q,false,f.add(g)),d=g.subtract(f).divideBy(2),c=this.project(q.getSouthWest(),b),e=this.project(q.getNorthEast(),b),r=this.unproject(c.add(e).divideBy(2).add(d),b);b=a&&a.maxZoom?Math.min(a.maxZoom,b):b;return this.setView(r,b,a)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(b,a){return this.setView(b,this._zoom,{pan:a})},panBy:function(a){this.fire("movestart");this._rawPanBy(i.point(a));this.fire("move");return this.fire("moveend")},setMaxBounds:function(a){a=i.latLngBounds(a);this.options.maxBounds=a;if(!a){return this.off("moveend",this._panInsideMaxBounds,this)}if(this._loaded){this._panInsideMaxBounds()}return this.on("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(a,b){var d=this.getCenter(),c=this._limitCenter(d,this._zoom,a);if(d.equals(c)){return this}return this.panTo(c,b)},addLayer:function(b){var a=i.stamp(b);if(this._layers[a]){return this}this._layers[a]=b;if(b.options&&(!isNaN(b.options.maxZoom)||!isNaN(b.options.minZoom))){this._zoomBoundLayers[a]=b;this._updateZoomLevels()}if(this.options.zoomAnimation&&i.TileLayer&&(b instanceof i.TileLayer)){this._tileLayersNum++;this._tileLayersToLoad++;b.on("load",this._onTileLayerLoad,this)}if(this._loaded){this._layerAdd(b)}return this},removeLayer:function(b){var a=i.stamp(b);if(!this._layers[a]){return this}if(this._loaded){b.onRemove(this)}delete this._layers[a];if(this._loaded){this.fire("layerremove",{layer:b})}if(this._zoomBoundLayers[a]){delete this._zoomBoundLayers[a];this._updateZoomLevels()}if(this.options.zoomAnimation&&i.TileLayer&&(b instanceof i.TileLayer)){this._tileLayersNum--;this._tileLayersToLoad--;b.off("load",this._onTileLayerLoad,this)}return this},hasLayer:function(a){if(!a){return false}return(i.stamp(a) in this._layers)},eachLayer:function(a,b){for(var c in this._layers){a.call(b,this._layers[c])}return this},invalidateSize:function(d){d=i.extend({animate:false,pan:true},d===true?{animate:true}:d);var c=this.getSize();this._sizeChanged=true;this._initialCenter=null;if(!this._loaded){return this}var e=this.getSize(),a=c.divideBy(2).round(),f=e.divideBy(2).round(),b=a.subtract(f);if(!b.x&&!b.y){return this}if(d.animate&&d.pan){this.panBy(b)}else{if(d.pan){this._rawPanBy(b)}this.fire("move");if(d.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(i.bind(this.fire,this,"moveend"),200)}else{this.fire("moveend")}}return this.fire("resize",{oldSize:c,newSize:e})},addHandler:function(c,a){if(!a){return this}var b=this[c]=new a(this);this._handlers.push(b);if(this.options[c]){b.enable()}return this},remove:function(){if(this._loaded){this.fire("unload")}this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=j}this._clearPanes();if(this._clearControlPos){this._clearControlPos()}this._clearHandlers();return this},getCenter:function(){this._checkIfLoaded();if(this._initialCenter&&!this._moved()){return this._initialCenter}return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var b=this.getPixelBounds(),c=this.unproject(b.getBottomLeft()),a=this.unproject(b.getTopRight());return new i.LatLngBounds(c,a)},getMinZoom:function(){return this.options.minZoom===j?(this._layersMinZoom===j?0:this._layersMinZoom):this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===j?(this._layersMaxZoom===j?Infinity:this._layersMaxZoom):this.options.maxZoom},getBoundsZoom:function(t,s,e){t=i.latLngBounds(t);var c=this.getMinZoom()-(s?1:0),d=this.getMaxZoom(),a=this.getSize(),g=t.getNorthWest(),f=t.getSouthEast(),r=true,b;e=i.point(e||[0,0]);do{c++;b=this.project(f,c).subtract(this.project(g,c)).add(e);r=!s?a.contains(b):b.x<a.x||b.y<a.y}while(r&&c<=d);if(r&&s){return null}return s?c:c-1},getSize:function(){if(!this._size||this._sizeChanged){this._size=new i.Point(this._container.clientWidth,this._container.clientHeight);this._sizeChanged=false}return this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new i.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/b.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+(Math.log(a)/Math.LN2)},project:function(a,b){b=b===j?this._zoom:b;return this.options.crs.latLngToPoint(i.latLng(a),b)},unproject:function(b,a){a=a===j?this._zoom:a;return this.options.crs.pointToLatLng(i.point(b),a)},layerPointToLatLng:function(b){var a=i.point(b).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){var b=this.project(i.latLng(a))._round();return b._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return i.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return i.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(b){var a=this.containerPointToLayerPoint(i.point(b));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(i.latLng(a)))},mouseEventToContainerPoint:function(a){return i.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var b=this._container=i.DomUtil.get(a);if(!b){throw new Error("Map container not found.")}else{if(b._leaflet){throw new Error("Map container is already initialized.")}}b._leaflet=true},_initLayout:function(){var a=this._container;i.DomUtil.addClass(a,"leaflet-container"+(i.Browser.touch?" leaflet-touch":"")+(i.Browser.retina?" leaflet-retina":"")+(i.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var b=i.DomUtil.getStyle(a,"position");if(b!=="absolute"&&b!=="relative"&&b!=="fixed"){a.style.position="relative"}this._initPanes();if(this._initControlPos){this._initControlPos()}},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container);this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);a.shadowPane=this._createPane("leaflet-shadow-pane");a.overlayPane=this._createPane("leaflet-overlay-pane");a.markerPane=this._createPane("leaflet-marker-pane");a.popupPane=this._createPane("leaflet-popup-pane");var b=" leaflet-zoom-hide";if(!this.options.markerZoomAnimation){i.DomUtil.addClass(a.markerPane,b);i.DomUtil.addClass(a.shadowPane,b);i.DomUtil.addClass(a.popupPane,b)}},_createPane:function(a,b){return i.DomUtil.create("div",a,b||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(a){a=a?(i.Util.isArray(a)?a:[a]):[];for(var b=0,c=a.length;b<c;b++){this.addLayer(a[b])}},_resetView:function(d,b,e,c){var f=(this._zoom!==b);if(!c){this.fire("movestart");if(f){this.fire("zoomstart")}}this._zoom=b;this._initialCenter=d;this._initialTopLeftPoint=this._getNewTopLeftPoint(d);if(!e){i.DomUtil.setPosition(this._mapPane,new i.Point(0,0))}else{this._initialTopLeftPoint._add(this._getMapPanePos())}this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=true;if(a){this.fire("load");this.eachLayer(this._layerAdd,this)}this.fire("viewreset",{hard:!e});this.fire("move");if(f||c){this.fire("zoomend")}this.fire("moveend",{hard:!e})},_rawPanBy:function(a){i.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var c,a=Infinity,e=-Infinity,b=this._getZoomSpan();for(c in this._zoomBoundLayers){var d=this._zoomBoundLayers[c];if(!isNaN(d.options.minZoom)){a=Math.min(a,d.options.minZoom)}if(!isNaN(d.options.maxZoom)){e=Math.max(e,d.options.maxZoom)}}if(c===j){this._layersMaxZoom=this._layersMinZoom=j}else{this._layersMaxZoom=e;this._layersMinZoom=a}if(b!==this._getZoomSpan()){this.fire("zoomlevelschange")}},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(c){if(!i.DomEvent){return}c=c||"on";i.DomEvent[c](this._container,"click",this._onMouseClick,this);var a=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"],b,d;for(b=0,d=a.length;b<d;b++){i.DomEvent[c](this._container,a[b],this._fireMouseEvent,this)}if(this.options.trackResize){i.DomEvent[c](m,"resize",this._onResize,this)}},_onResize:function(){i.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=i.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:true})},this,false,this._container)},_onMouseClick:function(a){if(!this._loaded||(!a._simulated&&((this.dragging&&this.dragging.moved())||(this.boxZoom&&this.boxZoom.moved())))||i.DomEvent._skipped(a)){return}this.fire("preclick");this._fireMouseEvent(a)},_fireMouseEvent:function(b){if(!this._loaded||i.DomEvent._skipped(b)){return}var c=b.type;c=(c==="mouseenter"?"mouseover":(c==="mouseleave"?"mouseout":c));if(!this.hasEventListeners(c)){return}if(c==="contextmenu"){i.DomEvent.preventDefault(b)}var d=this.mouseEventToContainerPoint(b),e=this.containerPointToLayerPoint(d),a=this.layerPointToLatLng(e);this.fire(c,{latlng:a,layerPoint:e,containerPoint:d,originalEvent:b})},_onTileLayerLoad:function(){this._tileLayersToLoad--;if(this._tileLayersNum&&!this._tileLayersToLoad){this.fire("tilelayersload")}},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++){this._handlers[a].disable()}},whenReady:function(a,b){if(this._loaded){a.call(b||this,this)}else{this.on("load",a,b)}return this},_layerAdd:function(a){a.onAdd(this);this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return i.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(c,a){var b=this.getSize()._divideBy(2);return this.project(c,a)._subtract(b)._round()},_latLngToNewLayerPoint:function(a,c,d){var b=this._getNewTopLeftPoint(d,c).add(this._getMapPanePos());return this.project(a,c)._subtract(b)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,c,d){if(!d){return f}var g=this.project(f,c),e=this.getSize().divideBy(2),b=new i.Bounds(g.subtract(e),g.add(e)),a=this._getBoundsOffset(b,d,c);return this.unproject(g.add(a),c)},_limitOffset:function(a,d){if(!d){return a}var b=this.getPixelBounds(),c=new i.Bounds(b.min.add(a),b.max.add(a));return a.add(this._getBoundsOffset(c,d))},_getBoundsOffset:function(c,e,a){var b=this.project(e.getNorthWest(),a).subtract(c.min),g=this.project(e.getSouthEast(),a).subtract(c.max),d=this._rebound(b.x,-g.x),f=this._rebound(b.y,-g.y);return new i.Point(d,f)},_rebound:function(a,b){return a+b>0?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom();return Math.max(b,Math.min(c,a))}});i.map=function(a,b){return new i.Map(a,b)};i.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(r){var c=i.LatLng.DEG_TO_RAD,x=this.MAX_LATITUDE,b=Math.max(Math.min(x,r.lat),-x),v=this.R_MAJOR,g=this.R_MINOR,w=r.lng*c*v,a=b*c,e=g/v,f=Math.sqrt(1-e*e),u=f*Math.sin(a);u=Math.pow((1-u)/(1+u),f*0.5);var d=Math.tan(0.5*((Math.PI*0.5)-a))/u;a=-v*Math.log(d);return new i.Point(w,a)},unproject:function(z){var C=i.LatLng.RAD_TO_DEG,x=this.R_MAJOR,g=this.R_MINOR,A=z.x*C/x,c=g/x,f=Math.sqrt(1-(c*c)),B=Math.exp(-z.y/x),a=(Math.PI/2)-2*Math.atan(B),e=15,y=1e-7,d=e,b=0.1,r;while((Math.abs(b)>y)&&(--d>0)){r=f*Math.sin(a);b=(Math.PI/2)-2*Math.atan(B*Math.pow((1-r)/(1+r),0.5*f))-a;a+=b}return new i.LatLng(a*C,A)}};i.CRS.EPSG3395=i.extend({},i.CRS,{code:"EPSG:3395",projection:i.Projection.Mercator,transformation:(function(){var c=i.Projection.Mercator,b=c.R_MAJOR,a=0.5/(Math.PI*b);return new i.Transformation(a,0.5,-a,0.5)}())});i.TileLayer=i.Class.extend({includes:i.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:i.Browser.mobile,updateWhenIdle:i.Browser.mobile},initialize:function(a,b){b=i.setOptions(this,b);if(b.detectRetina&&i.Browser.retina&&b.maxZoom>0){b.tileSize=Math.floor(b.tileSize/2);b.zoomOffset++;if(b.minZoom>0){b.minZoom--}this.options.maxZoom--}if(b.bounds){b.bounds=i.latLngBounds(b.bounds)}this._url=a;var c=this.options.subdomains;if(typeof c==="string"){this.options.subdomains=c.split("")}},onAdd:function(a){this._map=a;this._animated=a._zoomAnimated;this._initContainer();a.on({viewreset:this._reset,moveend:this._update},this);if(this._animated){a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this)}if(!this.options.updateWhenIdle){this._limitedUpdate=i.Util.limitExecByInterval(this._update,150,this);a.on("move",this._limitedUpdate,this)}this._reset();this._update()},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){this._container.parentNode.removeChild(this._container);a.off({viewreset:this._reset,moveend:this._update},this);if(this._animated){a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this)}if(!this.options.updateWhenIdle){a.off("move",this._limitedUpdate,this)}this._container=null;this._map=null},bringToFront:function(){var a=this._map._panes.tilePane;if(this._container){a.appendChild(this._container);this._setAutoZIndex(a,Math.max)}return this},bringToBack:function(){var a=this._map._panes.tilePane;if(this._container){a.insertBefore(this._container,a.firstChild);this._setAutoZIndex(a,Math.min)}return this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){this.options.opacity=a;if(this._map){this._updateOpacity()}return this},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},setUrl:function(b,a){this._url=b;if(!a){this.redraw()}return this},redraw:function(){if(this._map){this._reset({hard:true});this._update()}return this},_updateZIndex:function(){if(this._container&&this.options.zIndex!==j){this._container.style.zIndex=this.options.zIndex}},_setAutoZIndex:function(f,b){var a=f.children,c=-b(Infinity,-Infinity),g,d,e;for(d=0,e=a.length;d<e;d++){if(a[d]!==this._container){g=parseInt(a[d].style.zIndex,10);if(!isNaN(g)){c=b(c,g)}}}this.options.zIndex=this._container.style.zIndex=(isFinite(c)?c:0)+b(1,-1)},_updateOpacity:function(){var a,b=this._tiles;if(i.Browser.ielt9){for(a in b){i.DomUtil.setOpacity(b[a],this.options.opacity)}}else{i.DomUtil.setOpacity(this._container,this.options.opacity)}},_initContainer:function(){var b=this._map._panes.tilePane;if(!this._container){this._container=i.DomUtil.create("div","leaflet-layer");this._updateZIndex();if(this._animated){var a="leaflet-tile-container";this._bgBuffer=i.DomUtil.create("div",a,this._container);this._tileContainer=i.DomUtil.create("div",a,this._container)}else{this._tileContainer=this._container}b.appendChild(this._container);if(this.options.opacity<1){this._updateOpacity()}}},_reset:function(a){for(var b in this._tiles){this.fire("tileunload",{tile:this._tiles[b]})}this._tiles={};this._tilesToLoad=0;if(this.options.reuseTiles){this._unusedTiles=[]}this._tileContainer.innerHTML="";if(this._animated&&a&&a.hard){this._clearBgBuffer()}this._initContainer()},_getTileSize:function(){var a=this._map,c=a.getZoom()+this.options.zoomOffset,d=this.options.maxNativeZoom,b=this.options.tileSize;if(d&&c>d){b=Math.round(a.getZoomScale(c)/a.getZoomScale(d)*b)}return b},_update:function(){if(!this._map){return}var a=this._map,d=a.getPixelBounds(),e=a.getZoom(),c=this._getTileSize();if(e>this.options.maxZoom||e<this.options.minZoom){return}var b=i.bounds(d.min.divideBy(c)._floor(),d.max.divideBy(c)._floor());this._addTilesFromCenterOut(b);if(this.options.unloadInvisibleTiles||this.options.reuseTiles){this._removeOtherTiles(b)}},_addTilesFromCenterOut:function(f){var b=[],c=f.getCenter();var r,g,d;for(r=f.min.y;r<=f.max.y;r++){for(g=f.min.x;g<=f.max.x;g++){d=new i.Point(g,r);if(this._tileShouldBeLoaded(d)){b.push(d)}}}var e=b.length;if(e===0){return}b.sort(function(o,p){return o.distanceTo(c)-p.distanceTo(c)});var a=h.createDocumentFragment();if(!this._tilesToLoad){this.fire("loading")}this._tilesToLoad+=e;for(g=0;g<e;g++){this._addTile(b[g],a)}this._tileContainer.appendChild(a)},_tileShouldBeLoaded:function(a){if((a.x+":"+a.y) in this._tiles){return false}var b=this.options;if(!b.continuousWorld){var d=this._getWrapTileNum();if((b.noWrap&&(a.x<0||a.x>=d.x))||a.y<0||a.y>=d.y){return false}}if(b.bounds){var g=b.tileSize,c=a.multiplyBy(g),f=c.add([g,g]),e=this._map.unproject(c),p=this._map.unproject(f);if(!b.continuousWorld&&!b.noWrap){e=e.wrap();p=p.wrap()}if(!b.bounds.intersects([e,p])){return false}}return true},_removeOtherTiles:function(b){var c,e,a,d;for(d in this._tiles){c=d.split(":");e=parseInt(c[0],10);a=parseInt(c[1],10);if(e<b.min.x||e>b.max.x||a<b.min.y||a>b.max.y){this._removeTile(d)}}},_removeTile:function(b){var a=this._tiles[b];this.fire("tileunload",{tile:a,url:a.src});if(this.options.reuseTiles){i.DomUtil.removeClass(a,"leaflet-tile-loaded");this._unusedTiles.push(a)}else{if(a.parentNode===this._tileContainer){this._tileContainer.removeChild(a)}}if(!i.Browser.android){a.onload=null;a.src=i.Util.emptyImageUrl}delete this._tiles[b]},_addTile:function(b,d){var c=this._getTilePos(b);var a=this._getTile();i.DomUtil.setPosition(a,c,i.Browser.chrome||i.Browser.android23);this._tiles[b.x+":"+b.y]=a;this._loadTile(a,b);if(a.parentNode!==this._tileContainer){d.appendChild(a)}},_getZoomForUrl:function(){var b=this.options,a=this._map.getZoom();if(b.zoomReverse){a=b.maxZoom-a}a+=b.zoomOffset;return b.maxNativeZoom?Math.min(a,b.maxNativeZoom):a},_getTilePos:function(b){var c=this._map.getPixelOrigin(),a=this._getTileSize();return b.multiplyBy(a).subtract(c)},getTileUrl:function(a){return i.Util.template(this._url,i.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){var b=this._map.options.crs,a=b.getSize(this._map.getZoom());return a.divideBy(this.options.tileSize)},_adjustTilePoint:function(a){var b=this._getWrapTileNum();if(!this.options.continuousWorld&&!this.options.noWrap){a.x=((a.x%b.x)+b.x)%b.x}if(this.options.tms){a.y=b.y-a.y-1}a.z=this._getZoomForUrl()},_getSubdomain:function(a){var b=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[b]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var a=this._unusedTiles.pop();this._resetTile(a);return a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=i.DomUtil.create("img","leaflet-tile");a.style.width=a.style.height=this._getTileSize()+"px";a.galleryimg="no";a.onselectstart=a.onmousemove=i.Util.falseFn;if(i.Browser.ielt9&&this.options.opacity!==j){i.DomUtil.setOpacity(a,this.options.opacity)}if(i.Browser.mobileWebkit3d){a.style.WebkitBackfaceVisibility="hidden"}return a},_loadTile:function(a,b){a._layer=this;a.onload=this._tileOnLoad;a.onerror=this._tileOnError;this._adjustTilePoint(b);a.src=this.getTileUrl(b);this.fire("tileloadstart",{tile:a,url:a.src})},_tileLoaded:function(){this._tilesToLoad--;if(this._animated){i.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated")}if(!this._tilesToLoad){this.fire("load");if(this._animated){clearTimeout(this._clearBgBufferTimer);this._clearBgBufferTimer=setTimeout(i.bind(this._clearBgBuffer,this),500)}}},_tileOnLoad:function(){var a=this._layer;if(this.src!==i.Util.emptyImageUrl){i.DomUtil.addClass(this,"leaflet-tile-loaded");a.fire("tileload",{tile:this,url:this.src})}a._tileLoaded()},_tileOnError:function(){var b=this._layer;b.fire("tileerror",{tile:this,url:this.src});var a=b.options.errorTileUrl;if(a){this.src=a}b._tileLoaded()}});i.tileLayer=function(a,b){return new i.TileLayer(a,b)};i.TileLayer.WMS=i.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:false},initialize:function(c,d){this._url=c;var e=i.extend({},this.defaultWmsParams),a=d.tileSize||this.options.tileSize;if(d.detectRetina&&i.Browser.retina){e.width=e.height=a*2}else{e.width=e.height=a}for(var b in d){if(!this.options.hasOwnProperty(b)&&b!=="crs"){e[b]=d[b]}}this.wmsParams=e;i.setOptions(this,d)},onAdd:function(b){this._crs=this.options.crs||b.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code;i.TileLayer.prototype.onAdd.call(this,b)},getTileUrl:function(g){var q=this._map,a=this.options.tileSize,b=g.multiplyBy(a),d=b.add([a,a]),f=this._crs.project(q.unproject(b,g.z)),e=this._crs.project(q.unproject(d,g.z)),c=this._wmsVersion>=1.3&&this._crs===i.CRS.EPSG4326?[e.y,f.x,f.y,e.x].join(","):[f.x,e.y,e.x,f.y].join(","),r=i.Util.template(this._url,{s:this._getSubdomain(g)});return r+i.Util.getParamString(this.wmsParams,r,true)+"&BBOX="+c},setParams:function(a,b){i.extend(this.wmsParams,a);if(!b){this.redraw()}return this}});i.tileLayer.wms=function(a,b){return new i.TileLayer.WMS(a,b)};i.TileLayer.Canvas=i.TileLayer.extend({options:{async:false},initialize:function(a){i.setOptions(this,a)},redraw:function(){if(this._map){this._reset({hard:true});this._update()}for(var a in this._tiles){this._redrawTile(this._tiles[a])}return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=i.DomUtil.create("canvas","leaflet-tile");a.width=a.height=this.options.tileSize;a.onselectstart=a.onmousemove=i.Util.falseFn;return a},_loadTile:function(a,b){a._layer=this;a._tilePoint=b;this._redrawTile(a);if(!this.options.async){this.tileDrawn(a)}},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}});i.tileLayer.canvas=function(a){return new i.TileLayer.Canvas(a)};i.ImageOverlay=i.Class.extend({includes:i.Mixin.Events,options:{opacity:1},initialize:function(b,a,c){this._url=b;this._bounds=i.latLngBounds(a);i.setOptions(this,c)},onAdd:function(a){this._map=a;if(!this._image){this._initImage()}a._panes.overlayPane.appendChild(this._image);a.on("viewreset",this._reset,this);if(a.options.zoomAnimation&&i.Browser.any3d){a.on("zoomanim",this._animateZoom,this)}this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image);a.off("viewreset",this._reset,this);if(a.options.zoomAnimation){a.off("zoomanim",this._animateZoom,this)}},addTo:function(a){a.addLayer(this);return this},setOpacity:function(a){this.options.opacity=a;this._updateOpacity();return this},bringToFront:function(){if(this._image){this._map._panes.overlayPane.appendChild(this._image)}return this},bringToBack:function(){var a=this._map._panes.overlayPane;if(this._image){a.insertBefore(this._image,a.firstChild)}return this},setUrl:function(a){this._url=a;this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=i.DomUtil.create("img","leaflet-image-layer");if(this._map.options.zoomAnimation&&i.Browser.any3d){i.DomUtil.addClass(this._image,"leaflet-zoom-animated")}else{i.DomUtil.addClass(this._image,"leaflet-zoom-hide")}this._updateOpacity();i.extend(this._image,{galleryimg:"no",onselectstart:i.Util.falseFn,onmousemove:i.Util.falseFn,onload:i.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(e){var r=this._map,g=this._image,q=r.getZoomScale(e.zoom),f=this._bounds.getNorthWest(),d=this._bounds.getSouthEast(),b=r._latLngToNewLayerPoint(f,e.zoom,e.center),a=r._latLngToNewLayerPoint(d,e.zoom,e.center)._subtract(b),c=b._add(a._multiplyBy((1/2)*(1-1/q)));g.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(c)+" scale("+q+") "},_reset:function(){var a=this._image,b=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),c=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(b);i.DomUtil.setPosition(a,b);a.style.width=c.x+"px";a.style.height=c.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){i.DomUtil.setOpacity(this._image,this.options.opacity)}});i.imageOverlay=function(b,a,c){return new i.ImageOverlay(b,a,c)};i.Icon=i.Class.extend({options:{className:""},initialize:function(a){i.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(c,b){var a=this._getIconUrl(c);if(!a){if(c==="icon"){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var d;if(!b||b.tagName!=="IMG"){d=this._createImg(a)}else{d=this._createImg(a,b)}this._setIconStyles(d,c);return d},_setIconStyles:function(e,b){var c=this.options,a=i.point(c[b+"Size"]),d;if(b==="shadow"){d=i.point(c.shadowAnchor||c.iconAnchor)}else{d=i.point(c.iconAnchor)}if(!d&&a){d=a.divideBy(2,true)}e.className="leaflet-marker-"+b+" "+c.className;if(d){e.style.marginLeft=(-d.x)+"px";e.style.marginTop=(-d.y)+"px"}if(a){e.style.width=a.x+"px";e.style.height=a.y+"px"}},_createImg:function(a,b){b=b||h.createElement("img");b.src=a;return b},_getIconUrl:function(a){if(i.Browser.retina&&this.options[a+"RetinaUrl"]){return this.options[a+"RetinaUrl"]}return this.options[a+"Url"]}});i.icon=function(a){return new i.Icon(a)};i.Icon.Default=i.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(c){var b=c+"Url";if(this.options[b]){return this.options[b]}if(i.Browser.retina&&c==="icon"){c+="-2x"}var a=i.Icon.Default.imagePath;if(!a){throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.")}return a+"/marker-"+c+".png"}});i.Icon.Default.imagePath=(function(){var d=h.getElementsByTagName("script"),b=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;var c,e,f,a,g;for(c=0,e=d.length;c<e;c++){f=d[c].src;a=f.match(b);if(a){g=f.split(b)[0];return(g?g+"/":"")+"images"}}}());i.Marker=i.Class.extend({includes:i.Mixin.Events,options:{icon:new i.Icon.Default(),title:"",alt:"",clickable:true,draggable:false,keyboard:true,zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250},initialize:function(a,b){i.setOptions(this,b);this._latlng=i.latLng(a)},onAdd:function(a){this._map=a;a.on("viewreset",this.update,this);this._initIcon();this.update();this.fire("add");if(a.options.zoomAnimation&&a.options.markerZoomAnimation){a.on("zoomanim",this._animateZoom,this)}},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){if(this.dragging){this.dragging.disable()}this._removeIcon();this._removeShadow();this.fire("remove");a.off({viewreset:this.update,zoomanim:this._animateZoom},this);this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=i.latLng(a);this.update();return this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){this.options.zIndexOffset=a;this.update();return this},setIcon:function(a){this.options.icon=a;if(this._map){this._initIcon();this.update()}if(this._popup){this.bindPopup(this._popup)}return this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var b=this.options,r=this._map,f=(r.options.zoomAnimation&&r.options.markerZoomAnimation),g=f?"leaflet-zoom-animated":"leaflet-zoom-hide";var c=b.icon.createIcon(this._icon),e=false;if(c!==this._icon){if(this._icon){this._removeIcon()}e=true;if(b.title){c.title=b.title}if(b.alt){c.alt=b.alt}}i.DomUtil.addClass(c,g);if(b.keyboard){c.tabIndex="0"}this._icon=c;this._initInteraction();if(b.riseOnHover){i.DomEvent.on(c,"mouseover",this._bringToFront,this).on(c,"mouseout",this._resetZIndex,this)}var a=b.icon.createShadow(this._shadow),q=false;if(a!==this._shadow){this._removeShadow();q=true}if(a){i.DomUtil.addClass(a,g)}this._shadow=a;if(b.opacity<1){this._updateOpacity()}var d=this._map._panes;if(e){d.markerPane.appendChild(this._icon)}if(a&&q){d.shadowPane.appendChild(this._shadow)}},_removeIcon:function(){if(this.options.riseOnHover){i.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex)}this._map._panes.markerPane.removeChild(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow){this._map._panes.shadowPane.removeChild(this._shadow)}this._shadow=null},_setPos:function(a){i.DomUtil.setPosition(this._icon,a);if(this._shadow){i.DomUtil.setPosition(this._shadow,a)}this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(b){var a=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center).round();this._setPos(a)},_initInteraction:function(){if(!this.options.clickable){return}var a=this._icon,b=["dblclick","mousedown","mouseover","mouseout","contextmenu"];i.DomUtil.addClass(a,"leaflet-clickable");i.DomEvent.on(a,"click",this._onMouseClick,this);i.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var c=0;c<b.length;c++){i.DomEvent.on(a,b[c],this._fireMouseEvent,this)}if(i.Handler.MarkerDrag){this.dragging=new i.Handler.MarkerDrag(this);if(this.options.draggable){this.dragging.enable()}}},_onMouseClick:function(a){var b=this.dragging&&this.dragging.moved();if(this.hasEventListeners(a.type)||b){i.DomEvent.stopPropagation(a)}if(b){return}if((!this.dragging||!this.dragging._enabled)&&this._map.dragging&&this._map.dragging.moved()){return}this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){if(a.keyCode===13){this.fire("click",{originalEvent:a,latlng:this._latlng})}},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng});if(a.type==="contextmenu"&&this.hasEventListeners(a.type)){i.DomEvent.preventDefault(a)}if(a.type!=="mousedown"){i.DomEvent.stopPropagation(a)}else{i.DomEvent.preventDefault(a)}},setOpacity:function(a){this.options.opacity=a;if(this._map){this._updateOpacity()}return this},_updateOpacity:function(){i.DomUtil.setOpacity(this._icon,this.options.opacity);if(this._shadow){i.DomUtil.setOpacity(this._shadow,this.options.opacity)}},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});i.marker=function(a,b){return new i.Marker(a,b)};i.DivIcon=i.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:false},createIcon:function(b){var a=(b&&b.tagName==="DIV")?b:h.createElement("div"),c=this.options;if(c.html!==false){a.innerHTML=c.html}else{a.innerHTML=""}if(c.bgPos){a.style.backgroundPosition=(-c.bgPos.x)+"px "+(-c.bgPos.y)+"px"}this._setIconStyles(a,"icon");return a},createShadow:function(){return null}});i.divIcon=function(a){return new i.DivIcon(a)};i.Map.mergeOptions({closePopupOnClick:true});i.Popup=i.Class.extend({includes:i.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:true,closeButton:true,offset:[0,7],autoPanPadding:[5,5],keepInView:false,className:"",zoomAnimation:true},initialize:function(b,a){i.setOptions(this,b);this._source=a;this._animated=i.Browser.any3d&&this.options.zoomAnimation;this._isOpen=false},onAdd:function(a){this._map=a;if(!this._container){this._initLayout()}var b=a.options.fadeAnimation;if(b){i.DomUtil.setOpacity(this._container,0)}a._panes.popupPane.appendChild(this._container);a.on(this._getEvents(),this);this.update();if(b){i.DomUtil.setOpacity(this._container,1)}this.fire("open");a.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this})}},addTo:function(a){a.addLayer(this);return this},openOn:function(a){a.openPopup(this);return this},onRemove:function(a){a._panes.popupPane.removeChild(this._container);i.Util.falseFn(this._container.offsetWidth);a.off(this._getEvents(),this);if(a.options.fadeAnimation){i.DomUtil.setOpacity(this._container,0)}this._map=null;this.fire("close");a.fire("popupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this})}},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=i.latLng(a);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return this._content},setContent:function(a){this._content=a;this.update();return this},update:function(){if(!this._map){return}this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},_getEvents:function(){var a={viewreset:this._updatePosition};if(this._animated){a.zoomanim=this._zoomAnimation}if("closeOnClick" in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick){a.preclick=this._close}if(this.options.keepInView){a.moveend=this._adjustPan}return a},_close:function(){if(this._map){this._map.closePopup(this)}},_initLayout:function(){var c="leaflet-popup",b=c+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),e=this._container=i.DomUtil.create("div",b),d;if(this.options.closeButton){d=this._closeButton=i.DomUtil.create("a",c+"-close-button",e);d.href="#close";d.innerHTML="&#215;";i.DomEvent.disableClickPropagation(d);i.DomEvent.on(d,"click",this._onCloseButtonClick,this)}var a=this._wrapper=i.DomUtil.create("div",c+"-content-wrapper",e);i.DomEvent.disableClickPropagation(a);this._contentNode=i.DomUtil.create("div",c+"-content",a);i.DomEvent.disableScrollPropagation(this._contentNode);i.DomEvent.on(a,"contextmenu",i.DomEvent.stopPropagation);this._tipContainer=i.DomUtil.create("div",c+"-tip-container",e);this._tip=i.DomUtil.create("div",c+"-tip",this._tipContainer)},_updateContent:function(){if(!this._content){return}if(typeof this._content==="string"){this._contentNode.innerHTML=this._content}else{while(this._contentNode.hasChildNodes()){this._contentNode.removeChild(this._contentNode.firstChild)}this._contentNode.appendChild(this._content)}this.fire("contentupdate")},_updateLayout:function(){var e=this._contentNode,c=e.style;c.width="";c.whiteSpace="nowrap";var d=e.offsetWidth;d=Math.min(d,this.options.maxWidth);d=Math.max(d,this.options.minWidth);c.width=(d+1)+"px";c.whiteSpace="";c.height="";var f=e.offsetHeight,b=this.options.maxHeight,a="leaflet-popup-scrolled";if(b&&f>b){c.height=b+"px";i.DomUtil.addClass(e,a)}else{i.DomUtil.removeClass(e,a)}this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(!this._map){return}var a=this._map.latLngToLayerPoint(this._latlng),c=this._animated,b=i.point(this.options.offset);if(c){i.DomUtil.setPosition(this._container,a)}this._containerBottom=-b.y-(c?0:a.y);this._containerLeft=-Math.round(this._containerWidth/2)+b.x+(c?0:a.x);this._container.style.bottom=this._containerBottom+"px";this._container.style.left=this._containerLeft+"px"},_zoomAnimation:function(b){var a=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center);i.DomUtil.setPosition(this._container,a)},_adjustPan:function(){if(!this.options.autoPan){return}var u=this._map,a=this._container.offsetHeight,e=this._containerWidth,g=new i.Point(this._containerLeft,-a-this._containerBottom);if(this._animated){g._add(i.DomUtil.getPosition(this._container))}var s=u.layerPointToContainerPoint(g),f=i.point(this.options.autoPanPadding),t=i.point(this.options.autoPanPaddingTopLeft||f),v=i.point(this.options.autoPanPaddingBottomRight||f),b=u.getSize(),c=0,d=0;if(s.x+e+v.x>b.x){c=s.x+e-b.x+v.x}if(s.x-c-t.x<0){c=s.x-t.x}if(s.y+a+v.y>b.y){d=s.y+a-b.y+v.y}if(s.y-d-t.y<0){d=s.y-t.y}if(c||d){u.fire("autopanstart").panBy([c,d])}},_onCloseButtonClick:function(a){this._close();i.DomEvent.stop(a)}});i.popup=function(b,a){return new i.Popup(b,a)};i.Map.include({openPopup:function(d,a,c){this.closePopup();if(!(d instanceof i.Popup)){var b=d;d=new i.Popup(c).setLatLng(a).setContent(b)}d._isOpen=true;this._popup=d;return this.addLayer(d)},closePopup:function(a){if(!a||a===this._popup){a=this._popup;this._popup=null}if(a){this.removeLayer(a);a._isOpen=false}return this}});i.Marker.include({openPopup:function(){if(this._popup&&this._map&&!this._map.hasLayer(this._popup)){this._popup.setLatLng(this._latlng);this._map.openPopup(this._popup)}return this},closePopup:function(){if(this._popup){this._popup._close()}return this},togglePopup:function(){if(this._popup){if(this._popup._isOpen){this.closePopup()}else{this.openPopup()}}return this},bindPopup:function(a,b){var c=i.point(this.options.icon.options.popupAnchor||[0,0]);c=c.add(i.Popup.prototype.options.offset);if(b&&b.offset){c=c.add(b.offset)}b=i.extend({offset:c},b);if(!this._popupHandlersAdded){this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this);this._popupHandlersAdded=true}if(a instanceof i.Popup){i.setOptions(a,b);this._popup=a}else{this._popup=new i.Popup(b,this).setContent(a)}return this},setPopupContent:function(a){if(this._popup){this._popup.setContent(a)}return this},unbindPopup:function(){if(this._popup){this._popup=null;this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this);this._popupHandlersAdded=false}return this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}});i.LayerGroup=i.Class.extend({initialize:function(a){this._layers={};var b,c;if(a){for(b=0,c=a.length;b<c;b++){this.addLayer(a[b])}}},addLayer:function(b){var a=this.getLayerId(b);this._layers[a]=b;if(this._map){this._map.addLayer(b)}return this},removeLayer:function(b){var a=b in this._layers?b:this.getLayerId(b);if(this._map&&this._layers[a]){this._map.removeLayer(this._layers[a])}delete this._layers[a];return this},hasLayer:function(a){if(!a){return false}return(a in this._layers||this.getLayerId(a) in this._layers)},clearLayers:function(){this.eachLayer(this.removeLayer,this);return this},invoke:function(d){var c=Array.prototype.slice.call(arguments,1),a,b;for(a in this._layers){b=this._layers[a];if(b[d]){b[d].apply(b,c)}}return this},onAdd:function(a){this._map=a;this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a);this._map=null},addTo:function(a){a.addLayer(this);return this},eachLayer:function(a,b){for(var c in this._layers){a.call(b,this._layers[c])}return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var b in this._layers){a.push(this._layers[b])}return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return i.stamp(a)}});i.layerGroup=function(a){return new i.LayerGroup(a)};i.FeatureGroup=i.LayerGroup.extend({includes:i.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){if(this.hasLayer(a)){return this}if("on" in a){a.on(i.FeatureGroup.EVENTS,this._propagateEvent,this)}i.LayerGroup.prototype.addLayer.call(this,a);if(this._popupContent&&a.bindPopup){a.bindPopup(this._popupContent,this._popupOptions)}return this.fire("layeradd",{layer:a})},removeLayer:function(a){if(!this.hasLayer(a)){return this}if(a in this._layers){a=this._layers[a]}a.off(i.FeatureGroup.EVENTS,this._propagateEvent,this);i.LayerGroup.prototype.removeLayer.call(this,a);if(this._popupContent){this.invoke("unbindPopup")}return this.fire("layerremove",{layer:a})},bindPopup:function(a,b){this._popupContent=a;this._popupOptions=b;return this.invoke("bindPopup",a,b)},openPopup:function(a){for(var b in this._layers){this._layers[b].openPopup(a);break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new i.LatLngBounds();this.eachLayer(function(b){a.extend(b instanceof i.Marker?b.getLatLng():b.getBounds())});return a},_propagateEvent:function(a){a=i.extend({},a,{layer:a.target,target:this});this.fire(a.type,a)}});i.featureGroup=function(a){return new i.FeatureGroup(a)};i.Path=i.Class.extend({includes:[i.Mixin.Events],statics:{CLIP_PADDING:(function(){var b=i.Browser.mobile?1280:2000,a=(b/Math.max(m.outerWidth,m.outerHeight)-1)/2;return Math.max(0,Math.min(0.5,a))})()},options:{stroke:true,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:0.5,fill:false,fillColor:null,fillOpacity:0.2,clickable:true},initialize:function(a){i.setOptions(this,a)},onAdd:function(a){this._map=a;if(!this._container){this._initElements();this._initEvents()}this.projectLatlngs();this._updatePath();if(this._container){this._map._pathRoot.appendChild(this._container)}this.fire("add");a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){a._pathRoot.removeChild(this._container);this.fire("remove");this._map=null;if(i.Browser.vml){this._container=null;this._stroke=null;this._fill=null}a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){i.setOptions(this,a);if(this._container){this._updateStyle()}return this},redraw:function(){if(this._map){this.projectLatlngs();this._updatePath()}return this}});i.Map.include({_updatePathViewport:function(){var a=i.Path.CLIP_PADDING,b=this.getSize(),d=i.DomUtil.getPosition(this._mapPane),c=d.multiplyBy(-1)._subtract(b.multiplyBy(a)._round()),e=c.add(b.multiplyBy(1+a*2)._round());this._pathViewport=new i.Bounds(c,e)}});i.Path.SVG_NS="http://www.w3.org/2000/svg";i.Browser.svg=!!(h.createElementNS&&h.createElementNS(i.Path.SVG_NS,"svg").createSVGRect);i.Path=i.Path.extend({statics:{SVG:i.Browser.svg},bringToFront:function(){var b=this._map._pathRoot,a=this._container;if(a&&b.lastChild!==a){b.appendChild(a)}return this},bringToBack:function(){var c=this._map._pathRoot,b=this._container,a=c.firstChild;if(b&&a!==b){c.insertBefore(b,a)}return this},getPathString:function(){},_createElement:function(a){return h.createElementNS(i.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot();this._initPath();this._initStyle()},_initPath:function(){this._container=this._createElement("g");this._path=this._createElement("path");if(this.options.className){i.DomUtil.addClass(this._path,this.options.className)}this._container.appendChild(this._path)},_initStyle:function(){if(this.options.stroke){this._path.setAttribute("stroke-linejoin","round");this._path.setAttribute("stroke-linecap","round")}if(this.options.fill){this._path.setAttribute("fill-rule","evenodd")}if(this.options.pointerEvents){this._path.setAttribute("pointer-events",this.options.pointerEvents)}if(!this.options.clickable&&!this.options.pointerEvents){this._path.setAttribute("pointer-events","none")}this._updateStyle()},_updateStyle:function(){if(this.options.stroke){this._path.setAttribute("stroke",this.options.color);this._path.setAttribute("stroke-opacity",this.options.opacity);this._path.setAttribute("stroke-width",this.options.weight);if(this.options.dashArray){this._path.setAttribute("stroke-dasharray",this.options.dashArray)}else{this._path.removeAttribute("stroke-dasharray")}if(this.options.lineCap){this._path.setAttribute("stroke-linecap",this.options.lineCap)}if(this.options.lineJoin){this._path.setAttribute("stroke-linejoin",this.options.lineJoin)}}else{this._path.setAttribute("stroke","none")}if(this.options.fill){this._path.setAttribute("fill",this.options.fillColor||this.options.color);this._path.setAttribute("fill-opacity",this.options.fillOpacity)}else{this._path.setAttribute("fill","none")}},_updatePath:function(){var a=this.getPathString();if(!a){a="M0 0"}this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){if(i.Browser.svg||!i.Browser.vml){i.DomUtil.addClass(this._path,"leaflet-clickable")}i.DomEvent.on(this._container,"click",this._onMouseClick,this);var a=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"];for(var b=0;b<a.length;b++){i.DomEvent.on(this._container,a[b],this._fireMouseEvent,this)}}},_onMouseClick:function(a){if(this._map.dragging&&this._map.dragging.moved()){return}this._fireMouseEvent(a)},_fireMouseEvent:function(b){if(!this.hasEventListeners(b.type)){return}var c=this._map,d=c.mouseEventToContainerPoint(b),e=c.containerPointToLayerPoint(d),a=c.layerPointToLatLng(e);this.fire(b.type,{latlng:a,layerPoint:e,containerPoint:d,originalEvent:b});if(b.type==="contextmenu"){i.DomEvent.preventDefault(b)}if(b.type!=="mousemove"){i.DomEvent.stopPropagation(b)}}});i.Map.include({_initPathRoot:function(){if(!this._pathRoot){this._pathRoot=i.Path.prototype._createElement("svg");this._panes.overlayPane.appendChild(this._pathRoot);if(this.options.zoomAnimation&&i.Browser.any3d){i.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated");this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})}else{i.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide")}this.on("moveend",this._updateSvgViewport);this._updateSvgViewport()}},_animatePathZoom:function(c){var a=this.getZoomScale(c.zoom),b=this._getCenterOffset(c.center)._multiplyBy(-a)._add(this._pathViewport.min);this._pathRoot.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(b)+" scale("+a+") ";this._pathZooming=true},_endPathZoom:function(){this._pathZooming=false},_updateSvgViewport:function(){if(this._pathZooming){return}this._updatePathViewport();var c=this._pathViewport,b=c.min,e=c.max,a=e.x-b.x,f=e.y-b.y,d=this._pathRoot,g=this._panes.overlayPane;if(i.Browser.mobileWebkit){g.removeChild(d)}i.DomUtil.setPosition(d,b);d.setAttribute("width",a);d.setAttribute("height",f);d.setAttribute("viewBox",[b.x,b.y,a,f].join(" "));if(i.Browser.mobileWebkit){g.appendChild(d)}}});i.Path.include({bindPopup:function(a,b){if(a instanceof i.Popup){this._popup=a}else{if(!this._popup||b){this._popup=new i.Popup(b,this)}this._popup.setContent(a)}if(!this._popupHandlersAdded){this.on("click",this._openPopup,this).on("remove",this.closePopup,this);this._popupHandlersAdded=true}return this},unbindPopup:function(){if(this._popup){this._popup=null;this.off("click",this._openPopup).off("remove",this.closePopup);this._popupHandlersAdded=false}return this},openPopup:function(a){if(this._popup){a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)];this._openPopup({latlng:a})}return this},closePopup:function(){if(this._popup){this._popup._close()}return this},_openPopup:function(a){this._popup.setLatLng(a.latlng);this._map.openPopup(this._popup)}});i.Browser.vml=!i.Browser.svg&&(function(){try{var a=h.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;c.style.behavior="url(#default#VML)";return c&&(typeof c.adj==="object")}catch(b){return false}}());i.Path=i.Browser.svg||!i.Browser.vml?i.Path:i.Path.extend({statics:{VML:true,CLIP_PADDING:0.02},_createElement:(function(){try{h.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(b){return h.createElement("<lvml:"+b+' class="lvml">')}}catch(a){return function(b){return h.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),_initPath:function(){var a=this._container=this._createElement("shape");i.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:""));if(this.options.clickable){i.DomUtil.addClass(a,"leaflet-clickable")}a.coordsize="1 1";this._path=this._createElement("path");a.appendChild(this._path);this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,b=this._fill,c=this.options,d=this._container;d.stroked=c.stroke;d.filled=c.fill;if(c.stroke){if(!a){a=this._stroke=this._createElement("stroke");a.endcap="round";d.appendChild(a)}a.weight=c.weight+"px";a.color=c.color;a.opacity=c.opacity;if(c.dashArray){a.dashStyle=i.Util.isArray(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," ")}else{a.dashStyle=""}if(c.lineCap){a.endcap=c.lineCap.replace("butt","flat")}if(c.lineJoin){a.joinstyle=c.lineJoin}}else{if(a){d.removeChild(a);this._stroke=null}}if(c.fill){if(!b){b=this._fill=this._createElement("fill");d.appendChild(b)}b.color=c.fillColor||c.color;b.opacity=c.fillOpacity}else{if(b){d.removeChild(b);this._fill=null}}},_updatePath:function(){var a=this._container.style;a.display="none";this._path.v=this.getPathString()+" ";a.display=""}});i.Map.include(i.Browser.svg||!i.Browser.vml?{}:{_initPathRoot:function(){if(this._pathRoot){return}var a=this._pathRoot=h.createElement("div");a.className="leaflet-vml-container";this._panes.overlayPane.appendChild(a);this.on("moveend",this._updatePathViewport);this._updatePathViewport()}});i.Browser.canvas=(function(){return !!h.createElement("canvas").getContext}());i.Path=(i.Path.SVG&&!m.L_PREFER_CANVAS)||!i.Browser.canvas?i.Path:i.Path.extend({statics:{CANVAS:true,SVG:false},redraw:function(){if(this._map){this.projectLatlngs();this._requestUpdate()}return this},setStyle:function(a){i.setOptions(this,a);if(this._map){this._updateStyle();this._requestUpdate()}return this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this);if(this.options.clickable){this._map.off("click",this._onClick,this);this._map.off("mousemove",this._onMouseMove,this)}this._requestUpdate();this._map=null},_requestUpdate:function(){if(this._map&&!i.Path._updateRequest){i.Path._updateRequest=i.Util.requestAnimFrame(this._fireMapMoveEnd,this._map)}},_fireMapMoveEnd:function(){i.Path._updateRequest=null;this.fire("moveend")},_initElements:function(){this._map._initPathRoot();this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;if(a.stroke){this._ctx.lineWidth=a.weight;this._ctx.strokeStyle=a.color}if(a.fill){this._ctx.fillStyle=a.fillColor||a.color}},_drawPath:function(){var e,f,c,b,d,a;this._ctx.beginPath();for(e=0,c=this._parts.length;e<c;e++){for(f=0,b=this._parts[e].length;f<b;f++){d=this._parts[e][f];a=(f===0?"move":"line")+"To";this._ctx[a](d.x,d.y)}if(this instanceof i.Polygon){this._ctx.closePath()}}},_checkIfEmpty:function(){return !this._parts.length},_updatePath:function(){if(this._checkIfEmpty()){return}var b=this._ctx,a=this.options;this._drawPath();b.save();this._updateStyle();if(a.fill){b.globalAlpha=a.fillOpacity;b.fill()}if(a.stroke){b.globalAlpha=a.opacity;b.stroke()}b.restore()},_initEvents:function(){if(this.options.clickable){this._map.on("mousemove",this._onMouseMove,this);this._map.on("click",this._onClick,this)}},_onClick:function(a){if(this._containsPoint(a.layerPoint)){this.fire("click",a)}},_onMouseMove:function(a){if(!this._map||this._map._animatingZoom){return}if(this._containsPoint(a.layerPoint)){this._ctx.canvas.style.cursor="pointer";this._mouseInside=true;this.fire("mouseover",a)}else{if(this._mouseInside){this._ctx.canvas.style.cursor="";this._mouseInside=false;this.fire("mouseout",a)}}}});i.Map.include((i.Path.SVG&&!m.L_PREFER_CANVAS)||!i.Browser.canvas?{}:{_initPathRoot:function(){var a=this._pathRoot,b;if(!a){a=this._pathRoot=h.createElement("canvas");a.style.position="absolute";b=this._canvasCtx=a.getContext("2d");b.lineCap="round";b.lineJoin="round";this._panes.overlayPane.appendChild(a);if(this.options.zoomAnimation){this._pathRoot.className="leaflet-zoom-animated";this.on("zoomanim",this._animatePathZoom);this.on("zoomend",this._endPathZoom)}this.on("moveend",this._updateCanvasViewport);this._updateCanvasViewport()}},_updateCanvasViewport:function(){if(this._pathZooming){return}this._updatePathViewport();var c=this._pathViewport,a=c.min,b=c.max.subtract(a),d=this._pathRoot;i.DomUtil.setPosition(d,a);d.width=b.x;d.height=b.y;d.getContext("2d").translate(-a.x,-a.y)}});i.LineUtil={simplify:function(a,c){if(!c||!a.length){return a.slice()}var b=c*c;a=this._reducePoints(a,b);a=this._simplifyDP(a,b);return a},pointToSegmentDistance:function(b,a,c){return Math.sqrt(this._sqClosestPointOnSegment(b,a,c,true))},closestPointOnSegment:function(b,a,c){return this._sqClosestPointOnSegment(b,a,c)},_simplifyDP:function(a,d){var e=a.length,b=typeof Uint8Array!==j+""?Uint8Array:Array,f=new b(e);f[0]=f[e-1]=1;this._simplifyDPStep(a,f,d,0,e-1);var c,g=[];for(c=0;c<e;c++){if(f[c]){g.push(a[c])}}return g},_simplifyDPStep:function(a,r,s,d,b){var g=0,c,f,e;for(f=d+1;f<=b-1;f++){e=this._sqClosestPointOnSegment(a[f],a[d],a[b],true);if(e>g){c=f;g=e}}if(g>s){r[c]=1;this._simplifyDPStep(a,r,s,d,c);this._simplifyDPStep(a,r,s,c,b)}},_reducePoints:function(b,d){var f=[b[0]];for(var c=1,a=0,e=b.length;c<e;c++){if(this._sqDist(b[c],b[a])>d){f.push(b[c]);a=c}}if(a<e-1){f.push(b[e-1])}return f},clipSegment:function(b,c,r,a){var e=a?this._lastCode:this._getBitCode(b,r),g=this._getBitCode(c,r),f,p,d;this._lastCode=g;while(true){if(!(e|g)){return[b,c]}else{if(e&g){return false}else{f=e||g;p=this._getEdgeIntersection(b,c,f,r);d=this._getBitCode(p,r);if(f===e){b=p;e=d}else{c=p;g=d}}}}},_getEdgeIntersection:function(c,e,g,p){var b=e.x-c.x,d=e.y-c.y,a=p.min,f=p.max;if(g&8){return new i.Point(c.x+b*(f.y-c.y)/d,f.y)}else{if(g&4){return new i.Point(c.x+b*(a.y-c.y)/d,a.y)}else{if(g&2){return new i.Point(f.x,c.y+d*(f.x-c.x)/b)}else{if(g&1){return new i.Point(a.x,c.y+d*(a.x-c.x)/b)}}}}},_getBitCode:function(a,b){var c=0;if(a.x<b.min.x){c|=1}else{if(a.x>b.max.x){c|=2}}if(a.y<b.min.y){c|=4}else{if(a.y>b.max.y){c|=8}}return c},_sqDist:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d},_sqClosestPointOnSegment:function(s,d,e,p){var f=d.x,g=d.y,a=e.x-f,b=e.y-g,t=a*a+b*b,c;if(t>0){c=((s.x-f)*a+(s.y-g)*b)/t;if(c>1){f=e.x;g=e.y}else{if(c>0){f+=a*c;g+=b*c}}}a=s.x-f;b=s.y-g;return p?a*a+b*b:new i.Point(f,g)}};i.Polyline=i.Path.extend({initialize:function(b,a){i.Path.prototype.initialize.call(this,a);this._latlngs=this._convertLatLngs(b)},options:{smoothFactor:1,noClip:false},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;a<b;a++){this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])}},getPathString:function(){for(var b=0,c=this._parts.length,a="";b<c;b++){a+=this._getPathPartStr(this._parts[b])}return a},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){this._latlngs=this._convertLatLngs(a);return this.redraw()},addLatLng:function(a){this._latlngs.push(i.latLng(a));return this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);this._convertLatLngs(this._latlngs,true);this.redraw();return a},closestLayerPoint:function(p){var z=Infinity,g=this._parts,x,y,b=null;for(var f=0,w=g.length;f<w;f++){var a=g[f];for(var e=1,c=a.length;e<c;e++){x=a[e-1];y=a[e];var d=i.LineUtil._sqClosestPointOnSegment(p,x,y,true);if(d<z){z=d;b=i.LineUtil._sqClosestPointOnSegment(p,x,y)}}}if(b){b.distance=Math.sqrt(z)}return b},getBounds:function(){return new i.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(d,c){var b,e,a=c?d:[];for(b=0,e=d.length;b<e;b++){if(i.Util.isArray(d[b])&&typeof d[b][0]!=="number"){return}a[b]=i.latLng(d[b])}return a},_initEvents:function(){i.Path.prototype._initEvents.call(this)},_getPathPartStr:function(b){var d=i.Path.VML;for(var c=0,e=b.length,f="",a;c<e;c++){a=b[c];if(d){a._round()}f+=(c?"L":"M")+a.x+" "+a.y}return f},_clipPoints:function(){var r=this._originalPoints,d=r.length,a,b,g;if(this.options.noClip){this._parts=[r];return}this._parts=[];var f=this._parts,c=this._map._pathViewport,e=i.LineUtil;for(a=0,b=0;a<d-1;a++){g=e.clipSegment(r[a],r[a+1],c,a);if(!g){continue}f[b]=f[b]||[];f[b].push(g[0]);if((g[1]!==r[a+1])||(a===d-2)){f[b].push(g[1]);b++}}},_simplifyPoints:function(){var b=this._parts,a=i.LineUtil;for(var c=0,d=b.length;c<d;c++){b[c]=a.simplify(b[c],this.options.smoothFactor)}},_updatePath:function(){if(!this._map){return}this._clipPoints();this._simplifyPoints();i.Path.prototype._updatePath.call(this)}});i.polyline=function(b,a){return new i.Polyline(b,a)};i.PolyUtil={};i.PolyUtil.clipPolygon=function(p,g){var A,a=[1,4,2,8],C,b,c,y,z,B,e,f,d=i.LineUtil;for(C=0,B=p.length;C<B;C++){p[C]._code=d._getBitCode(p[C],g)}for(c=0;c<4;c++){e=a[c];A=[];for(C=0,B=p.length,b=B-1;C<B;b=C++){y=p[C];z=p[b];if(!(y._code&e)){if(z._code&e){f=d._getEdgeIntersection(z,y,e,g);f._code=d._getBitCode(f,g);A.push(f)}A.push(y)}else{if(!(z._code&e)){f=d._getEdgeIntersection(z,y,e,g);f._code=d._getBitCode(f,g);A.push(f)}}}p=A}return p};i.Polygon=i.Polyline.extend({options:{fill:true},initialize:function(b,a){i.Polyline.prototype.initialize.call(this,b,a);this._initWithHoles(b)},_initWithHoles:function(c){var b,d,a;if(c&&i.Util.isArray(c[0])&&(typeof c[0][0]!=="number")){this._latlngs=this._convertLatLngs(c[0]);this._holes=c.slice(1);for(b=0,d=this._holes.length;b<d;b++){a=this._holes[b]=this._convertLatLngs(this._holes[b]);if(a[0].equals(a[a.length-1])){a.pop()}}}c=this._latlngs;if(c.length>=2&&c[0].equals(c[c.length-1])){c.pop()}},projectLatlngs:function(){i.Polyline.prototype.projectLatlngs.call(this);this._holePoints=[];if(!this._holes){return}var a,b,d,c;for(a=0,d=this._holes.length;a<d;a++){this._holePoints[a]=[];for(b=0,c=this._holes[a].length;b<c;b++){this._holePoints[a][b]=this._map.latLngToLayerPoint(this._holes[a][b])}}},setLatLngs:function(a){if(a&&i.Util.isArray(a[0])&&(typeof a[0][0]!=="number")){this._initWithHoles(a);return this.redraw()}else{return i.Polyline.prototype.setLatLngs.call(this,a)}},_clipPoints:function(){var b=this._originalPoints,a=[];this._parts=[b].concat(this._holePoints);if(this.options.noClip){return}for(var c=0,d=this._parts.length;c<d;c++){var e=i.PolyUtil.clipPolygon(this._parts[c],this._map._pathViewport);if(e.length){a.push(e)}}this._parts=a},_getPathPartStr:function(b){var a=i.Polyline.prototype._getPathPartStr.call(this,b);return a+(i.Browser.svg?"z":"x")}});i.polygon=function(b,a){return new i.Polygon(b,a)};(function(){function a(b){return i.FeatureGroup.extend({initialize:function(d,c){this._layers={};this._options=c;this.setLatLngs(d)},setLatLngs:function(d){var c=0,e=d.length;this.eachLayer(function(f){if(c<e){f.setLatLngs(d[c++])}else{this.removeLayer(f)}},this);while(c<e){this.addLayer(new b(d[c++],this._options))}return this},getLatLngs:function(){var c=[];this.eachLayer(function(d){c.push(d.getLatLngs())});return c}})}i.MultiPolyline=a(i.Polyline);i.MultiPolygon=a(i.Polygon);i.multiPolyline=function(c,b){return new i.MultiPolyline(c,b)};i.multiPolygon=function(c,b){return new i.MultiPolygon(c,b)}}());i.Rectangle=i.Polygon.extend({initialize:function(a,b){i.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){a=i.latLngBounds(a);return[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});i.rectangle=function(a,b){return new i.Rectangle(a,b)};i.Circle=i.Path.extend({initialize:function(a,c,b){i.Path.prototype.initialize.call(this,b);this._latlng=i.latLng(a);this._mRadius=c},options:{fill:true},setLatLng:function(a){this._latlng=i.latLng(a);return this.redraw()},setRadius:function(a){this._mRadius=a;return this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng,c=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b);this._radius=Math.max(this._point.x-c.x,1)},getBounds:function(){var a=this._getLngRadius(),c=(this._mRadius/40075017)*360,b=this._latlng;return new i.LatLngBounds([b.lat-c,b.lng-a],[b.lat+c,b.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,b=this._radius;if(this._checkIfEmpty()){return""}if(i.Browser.svg){return"M"+a.x+","+(a.y-b)+"A"+b+","+b+",0,1,1,"+(a.x-0.1)+","+(a.y-b)+" z"}else{a._round();b=Math.round(b);return"AL "+a.x+","+a.y+" "+b+","+b+" 0,"+(65535*360)}},getRadius:function(){return this._mRadius},_getLatRadius:function(){return(this._mRadius/40075017)*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(i.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map){return false}var c=this._map._pathViewport,b=this._radius,a=this._point;return a.x-b>c.max.x||a.y-b>c.max.y||a.x+b<c.min.x||a.y+b<c.min.y}});i.circle=function(a,c,b){return new i.Circle(a,c,b)};i.CircleMarker=i.Circle.extend({options:{radius:10,weight:2},initialize:function(a,b){i.Circle.prototype.initialize.call(this,a,null,b);this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){i.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius)},setLatLng:function(a){i.Circle.prototype.setLatLng.call(this,a);if(this._popup&&this._popup._isOpen){this._popup.setLatLng(a)}},setRadius:function(a){this.options.radius=this._radius=a;return this.redraw()},getRadius:function(){return this._radius}});i.circleMarker=function(a,b){return new i.CircleMarker(a,b)};i.Polyline.include(!i.Path.CANVAS?{}:{_containsPoint:function(g,a){var b,c,e,w,d,v,f,p=this.options.weight/2;if(i.Browser.touch){p+=10}for(b=0,w=this._parts.length;b<w;b++){f=this._parts[b];for(c=0,d=f.length,e=d-1;c<d;e=c++){if(!a&&(c===0)){continue}v=i.LineUtil.pointToSegmentDistance(g,f[e],f[c]);if(v<=p){return true}}}return false}});i.Polygon.include(!i.Path.CANVAS?{}:{_containsPoint:function(g){var e=false,f,p,v,a,b,c,w,d;if(i.Polyline.prototype._containsPoint.call(this,g,true)){return true}for(a=0,w=this._parts.length;a<w;a++){f=this._parts[a];for(b=0,d=f.length,c=d-1;b<d;c=b++){p=f[b];v=f[c];if(((p.y>g.y)!==(v.y>g.y))&&(g.x<(v.x-p.x)*(g.y-p.y)/(v.y-p.y)+p.x)){e=!e}}}return e}});i.Circle.include(!i.Path.CANVAS?{}:{_drawPath:function(){var a=this._point;this._ctx.beginPath();this._ctx.arc(a.x,a.y,this._radius,0,Math.PI*2,false)},_containsPoint:function(a){var b=this._point,c=this.options.stroke?this.options.weight/2:0;return(a.distanceTo(b)<=this._radius+c)}});i.CircleMarker.include(!i.Path.CANVAS?{}:{_updateStyle:function(){i.Path.prototype._updateStyle.call(this)}});i.GeoJSON=i.FeatureGroup.extend({initialize:function(a,b){i.setOptions(this,b);this._layers={};if(a){this.addData(a)}},addData:function(c){var f=i.Util.isArray(c)?c:c.features,g,e,a;if(f){for(g=0,e=f.length;g<e;g++){a=f[g];if(a.geometries||a.geometry||a.features||a.coordinates){this.addData(f[g])}}return this}var d=this.options;if(d.filter&&!d.filter(c)){return}var b=i.GeoJSON.geometryToLayer(c,d.pointToLayer,d.coordsToLatLng,d);b.feature=i.GeoJSON.asFeature(c);b.defaultOptions=b.options;this.resetStyle(b);if(d.onEachFeature){d.onEachFeature(c,b)}return this.addLayer(b)},resetStyle:function(b){var a=this.options.style;if(a){i.Util.extend(b.options,b.defaultOptions);this._setLayerStyle(b,a)}},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(b,a){if(typeof a==="function"){a=a(b.feature)}if(b.setStyle){b.setStyle(a)}}});i.extend(i.GeoJSON,{geometryToLayer:function(u,t,g,c){var a=u.type==="Feature"?u.geometry:u,w=a.coordinates,d=[],f,v,e,b;g=g||this.coordsToLatLng;switch(a.type){case"Point":f=g(w);return t?t(u,f):new i.Marker(f);case"MultiPoint":for(e=0,b=w.length;e<b;e++){f=g(w[e]);d.push(t?t(u,f):new i.Marker(f))}return new i.FeatureGroup(d);case"LineString":v=this.coordsToLatLngs(w,0,g);return new i.Polyline(v,c);case"Polygon":if(w.length===2&&!w[1].length){throw new Error("Invalid GeoJSON object.")}v=this.coordsToLatLngs(w,1,g);return new i.Polygon(v,c);case"MultiLineString":v=this.coordsToLatLngs(w,1,g);return new i.MultiPolyline(v,c);case"MultiPolygon":v=this.coordsToLatLngs(w,2,g);return new i.MultiPolygon(v,c);case"GeometryCollection":for(e=0,b=a.geometries.length;e<b;e++){d.push(this.geometryToLayer({geometry:a.geometries[e],type:"Feature",properties:u.properties},t,g,c))}return new i.FeatureGroup(d);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(a){return new i.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,f){var g,c,d,e=[];for(c=0,d=a.length;c<d;c++){g=b?this.coordsToLatLngs(a[c],b-1,f):(f||this.coordsToLatLng)(a[c]);e.push(g)}return e},latLngToCoords:function(a){var b=[a.lng,a.lat];if(a.alt!==j){b.push(a.alt)}return b},latLngsToCoords:function(a){var b=[];for(var c=0,d=a.length;c<d;c++){b.push(i.GeoJSON.latLngToCoords(a[c]))}return b},getFeature:function(a,b){return a.feature?i.extend({},a.feature,{geometry:b}):i.GeoJSON.asFeature(b)},asFeature:function(a){if(a.type==="Feature"){return a}return{type:"Feature",properties:{},geometry:a}}});var n={toGeoJSON:function(){return i.GeoJSON.getFeature(this,{type:"Point",coordinates:i.GeoJSON.latLngToCoords(this.getLatLng())})}};i.Marker.include(n);i.Circle.include(n);i.CircleMarker.include(n);i.Polyline.include({toGeoJSON:function(){return i.GeoJSON.getFeature(this,{type:"LineString",coordinates:i.GeoJSON.latLngsToCoords(this.getLatLngs())})}});i.Polygon.include({toGeoJSON:function(){var a=[i.GeoJSON.latLngsToCoords(this.getLatLngs())],c,d,b;a[0].push(a[0][0]);if(this._holes){for(c=0,d=this._holes.length;c<d;c++){b=i.GeoJSON.latLngsToCoords(this._holes[c]);b.push(b[0]);a.push(b)}}return i.GeoJSON.getFeature(this,{type:"Polygon",coordinates:a})}});(function(){function a(b){return function(){var c=[];this.eachLayer(function(d){c.push(d.toGeoJSON().geometry.coordinates)});return i.GeoJSON.getFeature(this,{type:b,coordinates:c})}}i.MultiPolyline.include({toGeoJSON:a("MultiLineString")});i.MultiPolygon.include({toGeoJSON:a("MultiPolygon")});i.LayerGroup.include({toGeoJSON:function(){var b=this.feature&&this.feature.geometry,c=[],d;if(b&&b.type==="MultiPoint"){return a("MultiPoint").call(this)}var e=b&&b.type==="GeometryCollection";this.eachLayer(function(f){if(f.toGeoJSON){d=f.toGeoJSON();c.push(e?d.geometry:i.GeoJSON.asFeature(d))}});if(e){return i.GeoJSON.getFeature(this,{geometries:c,type:"GeometryCollection"})}return{type:"FeatureCollection",features:c}}})}());i.geoJson=function(a,b){return new i.GeoJSON(a,b)};i.DomEvent={addListener:function(f,d,c,q){var r=i.stamp(c),b="_leaflet_"+d+r,a,e,g;if(f[b]){return this}a=function(o){return c.call(q||f,o||i.DomEvent._getEvent())};if(i.Browser.pointer&&d.indexOf("touch")===0){return this.addPointerListener(f,d,a,r)}if(i.Browser.touch&&(d==="dblclick")&&this.addDoubleTapListener){this.addDoubleTapListener(f,a,r)}if("addEventListener" in f){if(d==="mousewheel"){f.addEventListener("DOMMouseScroll",a,false);f.addEventListener(d,a,false)}else{if((d==="mouseenter")||(d==="mouseleave")){e=a;g=(d==="mouseenter"?"mouseover":"mouseout");a=function(o){if(!i.DomEvent._checkMouse(f,o)){return}return e(o)};f.addEventListener(g,a,false)}else{if(d==="click"&&i.Browser.android){e=a;a=function(o){return i.DomEvent._filterClick(o,e)};f.addEventListener(d,a,false)}else{f.addEventListener(d,a,false)}}}}else{if("attachEvent" in f){f.attachEvent("on"+d,a)}}f[b]=a;return this},removeListener:function(b,c,d){var a=i.stamp(d),f="_leaflet_"+c+a,e=b[f];if(!e){return this}if(i.Browser.pointer&&c.indexOf("touch")===0){this.removePointerListener(b,c,a)}else{if(i.Browser.touch&&(c==="dblclick")&&this.removeDoubleTapListener){this.removeDoubleTapListener(b,a)}else{if("removeEventListener" in b){if(c==="mousewheel"){b.removeEventListener("DOMMouseScroll",e,false);b.removeEventListener(c,e,false)}else{if((c==="mouseenter")||(c==="mouseleave")){b.removeEventListener((c==="mouseenter"?"mouseover":"mouseout"),e,false)}else{b.removeEventListener(c,e,false)}}}else{if("detachEvent" in b){b.detachEvent("on"+c,e)}}}}b[f]=null;return this},stopPropagation:function(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}i.DomEvent._skipped(a);return this},disableScrollPropagation:function(a){var b=i.DomEvent.stopPropagation;return i.DomEvent.on(a,"mousewheel",b).on(a,"MozMousePixelScroll",b)},disableClickPropagation:function(a){var b=i.DomEvent.stopPropagation;for(var c=i.Draggable.START.length-1;c>=0;c--){i.DomEvent.on(a,i.Draggable.START[c],b)}return i.DomEvent.on(a,"click",i.DomEvent._fakeStop).on(a,"dblclick",b)},preventDefault:function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}return this},stop:function(a){return i.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(f,t){var g=h.body,s=h.documentElement,a=i.DomUtil.documentIsLtr()?(f.pageX?f.pageX-g.scrollLeft-s.scrollLeft:f.clientX):(i.Browser.gecko?f.pageX-g.scrollLeft-s.scrollLeft:f.pageX?f.pageX-g.scrollLeft+s.scrollLeft:f.clientX),d=f.pageY?f.pageY-g.scrollTop-s.scrollTop:f.clientY,c=new i.Point(a,d);if(!t){return c}var b=t.getBoundingClientRect(),r=b.left-t.clientLeft,e=b.top-t.clientTop;return c._subtract(new i.Point(r,e))},getWheelDelta:function(b){var a=0;if(b.wheelDelta){a=b.wheelDelta/120}if(b.detail){a=-b.detail/3}return a},_skipEvents:{},_fakeStop:function(a){i.DomEvent._skipEvents[a.type]=true},_skipped:function(a){var b=this._skipEvents[a.type];this._skipEvents[a.type]=false;return b},_checkMouse:function(d,a){var b=a.relatedTarget;if(!b){return true}try{while(b&&(b!==d)){b=b.parentNode}}catch(c){return false}return(b!==d)},_getEvent:function(){var a=m.event;if(!a){var b=arguments.callee.caller;while(b){a=b["arguments"][0];if(a&&m.Event===a.constructor){break}b=b.caller}}return a},_filterClick:function(a,b){var c=(a.timeStamp||a.originalEvent.timeStamp),d=i.DomEvent._lastClick&&(c-i.DomEvent._lastClick);if((d&&d>100&&d<1000)||(a.target._simulatedClick&&!a._simulated)){i.DomEvent.stop(a);return}i.DomEvent._lastClick=c;return b(a)}};i.DomEvent.on=i.DomEvent.addListener;i.DomEvent.off=i.DomEvent.removeListener;i.Draggable=i.Class.extend({includes:i.Mixin.Events,statics:{START:i.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(b,a){this._element=b;this._dragStartTarget=a||b},enable:function(){if(this._enabled){return}for(var a=i.Draggable.START.length-1;a>=0;a--){i.DomEvent.on(this._dragStartTarget,i.Draggable.START[a],this._onDown,this)}this._enabled=true},disable:function(){if(!this._enabled){return}for(var a=i.Draggable.START.length-1;a>=0;a--){i.DomEvent.off(this._dragStartTarget,i.Draggable.START[a],this._onDown,this)}this._enabled=false;this._moved=false},_onDown:function(b){this._moved=false;if(b.shiftKey||((b.which!==1)&&(b.button!==1)&&!b.touches)){return}i.DomEvent.stopPropagation(b);if(i.Draggable._disabled){return}i.DomUtil.disableImageDrag();i.DomUtil.disableTextSelection();if(this._moving){return}var a=b.touches?b.touches[0]:b;this._startPoint=new i.Point(a.clientX,a.clientY);this._startPos=this._newPos=i.DomUtil.getPosition(this._element);i.DomEvent.on(h,i.Draggable.MOVE[b.type],this._onMove,this).on(h,i.Draggable.END[b.type],this._onUp,this)},_onMove:function(c){if(c.touches&&c.touches.length>1){this._moved=true;return}var a=(c.touches&&c.touches.length===1?c.touches[0]:c),d=new i.Point(a.clientX,a.clientY),b=d.subtract(this._startPoint);if(!b.x&&!b.y){return}i.DomEvent.preventDefault(c);if(!this._moved){this.fire("dragstart");this._moved=true;this._startPos=i.DomUtil.getPosition(this._element).subtract(b);i.DomUtil.addClass(h.body,"leaflet-dragging");i.DomUtil.addClass((c.target||c.srcElement),"leaflet-drag-target")}this._newPos=this._startPos.add(b);this._moving=true;i.Util.cancelAnimFrame(this._animRequest);this._animRequest=i.Util.requestAnimFrame(this._updatePosition,this,true,this._dragStartTarget)},_updatePosition:function(){this.fire("predrag");i.DomUtil.setPosition(this._element,this._newPos);this.fire("drag")},_onUp:function(a){i.DomUtil.removeClass(h.body,"leaflet-dragging");i.DomUtil.removeClass((a.target||a.srcElement),"leaflet-drag-target");for(var b in i.Draggable.MOVE){i.DomEvent.off(h,i.Draggable.MOVE[b],this._onMove).off(h,i.Draggable.END[b],this._onUp)}i.DomUtil.enableImageDrag();i.DomUtil.enableTextSelection();if(this._moved){i.Util.cancelAnimFrame(this._animRequest);this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})}this._moving=false}});i.Handler=i.Class.extend({initialize:function(a){this._map=a},enable:function(){if(this._enabled){return}this._enabled=true;this.addHooks()},disable:function(){if(!this._enabled){return}this._enabled=false;this.removeHooks()},enabled:function(){return !!this._enabled}});i.Map.mergeOptions({dragging:true,inertia:!i.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,inertiaThreshold:i.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:false});i.Map.Drag=i.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new i.Draggable(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);if(a.options.worldCopyJump){this._draggable.on("predrag",this._onPreDrag,this);a.on("viewreset",this._onViewReset,this);a.whenReady(this._onViewReset,this)}}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;if(a._panAnim){a._panAnim.stop()}a.fire("movestart").fire("dragstart");if(a.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(){if(this._map.options.inertia){var b=this._lastTime=+new Date(),a=this._lastPos=this._draggable._newPos;this._positions.push(a);this._times.push(b);if(b-this._times[0]>200){this._positions.shift();this._times.shift()}}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(a).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var g=this._worldWidth,a=Math.round(g/2),e=this._initialWorldOffset,f=this._draggable._newPos.x,c=(f-a+e)%g+a-e,d=(f+a+e)%g-a-e,b=Math.abs(c+e)<Math.abs(d+e)?c:d;this._draggable._newPos.x=b},_onDragEnd:function(b){var x=this._map,z=x.options,c=+new Date()-this._lastTime,y=!z.inertia||c>z.inertiaThreshold||!this._positions[0];x.fire("dragend",b);if(y){x.fire("moveend")}else{var a=this._lastPos.subtract(this._positions[0]),e=(this._lastTime+c-this._times[0])/1000,f=z.easeLinearity,g=a.multiplyBy(f/e),v=g.distanceTo([0,0]),A=Math.min(z.inertiaMaxSpeed,v),B=g.multiplyBy(A/v),w=A/(z.inertiaDeceleration*f),d=B.multiplyBy(-w/2).round();if(!d.x||!d.y){x.fire("moveend")}else{d=x._limitOffset(d,x.options.maxBounds);i.Util.requestAnimFrame(function(){x.panBy(d,{duration:w,easeLinearity:f,noMoveStart:true})})}}}});i.Map.addInitHook("addHandler","dragging",i.Map.Drag);i.Map.mergeOptions({doubleClickZoom:true});i.Map.DoubleClickZoom=i.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom()+(a.originalEvent.shiftKey?-1:1);if(b.options.doubleClickZoom==="center"){b.setZoom(c)}else{b.setZoomAround(a.containerPoint,c)}}});i.Map.addInitHook("addHandler","doubleClickZoom",i.Map.DoubleClickZoom);i.Map.mergeOptions({scrollWheelZoom:true});i.Map.ScrollWheelZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);i.DomEvent.on(this._map._container,"MozMousePixelScroll",i.DomEvent.preventDefault);this._delta=0},removeHooks:function(){i.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll);i.DomEvent.off(this._map._container,"MozMousePixelScroll",i.DomEvent.preventDefault)},_onWheelScroll:function(b){var a=i.DomEvent.getWheelDelta(b);this._delta+=a;this._lastMousePos=this._map.mouseEventToContainerPoint(b);if(!this._startTime){this._startTime=+new Date()}var c=Math.max(40-(+new Date()-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(i.bind(this._performZoom,this),c);i.DomEvent.preventDefault(b);i.DomEvent.stopPropagation(b)},_performZoom:function(){var b=this._map,a=this._delta,c=b.getZoom();a=a>0?Math.ceil(a):Math.floor(a);a=Math.max(Math.min(a,4),-4);a=b._limitZoom(c+a)-c;this._delta=0;this._startTime=null;if(!a){return}if(b.options.scrollWheelZoom==="center"){b.setZoom(c+a)}else{b.setZoomAround(this._lastMousePos,c+a)}}});i.Map.addInitHook("addHandler","scrollWheelZoom",i.Map.ScrollWheelZoom);i.extend(i.DomEvent,{_touchstart:i.Browser.msPointer?"MSPointerDown":i.Browser.pointer?"pointerdown":"touchstart",_touchend:i.Browser.msPointer?"MSPointerUp":i.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(f,z,y){var A,c=false,e=250,g,w="_leaflet_",d=this._touchstart,B=this._touchend,a=[];function v(o){var p;if(i.Browser.pointer){a.push(o.pointerId);p=a.length}else{p=o.touches.length}if(p>1){return}var q=Date.now(),r=q-(A||q);g=o.touches?o.touches[0]:o;c=(r>0&&r<=e);A=q}function b(s){if(i.Browser.pointer){var p=a.indexOf(s.pointerId);if(p===-1){return}a.splice(p,1)}if(c){if(i.Browser.pointer){var q={},r;for(var o in g){r=g[o];if(typeof r==="function"){q[o]=r.bind(g)}else{q[o]=r}}g=q}g.type="dblclick";z(g);A=null}}f[w+d+y]=v;f[w+B+y]=b;var x=i.Browser.pointer?h.documentElement:f;f.addEventListener(d,v,false);x.addEventListener(B,b,false);if(i.Browser.pointer){x.addEventListener(i.DomEvent.POINTER_CANCEL,b,false)}return this},removeDoubleTapListener:function(b,a){var c="_leaflet_";b.removeEventListener(this._touchstart,b[c+this._touchstart+a],false);(i.Browser.pointer?h.documentElement:b).removeEventListener(this._touchend,b[c+this._touchend+a],false);if(i.Browser.pointer){h.documentElement.removeEventListener(i.DomEvent.POINTER_CANCEL,b[c+this._touchend+a],false)}return this}});i.extend(i.DomEvent,{POINTER_DOWN:i.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:i.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:i.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:i.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:false,addPointerListener:function(b,c,d,a){switch(c){case"touchstart":return this.addPointerListenerStart(b,c,d,a);case"touchend":return this.addPointerListenerEnd(b,c,d,a);case"touchmove":return this.addPointerListenerMove(b,c,d,a);default:throw"Unknown touch event type"}},addPointerListenerStart:function(p,b,c,g){var a="_leaflet_",e=this._pointers;var f=function(o){i.DomEvent.preventDefault(o);var s=false;for(var t=0;t<e.length;t++){if(e[t].pointerId===o.pointerId){s=true;break}}if(!s){e.push(o)}o.touches=e.slice();o.changedTouches=[o];c(o)};p[a+"touchstart"+g]=f;p.addEventListener(this.POINTER_DOWN,f,false);if(!this._pointerDocumentListener){var d=function(o){for(var r=0;r<e.length;r++){if(e[r].pointerId===o.pointerId){e.splice(r,1);break}}};h.documentElement.addEventListener(this.POINTER_UP,d,false);h.documentElement.addEventListener(this.POINTER_CANCEL,d,false);this._pointerDocumentListener=true}return this},addPointerListenerMove:function(a,d,e,g){var b="_leaflet_",c=this._pointers;function f(q){if((q.pointerType===q.MSPOINTER_TYPE_MOUSE||q.pointerType==="mouse")&&q.buttons===0){return}for(var r=0;r<c.length;r++){if(c[r].pointerId===q.pointerId){c[r]=q;break}}q.touches=c.slice();q.changedTouches=[q];e(q)}a[b+"touchmove"+g]=f;a.addEventListener(this.POINTER_MOVE,f,false);return this},addPointerListenerEnd:function(a,d,e,g){var b="_leaflet_",c=this._pointers;var f=function(q){for(var r=0;r<c.length;r++){if(c[r].pointerId===q.pointerId){c.splice(r,1);break}}q.touches=c.slice();q.changedTouches=[q];e(q)};a[b+"touchend"+g]=f;a.addEventListener(this.POINTER_UP,f,false);a.addEventListener(this.POINTER_CANCEL,f,false);return this},removePointerListener:function(b,d,a){var c="_leaflet_",e=b[c+d+a];switch(d){case"touchstart":b.removeEventListener(this.POINTER_DOWN,e,false);break;case"touchmove":b.removeEventListener(this.POINTER_MOVE,e,false);break;case"touchend":b.removeEventListener(this.POINTER_UP,e,false);b.removeEventListener(this.POINTER_CANCEL,e,false);break}return this}});i.Map.mergeOptions({touchZoom:i.Browser.touch&&!i.Browser.android23,bounceAtZoomLimits:true});i.Map.TouchZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){i.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(b){var c=this._map;if(!b.touches||b.touches.length!==2||c._animatingZoom||this._zooming){return}var a=c.mouseEventToLayerPoint(b.touches[0]),d=c.mouseEventToLayerPoint(b.touches[1]),e=c._getCenterLayerPoint();this._startCenter=a.add(d)._divideBy(2);this._startDist=a.distanceTo(d);this._moved=false;this._zooming=true;this._centerOffset=e.subtract(this._startCenter);if(c._panAnim){c._panAnim.stop()}i.DomEvent.on(h,"touchmove",this._onTouchMove,this).on(h,"touchend",this._onTouchEnd,this);i.DomEvent.preventDefault(b)},_onTouchMove:function(b){var c=this._map;if(!b.touches||b.touches.length!==2||!this._zooming){return}var a=c.mouseEventToLayerPoint(b.touches[0]),d=c.mouseEventToLayerPoint(b.touches[1]);this._scale=a.distanceTo(d)/this._startDist;this._delta=a._add(d)._divideBy(2)._subtract(this._startCenter);if(this._scale===1){return}if(!c.options.bounceAtZoomLimits){if((c.getZoom()===c.getMinZoom()&&this._scale<1)||(c.getZoom()===c.getMaxZoom()&&this._scale>1)){return}}if(!this._moved){i.DomUtil.addClass(c._mapPane,"leaflet-touching");c.fire("movestart").fire("zoomstart");this._moved=true}i.Util.cancelAnimFrame(this._animRequest);this._animRequest=i.Util.requestAnimFrame(this._updateOnMove,this,true,this._map._container);i.DomEvent.preventDefault(b)},_updateOnMove:function(){var a=this._map,c=this._getScaleOrigin(),d=a.layerPointToLatLng(c),b=a.getScaleZoom(this._scale);a._animateZoom(d,b,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=false;return}var p=this._map;this._zooming=false;i.DomUtil.removeClass(p._mapPane,"leaflet-touching");i.Util.cancelAnimFrame(this._animRequest);i.DomEvent.off(h,"touchmove",this._onTouchMove).off(h,"touchend",this._onTouchEnd);var d=this._getScaleOrigin(),e=p.layerPointToLatLng(d),a=p.getZoom(),f=p.getScaleZoom(this._scale)-a,c=(f>0?Math.ceil(f):Math.floor(f)),b=p._limitZoom(a+c),g=p.getZoomScale(b)/this._scale;p._animateZoom(e,b,d,g)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}});i.Map.addInitHook("addHandler","touchZoom",i.Map.TouchZoom);i.Map.mergeOptions({tap:true,tapTolerance:15});i.Map.Tap=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){i.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(b){if(!b.touches){return}i.DomEvent.preventDefault(b);this._fireClick=true;if(b.touches.length>1){this._fireClick=false;clearTimeout(this._holdTimeout);return}var a=b.touches[0],c=a.target;this._startPos=this._newPos=new i.Point(a.clientX,a.clientY);if(c.tagName&&c.tagName.toLowerCase()==="a"){i.DomUtil.addClass(c,"leaflet-active")}this._holdTimeout=setTimeout(i.bind(function(){if(this._isTapValid()){this._fireClick=false;this._onUp();this._simulateEvent("contextmenu",a)}},this),1000);i.DomEvent.on(h,"touchmove",this._onMove,this).on(h,"touchend",this._onUp,this)},_onUp:function(b){clearTimeout(this._holdTimeout);i.DomEvent.off(h,"touchmove",this._onMove,this).off(h,"touchend",this._onUp,this);if(this._fireClick&&b&&b.changedTouches){var a=b.changedTouches[0],c=a.target;if(c&&c.tagName&&c.tagName.toLowerCase()==="a"){i.DomUtil.removeClass(c,"leaflet-active")}if(this._isTapValid()){this._simulateEvent("click",a)}}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(b){var a=b.touches[0];this._newPos=new i.Point(a.clientX,a.clientY)},_simulateEvent:function(c,a){var b=h.createEvent("MouseEvents");b._simulated=true;a.target._simulatedClick=true;b.initMouseEvent(c,true,true,m,1,a.screenX,a.screenY,a.clientX,a.clientY,false,false,false,false,0,null);a.target.dispatchEvent(b)}});if(i.Browser.touch&&!i.Browser.pointer){i.Map.addInitHook("addHandler","tap",i.Map.Tap)}i.Map.mergeOptions({boxZoom:true});i.Map.BoxZoom=i.Handler.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._moved=false},addHooks:function(){i.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){i.DomEvent.off(this._container,"mousedown",this._onMouseDown);this._moved=false},moved:function(){return this._moved},_onMouseDown:function(a){this._moved=false;if(!a.shiftKey||((a.which!==1)&&(a.button!==1))){return false}i.DomUtil.disableTextSelection();i.DomUtil.disableImageDrag();this._startLayerPoint=this._map.mouseEventToLayerPoint(a);i.DomEvent.on(h,"mousemove",this._onMouseMove,this).on(h,"mouseup",this._onMouseUp,this).on(h,"keydown",this._onKeyDown,this)},_onMouseMove:function(b){if(!this._moved){this._box=i.DomUtil.create("div","leaflet-zoom-box",this._pane);i.DomUtil.setPosition(this._box,this._startLayerPoint);this._container.style.cursor="crosshair";this._map.fire("boxzoomstart")}var c=this._startLayerPoint,d=this._box,f=this._map.mouseEventToLayerPoint(b),a=f.subtract(c),e=new i.Point(Math.min(f.x,c.x),Math.min(f.y,c.y));i.DomUtil.setPosition(d,e);this._moved=true;d.style.width=(Math.max(0,Math.abs(a.x)-4))+"px";d.style.height=(Math.max(0,Math.abs(a.y)-4))+"px"},_finish:function(){if(this._moved){this._pane.removeChild(this._box);this._container.style.cursor=""}i.DomUtil.enableTextSelection();i.DomUtil.enableImageDrag();i.DomEvent.off(h,"mousemove",this._onMouseMove).off(h,"mouseup",this._onMouseUp).off(h,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var b=this._map,d=b.mouseEventToLayerPoint(a);if(this._startLayerPoint.equals(d)){return}var c=new i.LatLngBounds(b.layerPointToLatLng(this._startLayerPoint),b.layerPointToLatLng(d));b.fitBounds(c);b.fire("boxzoomend",{boxZoomBounds:c})},_onKeyDown:function(a){if(a.keyCode===27){this._finish()}}});i.Map.addInitHook("addHandler","boxZoom",i.Map.BoxZoom);i.Map.mergeOptions({keyboard:true,keyboardPanOffset:80,keyboardZoomOffset:1});i.Map.Keyboard=i.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a;this._setPanOffset(a.options.keyboardPanOffset);this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;if(a.tabIndex===-1){a.tabIndex="0"}i.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this);this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;i.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this);this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(this._focused){return}var d=h.body,a=h.documentElement,b=d.scrollTop||a.scrollTop,c=d.scrollLeft||a.scrollLeft;this._map._container.focus();m.scrollTo(c,b)},_onFocus:function(){this._focused=true;this._map.fire("focus")},_onBlur:function(){this._focused=false;this._map.fire("blur")},_setPanOffset:function(a){var b=this._panKeys={},d=this.keyCodes,c,e;for(c=0,e=d.left.length;c<e;c++){b[d.left[c]]=[-1*a,0]}for(c=0,e=d.right.length;c<e;c++){b[d.right[c]]=[a,0]}for(c=0,e=d.down.length;c<e;c++){b[d.down[c]]=[0,a]}for(c=0,e=d.up.length;c<e;c++){b[d.up[c]]=[0,-1*a]}},_setZoomOffset:function(a){var b=this._zoomKeys={},d=this.keyCodes,c,e;for(c=0,e=d.zoomIn.length;c<e;c++){b[d.zoomIn[c]]=a}for(c=0,e=d.zoomOut.length;c<e;c++){b[d.zoomOut[c]]=-a}},_addHooks:function(){i.DomEvent.on(h,"keydown",this._onKeyDown,this)},_removeHooks:function(){i.DomEvent.off(h,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){var c=a.keyCode,b=this._map;if(c in this._panKeys){if(b._panAnim&&b._panAnim._inProgress){return}b.panBy(this._panKeys[c]);if(b.options.maxBounds){b.panInsideBounds(b.options.maxBounds)}}else{if(c in this._zoomKeys){b.setZoom(b.getZoom()+this._zoomKeys[c])}else{return}}i.DomEvent.stop(a)}});i.Map.addInitHook("addHandler","keyboard",i.Map.Keyboard);i.Handler.MarkerDrag=i.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;if(!this._draggable){this._draggable=new i.Draggable(a,a)}this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this);this._draggable.enable();i.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this);this._draggable.disable();i.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var d=this._marker,a=d._shadow,c=i.DomUtil.getPosition(d._icon),b=d._map.layerPointToLatLng(c);if(a){i.DomUtil.setPosition(a,c)}d._latlng=b;d.fire("move",{latlng:b}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}});i.Control=i.Class.extend({options:{position:"topright"},initialize:function(a){i.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(b){var a=this._map;if(a){a.removeControl(this)}this.options.position=b;if(a){a.addControl(this)}return this},getContainer:function(){return this._container},addTo:function(b){this._map=b;var d=this._container=this.onAdd(b),a=this.getPosition(),c=b._controlCorners[a];i.DomUtil.addClass(d,"leaflet-control");if(a.indexOf("bottom")!==-1){c.insertBefore(d,c.firstChild)}else{c.appendChild(d)}return this},removeFrom:function(b){var a=this.getPosition(),c=b._controlCorners[a];c.removeChild(this._container);this._map=null;if(this.onRemove){this.onRemove(b)}return this},_refocusOnMap:function(){if(this._map){this._map.getContainer().focus()}}});i.control=function(a){return new i.Control(a)};i.Map.include({addControl:function(a){a.addTo(this);return this},removeControl:function(a){a.removeFrom(this);return this},_initControlPos:function(){var b=this._controlCorners={},c="leaflet-",d=this._controlContainer=i.DomUtil.create("div",c+"control-container",this._container);function a(e,g){var f=c+e+" "+c+g;b[e+g]=i.DomUtil.create("div",f,d)}a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});i.Control.Zoom=i.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(b){var a="leaflet-control-zoom",c=i.DomUtil.create("div",a+" leaflet-bar");this._map=b;this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,a+"-in",c,this._zoomIn,this);this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,a+"-out",c,this._zoomOut,this);this._updateDisabled();b.on("zoomend zoomlevelschange",this._updateDisabled,this);return c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(c,g,a,f,b,d){var p=i.DomUtil.create("a",a,f);p.innerHTML=c;p.href="#";p.title=g;var e=i.DomEvent.stopPropagation;i.DomEvent.on(p,"click",e).on(p,"mousedown",e).on(p,"dblclick",e).on(p,"click",i.DomEvent.preventDefault).on(p,"click",b,d).on(p,"click",this._refocusOnMap,d);return p},_updateDisabled:function(){var a=this._map,b="leaflet-disabled";i.DomUtil.removeClass(this._zoomInButton,b);i.DomUtil.removeClass(this._zoomOutButton,b);if(a._zoom===a.getMinZoom()){i.DomUtil.addClass(this._zoomOutButton,b)}if(a._zoom===a.getMaxZoom()){i.DomUtil.addClass(this._zoomInButton,b)}}});i.Map.mergeOptions({zoomControl:true});i.Map.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new i.Control.Zoom();this.addControl(this.zoomControl)}});i.control.zoom=function(a){return new i.Control.Zoom(a)};i.Control.Attribution=i.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){i.setOptions(this,a);this._attributions={}},onAdd:function(a){this._container=i.DomUtil.create("div","leaflet-control-attribution");i.DomEvent.disableClickPropagation(this._container);for(var b in a._layers){if(a._layers[b].getAttribution){this.addAttribution(a._layers[b].getAttribution())}}a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this);this._update();return this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){this.options.prefix=a;this._update();return this},addAttribution:function(a){if(!a){return}if(!this._attributions[a]){this._attributions[a]=0}this._attributions[a]++;this._update();return this},removeAttribution:function(a){if(!a){return}if(this._attributions[a]){this._attributions[a]--;this._update()}return this},_update:function(){if(!this._map){return}var a=[];for(var c in this._attributions){if(this._attributions[c]){a.push(c)}}var b=[];if(this.options.prefix){b.push(this.options.prefix)}if(a.length){b.push(a.join(", "))}this._container.innerHTML=b.join(" | ")},_onLayerAdd:function(a){if(a.layer.getAttribution){this.addAttribution(a.layer.getAttribution())}},_onLayerRemove:function(a){if(a.layer.getAttribution){this.removeAttribution(a.layer.getAttribution())}}});i.Map.mergeOptions({attributionControl:true});i.Map.addInitHook(function(){if(this.options.attributionControl){this.attributionControl=(new i.Control.Attribution()).addTo(this)}});i.control.attribution=function(a){return new i.Control.Attribution(a)};i.Control.Scale=i.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:true,imperial:true,updateWhenIdle:false},onAdd:function(a){this._map=a;var b="leaflet-control-scale",d=i.DomUtil.create("div",b),c=this.options;this._addScales(c,b,d);a.on(c.updateWhenIdle?"moveend":"move",this._update,this);a.whenReady(this._update,this);return d},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(b,a,c){if(b.metric){this._mScale=i.DomUtil.create("div",a+"-line",c)}if(b.imperial){this._iScale=i.DomUtil.create("div",a+"-line",c)}},_update:function(){var c=this._map.getBounds(),b=c.getCenter().lat,d=6378137*Math.PI*Math.cos(b*Math.PI/180),g=d*(c.getNorthEast().lng-c.getSouthWest().lng)/180,e=this._map.getSize(),f=this.options,a=0;if(e.x>0){a=g*(f.maxWidth/e.x)}this._updateScales(f,a)},_updateScales:function(b,a){if(b.metric&&a){this._updateMetric(a)}if(b.imperial&&a){this._updateImperial(a)}},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px";this._mScale.innerHTML=b<1000?b+" m":(b/1000)+" km"},_updateImperial:function(b){var c=b*3.2808399,a=this._iScale,d,e,f;if(c>5280){d=c/5280;e=this._getRoundNum(d);a.style.width=this._getScaleWidth(e/d)+"px";a.innerHTML=e+" mi"}else{f=this._getRoundNum(c);a.style.width=this._getScaleWidth(f/c)+"px";a.innerHTML=f+" ft"}},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(b){var c=Math.pow(10,(Math.floor(b)+"").length-1),a=b/c;a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1;return c*a}});i.control.scale=function(a){return new i.Control.Scale(a)};i.Control.Layers=i.Control.extend({options:{collapsed:true,position:"topright",autoZIndex:true},initialize:function(a,b,d){i.setOptions(this,d);this._layers={};this._lastZIndex=0;this._handlingClick=false;for(var c in a){this._addLayer(a[c],c)}for(c in b){this._addLayer(b[c],c,true)}},onAdd:function(a){this._initLayout();this._update();a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this);return this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,b){this._addLayer(a,b);this._update();return this},addOverlay:function(a,b){this._addLayer(a,b,true);this._update();return this},removeLayer:function(b){var a=i.stamp(b);delete this._layers[a];this._update();return this},_initLayout:function(){var c="leaflet-control-layers",d=this._container=i.DomUtil.create("div",c);d.setAttribute("aria-haspopup",true);if(!i.Browser.touch){i.DomEvent.disableClickPropagation(d).disableScrollPropagation(d)}else{i.DomEvent.on(d,"click",i.DomEvent.stopPropagation)}var a=this._form=i.DomUtil.create("form",c+"-list");if(this.options.collapsed){if(!i.Browser.android){i.DomEvent.on(d,"mouseover",this._expand,this).on(d,"mouseout",this._collapse,this)}var b=this._layersLink=i.DomUtil.create("a",c+"-toggle",d);b.href="#";b.title="Layers";if(i.Browser.touch){i.DomEvent.on(b,"click",i.DomEvent.stop).on(b,"click",this._expand,this)}else{i.DomEvent.on(b,"focus",this._expand,this)}i.DomEvent.on(a,"click",function(){setTimeout(i.bind(this._onInputClick,this),0)},this);this._map.on("click",this._collapse,this)}else{this._expand()}this._baseLayersList=i.DomUtil.create("div",c+"-base",a);this._separator=i.DomUtil.create("div",c+"-separator",a);this._overlaysList=i.DomUtil.create("div",c+"-overlays",a);d.appendChild(a)},_addLayer:function(b,c,d){var a=i.stamp(b);this._layers[a]={layer:b,name:c,overlay:d};if(this.options.autoZIndex&&b.setZIndex){this._lastZIndex++;b.setZIndex(this._lastZIndex)}},_update:function(){if(!this._container){return}this._baseLayersList.innerHTML="";this._overlaysList.innerHTML="";var d=false,b=false,c,a;for(c in this._layers){a=this._layers[c];this._addItem(a);b=b||a.overlay;d=d||!a.overlay}this._separator.style.display=b&&d?"":"none"},_onLayerChange:function(a){var b=this._layers[i.stamp(a.layer)];if(!b){return}if(!this._handlingClick){this._update()}var c=b.overlay?(a.type==="layeradd"?"overlayadd":"overlayremove"):(a.type==="layeradd"?"baselayerchange":null);if(c){this._map.fire(c,b)}},_createRadioElement:function(d,a){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"';if(a){b+=' checked="checked"'}b+="/>";var c=h.createElement("div");c.innerHTML=b;return c.firstChild},_addItem:function(a){var c=h.createElement("label"),e,b=this._map.hasLayer(a.layer);if(a.overlay){e=h.createElement("input");e.type="checkbox";e.className="leaflet-control-layers-selector";e.defaultChecked=b}else{e=this._createRadioElement("leaflet-base-layers",b)}e.layerId=i.stamp(a.layer);i.DomEvent.on(e,"click",this._onInputClick,this);var d=h.createElement("span");d.innerHTML=" "+a.name;c.appendChild(e);c.appendChild(d);var f=a.overlay?this._overlaysList:this._baseLayersList;f.appendChild(c);return c},_onInputClick:function(){var c,d,a,e=this._form.getElementsByTagName("input"),b=e.length;this._handlingClick=true;for(c=0;c<b;c++){d=e[c];a=this._layers[d.layerId];if(d.checked&&!this._map.hasLayer(a.layer)){this._map.addLayer(a.layer)}else{if(!d.checked&&this._map.hasLayer(a.layer)){this._map.removeLayer(a.layer)}}}this._handlingClick=false;this._refocusOnMap()},_expand:function(){i.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}});i.control.layers=function(a,b,c){return new i.Control.Layers(a,b,c)};i.PosAnimation=i.Class.extend({includes:i.Mixin.Events,run:function(c,d,b,a){this.stop();this._el=c;this._inProgress=true;this._newPos=d;this.fire("start");c.style[i.DomUtil.TRANSITION]="all "+(b||0.25)+"s cubic-bezier(0,0,"+(a||0.5)+",1)";i.DomEvent.on(c,i.DomUtil.TRANSITION_END,this._onTransitionEnd,this);i.DomUtil.setPosition(c,d);i.Util.falseFn(c.offsetWidth);this._stepTimer=setInterval(i.bind(this._onStep,this),50)},stop:function(){if(!this._inProgress){return}i.DomUtil.setPosition(this._el,this._getPos());this._onTransitionEnd();i.Util.falseFn(this._el.offsetWidth)},_onStep:function(){var a=this._getPos();if(!a){this._onTransitionEnd();return}this._el._leaflet_pos=a;this.fire("step")},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var a,b,c,d=this._el,e=m.getComputedStyle(d);if(i.Browser.any3d){c=e[i.DomUtil.TRANSFORM].match(this._transformRe);if(!c){return}a=parseFloat(c[1]);b=parseFloat(c[2])}else{a=parseFloat(e.left);b=parseFloat(e.top)}return new i.Point(a,b,true)},_onTransitionEnd:function(){i.DomEvent.off(this._el,i.DomUtil.TRANSITION_END,this._onTransitionEnd,this);if(!this._inProgress){return}this._inProgress=false;this._el.style[i.DomUtil.TRANSITION]="";this._el._leaflet_pos=this._newPos;clearInterval(this._stepTimer);this.fire("step").fire("end")}});i.Map.include({setView:function(d,a,c){a=a===j?this._zoom:this._limitZoom(a);d=this._limitCenter(i.latLng(d),a,this.options.maxBounds);c=c||{};if(this._panAnim){this._panAnim.stop()}if(this._loaded&&!c.reset&&c!==true){if(c.animate!==j){c.zoom=i.extend({animate:c.animate},c.zoom);c.pan=i.extend({animate:c.animate},c.pan)}var b=(this._zoom!==a)?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,a,c.zoom):this._tryAnimatedPan(d,c.pan);if(b){clearTimeout(this._sizeTimer);return this}}this._resetView(d,a);return this},panBy:function(a,c){a=i.point(a).round();c=c||{};if(!a.x&&!a.y){return this}if(!this._panAnim){this._panAnim=new i.PosAnimation();this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(!c.noMoveStart){this.fire("movestart")}if(c.animate!==false){i.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,b,c.duration||0.25,c.easeLinearity)}else{this._rawPanBy(a);this.fire("move").fire("moveend")}return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){i.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(c,b){var a=this._getCenterOffset(c)._floor();if((b&&b.animate)!==true&&!this.getSize().contains(a)){return false}this.panBy(a,b);return true}});i.PosAnimation=i.DomUtil.TRANSITION?i.PosAnimation:i.PosAnimation.extend({run:function(c,d,b,a){this.stop();this._el=c;this._inProgress=true;this._duration=b||0.25;this._easeOutPower=1/Math.max(a||0.5,0.2);this._startPos=i.DomUtil.getPosition(c);this._offset=d.subtract(this._startPos);this._startTime=+new Date();this.fire("start");this._animate()},stop:function(){if(!this._inProgress){return}this._step();this._complete()},_animate:function(){this._animId=i.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(){var b=(+new Date())-this._startTime,a=this._duration*1000;if(b<a){this._runFrame(this._easeOut(b/a))}else{this._runFrame(1);this._complete()}},_runFrame:function(b){var a=this._startPos.add(this._offset.multiplyBy(b));i.DomUtil.setPosition(this._el,a);this.fire("step")},_complete:function(){i.Util.cancelAnimFrame(this._animId);this._inProgress=false;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}});i.Map.mergeOptions({zoomAnimation:true,zoomAnimationThreshold:4});if(i.DomUtil.TRANSITION){i.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&i.DomUtil.TRANSITION&&i.Browser.any3d&&!i.Browser.android23&&!i.Browser.mobileOpera;if(this._zoomAnimated){i.DomEvent.on(this._mapPane,i.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}})}i.Map.include(!i.DomUtil.TRANSITION?{}:{_catchTransitionEnd:function(){if(this._animatingZoom){this._onZoomTransitionEnd()}},_nothingToAnimate:function(){return !this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,c,d){if(this._animatingZoom){return true}d=d||{};if(!this._zoomAnimated||d.animate===false||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold){return false}var a=this.getZoomScale(c),b=this._getCenterOffset(f)._divideBy(1-1/a),e=this._getCenterLayerPoint()._add(b);if(d.animate!==true&&!this.getSize().contains(b)){return false}this.fire("movestart").fire("zoomstart");this._animateZoom(f,c,e,a,null,true);return true},_animateZoom:function(f,c,d,b,a,e){this._animatingZoom=true;i.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim");this._animateToCenter=f;this._animateToZoom=c;if(i.Draggable){i.Draggable._disabled=true}this.fire("zoomanim",{center:f,zoom:c,origin:d,scale:b,delta:a,backwards:e})},_onZoomTransitionEnd:function(){this._animatingZoom=false;i.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim");this._resetView(this._animateToCenter,this._animateToZoom,true,true);if(i.Draggable){i.Draggable._disabled=false}}});i.TileLayer.include({_animateZoom:function(a){if(!this._animating){this._animating=true;this._prepareBgBuffer()}var c=this._bgBuffer,e=i.DomUtil.TRANSFORM,d=a.delta?i.DomUtil.getTranslateString(a.delta):c.style[e],b=i.DomUtil.getScaleString(a.scale,a.origin);c.style[e]=a.backwards?b+" "+d:d+" "+b},_endZoomAnim:function(){var a=this._tileContainer,b=this._bgBuffer;a.style.visibility="";a.parentNode.appendChild(a);i.Util.falseFn(b.offsetWidth);this._animating=false},_clearBgBuffer:function(){var a=this._map;if(a&&!a._animatingZoom&&!a.touchZoom._zooming){this._bgBuffer.innerHTML="";this._bgBuffer.style[i.DomUtil.TRANSFORM]=""}},_prepareBgBuffer:function(){var b=this._tileContainer,c=this._bgBuffer;var d=this._getLoadedTilesPercentage(c),a=this._getLoadedTilesPercentage(b);if(c&&d>0.5&&a<0.5){b.style.visibility="hidden";this._stopLoadingImages(b);return}c.style.visibility="hidden";c.style[i.DomUtil.TRANSFORM]="";this._tileContainer=c;c=this._bgBuffer=b;this._stopLoadingImages(c);clearTimeout(this._clearBgBufferTimer)},_getLoadedTilesPercentage:function(d){var c=d.getElementsByTagName("img"),b,e,a=0;for(b=0,e=c.length;b<e;b++){if(c[b].complete){a++}}return a/e},_stopLoadingImages:function(d){var c=Array.prototype.slice.call(d.getElementsByTagName("img")),b,e,a;for(b=0,e=c.length;b<e;b++){a=c[b];if(!a.complete){a.onload=i.Util.falseFn;a.onerror=i.Util.falseFn;a.src=i.Util.emptyImageUrl;a.parentNode.removeChild(a)}}}});i.Map.include({_defaultLocateOptions:{watch:false,setView:false,maxZoom:Infinity,timeout:10000,maximumAge:0,enableHighAccuracy:false},locate:function(c){c=this._locateOptions=i.extend(this._defaultLocateOptions,c);if(!navigator.geolocation){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var a=i.bind(this._handleGeolocationResponse,this),b=i.bind(this._handleGeolocationError,this);if(c.watch){this._locationWatchId=navigator.geolocation.watchPosition(a,b,c)}else{navigator.geolocation.getCurrentPosition(a,b,c)}return this},stopLocate:function(){if(navigator.geolocation){navigator.geolocation.clearWatch(this._locationWatchId)}if(this._locateOptions){this._locateOptions.setView=false}return this},_handleGeolocationError:function(c){var a=c.code,b=c.message||(a===1?"permission denied":(a===2?"position unavailable":"timeout"));if(this._locateOptions.setView&&!this._loaded){this.fitWorld()}this.fire("locationerror",{code:a,message:"Geolocation error: "+b+"."})},_handleGeolocationResponse:function(d){var e=d.coords.latitude,b=d.coords.longitude,u=new i.LatLng(e,b),c=180*d.coords.accuracy/40075017,t=c/Math.cos(i.LatLng.DEG_TO_RAD*e),v=i.latLngBounds([e-c,b-t],[e+c,b+t]),w=this._locateOptions;if(w.setView){var a=Math.min(this.getBoundsZoom(v),w.maxZoom);this.setView(u,a)}var f={latlng:u,bounds:v,timestamp:d.timestamp};for(var g in d.coords){if(typeof d.coords[g]==="number"){f[g]=d.coords[g]}}this.fire("locationfound",f)}})}(window,document));