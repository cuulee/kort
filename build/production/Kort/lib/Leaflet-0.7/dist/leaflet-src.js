/*7ef58f80c266ba1490a9b3842144ffc4eec0159b*/(function(i,k,m){var h=i.L,l={};l.version="0.7";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=l}else{if(typeof define==="function"&&define.amd){define(l)}}l.noConflict=function(){i.L=h;return this};i.L=l;l.Util={extend:function(e){var f=Array.prototype.slice.call(arguments,1),d,a,b,c;for(a=0,b=f.length;a<b;a++){c=f[a]||{};for(d in c){if(c.hasOwnProperty(d)){e[d]=c[d]}}}return e},bind:function(c,b){var a=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return c.apply(b,a||arguments)}},stamp:(function(){var a=0,b="_leaflet_id";return function(c){c[b]=c[b]||++a;return c[b]}}()),invokeEach:function(e,d,a){var b,c;if(typeof e==="object"){c=Array.prototype.slice.call(arguments,3);for(b in e){d.apply(a,[b,e[b]].concat(c))}return true}return false},limitExecByInterval:function(a,e,b){var c,f;return function d(){var g=arguments;if(c){f=true;return}c=true;setTimeout(function(){c=false;if(f){d.apply(b,g);f=false}},e);a.apply(b,g)}},falseFn:function(){return false},formatNum:function(a,b){var c=Math.pow(10,b||5);return Math.round(a*c)/c},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return l.Util.trim(a).split(/\s+/)},setOptions:function(a,b){a.options=l.extend({},a.options,b);return a.options},getParamString:function(e,c,b){var d=[];for(var a in e){d.push(encodeURIComponent(b?a.toUpperCase():a)+"="+encodeURIComponent(e[a]))}return((!c||c.indexOf("?")===-1)?"?":"&")+d.join("&")},compileTemplate:function(a,b){a=a.replace(/"/g,'\\"');a=a.replace(/\{ *([\w_]+) *\}/g,function(c,d){return'" + o["'+d+'"]'+(typeof b[d]==="function"?"(o)":"")+' + "'});return new Function("o",'return "'+a+'";')},template:function(b,c){var a=l.Util._templateCache=l.Util._templateCache||{};a[b]=a[b]||l.Util.compileTemplate(b,c);return a[b](c)},isArray:Array.isArray||function(a){return(Object.prototype.toString.call(a)==="[object Array]")},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="};(function(){function e(g){var r,q,f=["webkit","moz","o","ms"];for(r=0;r<f.length&&!q;r++){q=i[f[r]+g]}return q}var d=0;function b(p){var f=+new Date(),g=Math.max(0,16-(f-d));d=f+g;return i.setTimeout(p,g)}var c=i.requestAnimationFrame||e("RequestAnimationFrame")||b;var a=i.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(f){i.clearTimeout(f)};l.Util.requestAnimFrame=function(r,g,q,f){r=l.bind(r,g);if(q&&c===b){r()}else{return c.call(i,r,f)}};l.Util.cancelAnimFrame=function(f){if(f){a.call(i,f)}}}());l.extend=l.Util.extend;l.bind=l.Util.bind;l.stamp=l.Util.stamp;l.setOptions=l.Util.setOptions;l.Class=function(){};l.Class.extend=function(a){var d=function(){if(this.initialize){this.initialize.apply(this,arguments)}if(this._initHooks){this.callInitHooks()}};var e=function(){};e.prototype=this.prototype;var f=new e();f.constructor=d;d.prototype=f;for(var c in this){if(this.hasOwnProperty(c)&&c!=="prototype"){d[c]=this[c]}}if(a.statics){l.extend(d,a.statics);delete a.statics}if(a.includes){l.Util.extend.apply(null,[f].concat(a.includes));delete a.includes}if(a.options&&f.options){a.options=l.extend({},f.options,a.options)}l.extend(f,a);f._initHooks=[];var b=this;d.__super__=b.prototype;f.callInitHooks=function(){if(this._initHooksCalled){return}if(b.prototype.callInitHooks){b.prototype.callInitHooks.call(this)}this._initHooksCalled=true;for(var p=0,g=f._initHooks.length;p<g;p++){f._initHooks[p].call(this)}};return d};l.Class.include=function(a){l.extend(this.prototype,a)};l.Class.mergeOptions=function(a){l.extend(this.prototype.options,a)};l.Class.addInitHook=function(c){var a=Array.prototype.slice.call(arguments,1);var b=typeof c==="function"?c:function(){this[c].apply(this,a)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(b)};var n="_leaflet_events";l.Mixin={};l.Mixin.Events={addEventListener:function(u,e,a){if(l.Util.invokeEach(u,this.addEventListener,this,e,a)){return this}var c=this[n]=this[n]||{},v=a&&a!==this&&l.stamp(a),w,t,b,d,x,f,g;u=l.Util.splitWords(u);for(w=0,t=u.length;w<t;w++){b={action:e,context:a||this};d=u[w];if(v){x=d+"_idx";f=x+"_len";g=c[x]=c[x]||{};if(!g[v]){g[v]=[];c[f]=(c[f]||0)+1}g[v].push(b)}else{c[d]=c[d]||[];c[d].push(b)}}return this},hasEventListeners:function(a){var b=this[n];return !!b&&((a in b&&b[a].length>0)||(a+"_idx" in b&&b[a+"_idx_len"]>0))},removeEventListener:function(c,v,a){if(!this[n]){return this}if(!c){return this.clearAllEventListeners()}if(l.Util.invokeEach(c,this.removeEventListener,this,v,a)){return this}var b=this[n],e=a&&a!==this&&l.stamp(a),f,B,w,x,z,g,y,A,d;c=l.Util.splitWords(c);for(f=0,B=c.length;f<B;f++){w=c[f];g=w+"_idx";y=g+"_len";A=b[g];if(!v){delete b[w];delete b[g];delete b[y]}else{x=e&&A?A[e]:b[w];if(x){for(z=x.length-1;z>=0;z--){if((x[z].action===v)&&(!a||(x[z].context===a))){d=x.splice(z,1);d[0].action=l.Util.falseFn}}if(a&&A&&(x.length===0)){delete A[e];b[y]--}}}}return this},clearAllEventListeners:function(){delete this[n];return this},fireEvent:function(d,r){if(!this.hasEventListeners(d)){return this}var a=l.Util.extend({},r,{type:d,target:this});var b=this[n],c,q,f,e,g;if(b[d]){c=b[d].slice();for(q=0,f=c.length;q<f;q++){c[q].action.call(c[q].context,a)}}e=b[d+"_idx"];for(g in e){c=e[g].slice();if(c){for(q=0,f=c.length;q<f;q++){c[q].action.call(c[q].context,a)}}}return this},addOneTimeEventListener:function(a,c,b){if(l.Util.invokeEach(a,this.addOneTimeEventListener,this,c,b)){return this}var d=l.bind(function(){this.removeEventListener(a,c,b).removeEventListener(a,d,b)},this);return this.addEventListener(a,c,b).addEventListener(a,d,b)}};l.Mixin.Events.on=l.Mixin.Events.addEventListener;l.Mixin.Events.off=l.Mixin.Events.removeEventListener;l.Mixin.Events.once=l.Mixin.Events.addOneTimeEventListener;l.Mixin.Events.fire=l.Mixin.Events.fireEvent;(function(){var f="ActiveXObject" in i,a=f&&!k.addEventListener,b=navigator.userAgent.toLowerCase(),N=b.indexOf("webkit")!==-1,g=b.indexOf("chrome")!==-1,L=b.indexOf("phantom")!==-1,E=b.indexOf("android")!==-1,B=b.search("android [23]")!==-1,F=b.indexOf("gecko")!==-1,J=typeof orientation!==m+"",K=i.navigator&&i.navigator.msPointerEnabled&&i.navigator.msMaxTouchPoints&&!i.PointerEvent,e=(i.PointerEvent&&i.navigator.pointerEnabled&&i.navigator.maxTouchPoints)||K,M=("devicePixelRatio" in i&&i.devicePixelRatio>1)||("matchMedia" in i&&i.matchMedia("(min-resolution:144dpi)")&&i.matchMedia("(min-resolution:144dpi)").matches),D=k.documentElement,d=f&&("transition" in D.style),C=("WebKitCSSMatrix" in i)&&("m11" in new i.WebKitCSSMatrix()),H="MozPerspective" in D.style,c="OTransition" in D.style,G=!i.L_DISABLE_3D&&(d||C||H||c)&&!L;var I=!i.L_NO_TOUCH&&!L&&(function(){var p="ontouchstart";if(e||(p in D)){return true}var o=k.createElement("div"),q=false;if(!o.setAttribute){return false}o.setAttribute(p,"return;");if(typeof o[p]==="function"){q=true}o.removeAttribute(p);o=null;return q}());l.Browser={ie:f,ielt9:a,webkit:N,gecko:F&&!N&&!i.opera&&!f,android:E,android23:B,chrome:g,ie3d:d,webkit3d:C,gecko3d:H,opera3d:c,any3d:G,mobile:J,mobileWebkit:J&&N,mobileWebkit3d:J&&C,mobileOpera:J&&i.opera,touch:I,msPointer:K,pointer:e,retina:M}}());l.Point=function(a,b,c){this.x=(c?Math.round(a):a);this.y=(c?Math.round(b):b)};l.Point.prototype={clone:function(){return new l.Point(this.x,this.y)},add:function(a){return this.clone()._add(l.point(a))},_add:function(a){this.x+=a.x;this.y+=a.y;return this},subtract:function(a){return this.clone()._subtract(l.point(a))},_subtract:function(a){this.x-=a.x;this.y-=a.y;return this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){this.x/=a;this.y/=a;return this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){this.x*=a;this.y*=a;return this},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},distanceTo:function(c){c=l.point(c);var a=c.x-this.x,b=c.y-this.y;return Math.sqrt(a*a+b*b)},equals:function(a){a=l.point(a);return a.x===this.x&&a.y===this.y},contains:function(a){a=l.point(a);return Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+l.Util.formatNum(this.x)+", "+l.Util.formatNum(this.y)+")"}};l.point=function(a,b,c){if(a instanceof l.Point){return a}if(l.Util.isArray(a)){return new l.Point(a[0],a[1])}if(a===m||a===null){return a}return new l.Point(a,b,c)};l.Bounds=function(a,b){if(!a){return}var d=b?[a,b]:a;for(var e=0,c=d.length;e<c;e++){this.extend(d[e])}};l.Bounds.prototype={extend:function(a){a=l.point(a);if(!this.min&&!this.max){this.min=a.clone();this.max=a.clone()}else{this.min.x=Math.min(a.x,this.min.x);this.max.x=Math.max(a.x,this.max.x);this.min.y=Math.min(a.y,this.min.y);this.max.y=Math.max(a.y,this.max.y)}return this},getCenter:function(a){return new l.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new l.Point(this.min.x,this.max.y)},getTopRight:function(){return new l.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(b){var c,a;if(typeof b[0]==="number"||b instanceof l.Point){b=l.point(b)}else{b=l.bounds(b)}if(b instanceof l.Bounds){c=b.min;a=b.max}else{c=a=b}return(c.x>=this.min.x)&&(a.x<=this.max.x)&&(c.y>=this.min.y)&&(a.y<=this.max.y)},intersects:function(e){e=l.bounds(e);var g=this.min,c=this.max,f=e.min,b=e.max,a=(b.x>=g.x)&&(f.x<=c.x),d=(b.y>=g.y)&&(f.y<=c.y);return a&&d},isValid:function(){return !!(this.min&&this.max)}};l.bounds=function(a,b){if(!a||a instanceof l.Bounds){return a}return new l.Bounds(a,b)};l.Transformation=function(a,b,c,d){this._a=a;this._b=b;this._c=c;this._d=d};l.Transformation.prototype={transform:function(b,a){return this._transform(b.clone(),a)},_transform:function(b,a){a=a||1;b.x=a*(this._a*b.x+this._b);b.y=a*(this._c*b.y+this._d);return b},untransform:function(b,a){a=a||1;return new l.Point((b.x/a-this._b)/this._a,(b.y/a-this._d)/this._c)}};l.DomUtil={get:function(a){return(typeof a==="string"?k.getElementById(a):a)},getStyle:function(d,a){var c=d.style[a];if(!c&&d.currentStyle){c=d.currentStyle[a]}if((!c||c==="auto")&&k.defaultView){var b=k.defaultView.getComputedStyle(d,null);c=b?b[a]:null}return c==="auto"?null:c},getViewportOffset:function(g){var d=0,r=0,s=g,f=k.body,t=k.documentElement,e;do{d+=s.offsetTop||0;r+=s.offsetLeft||0;d+=parseInt(l.DomUtil.getStyle(s,"borderTopWidth"),10)||0;r+=parseInt(l.DomUtil.getStyle(s,"borderLeftWidth"),10)||0;e=l.DomUtil.getStyle(s,"position");if(s.offsetParent===f&&e==="absolute"){break}if(e==="fixed"){d+=f.scrollTop||t.scrollTop||0;r+=f.scrollLeft||t.scrollLeft||0;break}if(e==="relative"&&!s.offsetLeft){var a=l.DomUtil.getStyle(s,"width"),c=l.DomUtil.getStyle(s,"max-width"),b=s.getBoundingClientRect();if(a!=="none"||c!=="none"){r+=b.left+s.clientLeft}d+=b.top+(f.scrollTop||t.scrollTop||0);break}s=s.offsetParent}while(s);s=g;do{if(s===f){break}d-=s.scrollTop||0;r-=s.scrollLeft||0;s=s.parentNode}while(s);return new l.Point(r,d)},documentIsLtr:function(){if(!l.DomUtil._docIsLtrCached){l.DomUtil._docIsLtrCached=true;l.DomUtil._docIsLtr=l.DomUtil.getStyle(k.body,"direction")==="ltr"}return l.DomUtil._docIsLtr},create:function(a,c,b){var d=k.createElement(a);d.className=c;if(b){b.appendChild(d)}return d},hasClass:function(b,a){if(b.classList!==m){return b.classList.contains(a)}var c=l.DomUtil._getClass(b);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)},addClass:function(d,b){if(d.classList!==m){var f=l.Util.splitWords(b);for(var a=0,c=f.length;a<c;a++){d.classList.add(f[a])}}else{if(!l.DomUtil.hasClass(d,b)){var e=l.DomUtil._getClass(d);l.DomUtil._setClass(d,(e?e+" ":"")+b)}}},removeClass:function(a,b){if(a.classList!==m){a.classList.remove(b)}else{l.DomUtil._setClass(a,l.Util.trim((" "+l.DomUtil._getClass(a)+" ").replace(" "+b+" "," ")))}},_setClass:function(a,b){if(a.className.baseVal===m){a.className=b}else{a.className.baseVal=b}},_getClass:function(a){return a.className.baseVal===m?a.className:a.className.baseVal},setOpacity:function(a,e){if("opacity" in a.style){a.style.opacity=e}else{if("filter" in a.style){var b=false,c="DXImageTransform.Microsoft.Alpha";try{b=a.filters.item(c)}catch(d){if(e===1){return}}e=Math.round(e*100);if(b){b.Enabled=(e!==100);b.Opacity=e}else{a.style.filter+=" progid:"+c+"(opacity="+e+")"}}}},testProp:function(b){var c=k.documentElement.style;for(var a=0;a<b.length;a++){if(b[a] in c){return b[a]}}return false},getTranslateString:function(b){var d=l.Browser.webkit3d,a="translate"+(d?"3d":"")+"(",c=(d?",0":"")+")";return a+b.x+"px,"+b.y+"px"+c},getScaleString:function(d,b){var c=l.DomUtil.getTranslateString(b.add(b.multiplyBy(-1*d))),a=" scale("+d+") ";return c+a},setPosition:function(b,a,c){b._leaflet_pos=a;if(!c&&l.Browser.any3d){b.style[l.DomUtil.TRANSFORM]=l.DomUtil.getTranslateString(a);if(l.Browser.mobileWebkit3d){b.style.WebkitBackfaceVisibility="hidden"}}else{b.style.left=a.x+"px";b.style.top=a.y+"px"}},getPosition:function(a){return a._leaflet_pos}};l.DomUtil.TRANSFORM=l.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);l.DomUtil.TRANSITION=l.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);l.DomUtil.TRANSITION_END=l.DomUtil.TRANSITION==="webkitTransition"||l.DomUtil.TRANSITION==="OTransition"?l.DomUtil.TRANSITION+"End":"transitionend";(function(){if("onselectstart" in k){l.extend(l.DomUtil,{disableTextSelection:function(){l.DomEvent.on(i,"selectstart",l.DomEvent.preventDefault)},enableTextSelection:function(){l.DomEvent.off(i,"selectstart",l.DomEvent.preventDefault)}})}else{var a=l.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);l.extend(l.DomUtil,{disableTextSelection:function(){if(a){var b=k.documentElement.style;this._userSelect=b[a];b[a]="none"}},enableTextSelection:function(){if(a){k.documentElement.style[a]=this._userSelect;delete this._userSelect}}})}l.extend(l.DomUtil,{disableImageDrag:function(){l.DomEvent.on(i,"dragstart",l.DomEvent.preventDefault)},enableImageDrag:function(){l.DomEvent.off(i,"dragstart",l.DomEvent.preventDefault)}})})();l.LatLng=function(b,a,c){b=parseFloat(b);a=parseFloat(a);if(isNaN(b)||isNaN(a)){throw new Error("Invalid LatLng object: ("+b+", "+a+")")}this.lat=b;this.lng=a;if(c!==m){this.alt=parseFloat(c)}};l.extend(l.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9});l.LatLng.prototype={equals:function(a){if(!a){return false}a=l.latLng(a);var b=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return b<=l.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+l.Util.formatNum(this.lat,a)+", "+l.Util.formatNum(this.lng,a)+")"},distanceTo:function(e){e=l.latLng(e);var f=6378137,s=l.LatLng.DEG_TO_RAD,d=(e.lat-this.lat)*s,b=(e.lng-this.lng)*s,g=this.lat*s,t=e.lat*s,r=Math.sin(d/2),a=Math.sin(b/2);var c=r*r+a*a*Math.cos(g)*Math.cos(t);return f*2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},wrap:function(c,a){var b=this.lng;c=c||-180;a=a||180;b=(b+a)%(a-c)+(b<c||b===a?a:c);return new l.LatLng(this.lat,b)}};l.latLng=function(a,b){if(a instanceof l.LatLng){return a}if(l.Util.isArray(a)){if(typeof a[0]==="number"||typeof a[0]==="string"){return new l.LatLng(a[0],a[1],a[2])}else{return null}}if(a===m||a===null){return a}if(typeof a==="object"&&"lat" in a){return new l.LatLng(a.lat,"lng" in a?a.lng:a.lon)}if(b===m){return null}return new l.LatLng(a,b)};l.LatLngBounds=function(d,a){if(!d){return}var b=a?[d,a]:d;for(var e=0,c=b.length;e<c;e++){this.extend(b[e])}};l.LatLngBounds.prototype={extend:function(a){if(!a){return this}var b=l.latLng(a);if(b!==null){a=b}else{a=l.latLngBounds(a)}if(a instanceof l.LatLng){if(!this._southWest&&!this._northEast){this._southWest=new l.LatLng(a.lat,a.lng);this._northEast=new l.LatLng(a.lat,a.lng)}else{this._southWest.lat=Math.min(a.lat,this._southWest.lat);this._southWest.lng=Math.min(a.lng,this._southWest.lng);this._northEast.lat=Math.max(a.lat,this._northEast.lat);this._northEast.lng=Math.max(a.lng,this._northEast.lng)}}else{if(a instanceof l.LatLngBounds){this.extend(a._southWest);this.extend(a._northEast)}}return this},pad:function(e){var b=this._southWest,d=this._northEast,c=Math.abs(b.lat-d.lat)*e,a=Math.abs(b.lng-d.lng)*e;return new l.LatLngBounds(new l.LatLng(b.lat-c,b.lng-a),new l.LatLng(d.lat+c,d.lng+a))},getCenter:function(){return new l.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new l.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new l.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){if(typeof d[0]==="number"||d instanceof l.LatLng){d=l.latLng(d)}else{d=l.latLngBounds(d)}var c=this._southWest,e=this._northEast,b,a;if(d instanceof l.LatLngBounds){b=d.getSouthWest();a=d.getNorthEast()}else{b=a=d}return(b.lat>=c.lat)&&(a.lat<=e.lat)&&(b.lng>=c.lng)&&(a.lng<=e.lng)},intersects:function(g){g=l.latLngBounds(g);var c=this._southWest,d=this._northEast,b=g.getSouthWest(),e=g.getNorthEast(),f=(e.lat>=c.lat)&&(b.lat<=d.lat),a=(e.lng>=c.lng)&&(b.lng<=d.lng);return f&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a){if(!a){return false}a=l.latLngBounds(a);return this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())},isValid:function(){return !!(this._southWest&&this._northEast)}};l.latLngBounds=function(a,b){if(!a||a instanceof l.LatLngBounds){return a}return new l.LatLngBounds(a,b)};l.Projection={};l.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(e){var a=l.LatLng.DEG_TO_RAD,c=this.MAX_LATITUDE,b=Math.max(Math.min(c,e.lat),-c),d=e.lng*a,f=b*a;f=Math.log(Math.tan((Math.PI/4)+(f/2)));return new l.Point(d,f)},unproject:function(b){var c=l.LatLng.RAD_TO_DEG,a=b.x*c,d=(2*Math.atan(Math.exp(b.y))-(Math.PI/2))*c;return new l.LatLng(d,a)}};l.Projection.LonLat={project:function(a){return new l.Point(a.lng,a.lat)},unproject:function(a){return new l.LatLng(a.y,a.x)}};l.CRS={latLngToPoint:function(c,a){var b=this.projection.project(c),d=this.scale(a);return this.transformation._transform(b,d)},pointToLatLng:function(b,d){var c=this.scale(d),a=this.transformation.untransform(b,c);return this.projection.unproject(a)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){var b=this.scale(a);return l.point(b,b)}};l.CRS.Simple=l.extend({},l.CRS,{projection:l.Projection.LonLat,transformation:new l.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}});l.CRS.EPSG3857=l.extend({},l.CRS,{code:"EPSG:3857",projection:l.Projection.SphericalMercator,transformation:new l.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(b){var c=this.projection.project(b),a=6378137;return c.multiplyBy(a)}});l.CRS.EPSG900913=l.extend({},l.CRS.EPSG3857,{code:"EPSG:900913"});l.CRS.EPSG4326=l.extend({},l.CRS,{code:"EPSG:4326",projection:l.Projection.LonLat,transformation:new l.Transformation(1/360,0.5,-1/360,0.5)});l.Map=l.Class.extend({includes:l.Mixin.Events,options:{crs:l.CRS.EPSG3857,fadeAnimation:l.DomUtil.TRANSITION&&!l.Browser.android23,trackResize:true,markerZoomAnimation:l.DomUtil.TRANSITION&&l.Browser.any3d},initialize:function(a,b){b=l.setOptions(this,b);this._initContainer(a);this._initLayout();this._onResize=l.bind(this._onResize,this);this._initEvents();if(b.maxBounds){this.setMaxBounds(b.maxBounds)}if(b.center&&b.zoom!==m){this.setView(l.latLng(b.center),b.zoom,{reset:true})}this._handlers=[];this._layers={};this._zoomBoundLayers={};this._tileLayersNum=0;this.callInitHooks();this._addLayers(b.layers)},setView:function(b,a){a=a===m?this.getZoom():a;this._resetView(l.latLng(b),this._limitZoom(a));return this},setZoom:function(a,b){if(!this._loaded){this._zoom=this._limitZoom(a);return this}return this.setView(this.getCenter(),a,{zoom:b})},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(d,e,f){var a=this.getZoomScale(e),g=this.getSize().divideBy(2),p=d instanceof l.Point?d:this.latLngToContainerPoint(d),c=p.subtract(g).multiplyBy(1-1/a),b=this.containerPointToLatLng(g.add(c));return this.setView(b,e,{zoom:f})},fitBounds:function(q,a){a=a||{};q=q.getBounds?q.getBounds():l.latLngBounds(q);var f=l.point(a.paddingTopLeft||a.padding||[0,0]),g=l.point(a.paddingBottomRight||a.padding||[0,0]),b=this.getBoundsZoom(q,false,f.add(g)),d=g.subtract(f).divideBy(2),c=this.project(q.getSouthWest(),b),e=this.project(q.getNorthEast(),b),r=this.unproject(c.add(e).divideBy(2).add(d),b);b=a&&a.maxZoom?Math.min(a.maxZoom,b):b;return this.setView(r,b,a)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(b,a){return this.setView(b,this._zoom,{pan:a})},panBy:function(a){this.fire("movestart");this._rawPanBy(l.point(a));this.fire("move");return this.fire("moveend")},setMaxBounds:function(a){a=l.latLngBounds(a);this.options.maxBounds=a;if(!a){return this.off("moveend",this._panInsideMaxBounds,this)}if(this._loaded){this._panInsideMaxBounds()}return this.on("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(c,d){var b=this.getCenter(),a=this._limitCenter(b,this._zoom,c);if(b.equals(a)){return this}return this.panTo(a,d)},addLayer:function(b){var a=l.stamp(b);if(this._layers[a]){return this}this._layers[a]=b;if(b.options&&(!isNaN(b.options.maxZoom)||!isNaN(b.options.minZoom))){this._zoomBoundLayers[a]=b;this._updateZoomLevels()}if(this.options.zoomAnimation&&l.TileLayer&&(b instanceof l.TileLayer)){this._tileLayersNum++;this._tileLayersToLoad++;b.on("load",this._onTileLayerLoad,this)}if(this._loaded){this._layerAdd(b)}return this},removeLayer:function(b){var a=l.stamp(b);if(!this._layers[a]){return this}if(this._loaded){b.onRemove(this)}delete this._layers[a];if(this._loaded){this.fire("layerremove",{layer:b})}if(this._zoomBoundLayers[a]){delete this._zoomBoundLayers[a];this._updateZoomLevels()}if(this.options.zoomAnimation&&l.TileLayer&&(b instanceof l.TileLayer)){this._tileLayersNum--;this._tileLayersToLoad--;b.off("load",this._onTileLayerLoad,this)}return this},hasLayer:function(a){if(!a){return false}return(l.stamp(a) in this._layers)},eachLayer:function(b,c){for(var a in this._layers){b.call(c,this._layers[a])}return this},invalidateSize:function(b){b=l.extend({animate:false,pan:true},b===true?{animate:true}:b);var a=this.getSize();this._sizeChanged=true;this._initialCenter=null;if(!this._loaded){return this}var c=this.getSize(),e=a.divideBy(2).round(),d=c.divideBy(2).round(),f=e.subtract(d);if(!f.x&&!f.y){return this}if(b.animate&&b.pan){this.panBy(f)}else{if(b.pan){this._rawPanBy(f)}this.fire("move");if(b.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(l.bind(this.fire,this,"moveend"),200)}else{this.fire("moveend")}}return this.fire("resize",{oldSize:a,newSize:c})},addHandler:function(a,b){if(!b){return this}var c=this[a]=new b(this);this._handlers.push(c);if(this.options[a]){c.enable()}return this},remove:function(){if(this._loaded){this.fire("unload")}this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=m}this._clearPanes();if(this._clearControlPos){this._clearControlPos()}this._clearHandlers();return this},getCenter:function(){this._checkIfLoaded();if(this._initialCenter&&!this._moved()){return this._initialCenter}return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),a=this.unproject(c.getBottomLeft()),b=this.unproject(c.getTopRight());return new l.LatLngBounds(a,b)},getMinZoom:function(){return this.options.minZoom===m?(this._layersMinZoom===m?0:this._layersMinZoom):this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===m?(this._layersMaxZoom===m?Infinity:this._layersMaxZoom):this.options.maxZoom},getBoundsZoom:function(b,a,g){b=l.latLngBounds(b);var e=this.getMinZoom()-(a?1:0),f=this.getMaxZoom(),c=this.getSize(),s=b.getNorthWest(),r=b.getSouthEast(),t=true,d;g=l.point(g||[0,0]);do{e++;d=this.project(r,e).subtract(this.project(s,e)).add(g);t=!a?c.contains(d):d.x<c.x||d.y<c.y}while(t&&e<=f);if(t&&a){return null}return a?e:e-1},getSize:function(){if(!this._size||this._sizeChanged){this._size=new l.Point(this._container.clientWidth,this._container.clientHeight);this._sizeChanged=false}return this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new l.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/b.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+(Math.log(a)/Math.LN2)},project:function(a,b){b=b===m?this._zoom:b;return this.options.crs.latLngToPoint(l.latLng(a),b)},unproject:function(b,a){a=a===m?this._zoom:a;return this.options.crs.pointToLatLng(l.point(b),a)},layerPointToLatLng:function(b){var a=l.point(b).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){var b=this.project(l.latLng(a))._round();return b._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return l.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return l.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(b){var a=this.containerPointToLayerPoint(l.point(b));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(l.latLng(a)))},mouseEventToContainerPoint:function(a){return l.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var b=this._container=l.DomUtil.get(a);if(!b){throw new Error("Map container not found.")}else{if(b._leaflet){throw new Error("Map container is already initialized.")}}b._leaflet=true},_initLayout:function(){var a=this._container;l.DomUtil.addClass(a,"leaflet-container"+(l.Browser.touch?" leaflet-touch":"")+(l.Browser.retina?" leaflet-retina":"")+(l.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var b=l.DomUtil.getStyle(a,"position");if(b!=="absolute"&&b!=="relative"&&b!=="fixed"){a.style.position="relative"}this._initPanes();if(this._initControlPos){this._initControlPos()}},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container);this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);a.shadowPane=this._createPane("leaflet-shadow-pane");a.overlayPane=this._createPane("leaflet-overlay-pane");a.markerPane=this._createPane("leaflet-marker-pane");a.popupPane=this._createPane("leaflet-popup-pane");var b=" leaflet-zoom-hide";if(!this.options.markerZoomAnimation){l.DomUtil.addClass(a.markerPane,b);l.DomUtil.addClass(a.shadowPane,b);l.DomUtil.addClass(a.popupPane,b)}},_createPane:function(a,b){return l.DomUtil.create("div",a,b||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(b){b=b?(l.Util.isArray(b)?b:[b]):[];for(var c=0,a=b.length;c<a;c++){this.addLayer(b[c])}},_resetView:function(b,f,c,a){var d=(this._zoom!==f);if(!a){this.fire("movestart");if(d){this.fire("zoomstart")}}this._zoom=f;this._initialCenter=b;this._initialTopLeftPoint=this._getNewTopLeftPoint(b);if(!c){l.DomUtil.setPosition(this._mapPane,new l.Point(0,0))}else{this._initialTopLeftPoint._add(this._getMapPanePos())}this._tileLayersToLoad=this._tileLayersNum;var e=!this._loaded;this._loaded=true;if(e){this.fire("load");this.eachLayer(this._layerAdd,this)}this.fire("viewreset",{hard:!c});this.fire("move");if(d||a){this.fire("zoomend")}this.fire("moveend",{hard:!c})},_rawPanBy:function(a){l.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,d=Infinity,c=-Infinity,e=this._getZoomSpan();for(a in this._zoomBoundLayers){var b=this._zoomBoundLayers[a];if(!isNaN(b.options.minZoom)){d=Math.min(d,b.options.minZoom)}if(!isNaN(b.options.maxZoom)){c=Math.max(c,b.options.maxZoom)}}if(a===m){this._layersMaxZoom=this._layersMinZoom=m}else{this._layersMaxZoom=c;this._layersMinZoom=d}if(e!==this._getZoomSpan()){this.fire("zoomlevelschange")}},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(a){if(!l.DomEvent){return}a=a||"on";l.DomEvent[a](this._container,"click",this._onMouseClick,this);var c=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"],d,b;for(d=0,b=c.length;d<b;d++){l.DomEvent[a](this._container,c[d],this._fireMouseEvent,this)}if(this.options.trackResize){l.DomEvent[a](i,"resize",this._onResize,this)}},_onResize:function(){l.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=l.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:true})},this,false,this._container)},_onMouseClick:function(a){if(!this._loaded||(!a._simulated&&((this.dragging&&this.dragging.moved())||(this.boxZoom&&this.boxZoom.moved())))||l.DomEvent._skipped(a)){return}this.fire("preclick");this._fireMouseEvent(a)},_fireMouseEvent:function(e){if(!this._loaded||l.DomEvent._skipped(e)){return}var a=e.type;a=(a==="mouseenter"?"mouseover":(a==="mouseleave"?"mouseout":a));if(!this.hasEventListeners(a)){return}if(a==="contextmenu"){l.DomEvent.preventDefault(e)}var b=this.mouseEventToContainerPoint(e),c=this.containerPointToLayerPoint(b),d=this.layerPointToLatLng(c);this.fire(a,{latlng:d,layerPoint:c,containerPoint:b,originalEvent:e})},_onTileLayerLoad:function(){this._tileLayersToLoad--;if(this._tileLayersNum&&!this._tileLayersToLoad){this.fire("tilelayersload")}},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++){this._handlers[a].disable()}},whenReady:function(a,b){if(this._loaded){a.call(b||this,this)}else{this.on("load",a,b)}return this},_layerAdd:function(a){a.onAdd(this);this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return l.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._round()},_latLngToNewLayerPoint:function(c,a,b){var d=this._getNewTopLeftPoint(b,a).add(this._getMapPanePos());return this.project(c,a)._subtract(d)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,g,a){if(!a){return c}var d=this.project(c,g),b=this.getSize().divideBy(2),f=new l.Bounds(d.subtract(b),d.add(b)),e=this._getBoundsOffset(f,a,g);return this.unproject(d.add(e),g)},_limitOffset:function(c,b){if(!b){return c}var d=this.getPixelBounds(),a=new l.Bounds(d.min.add(c),d.max.add(c));return c.add(this._getBoundsOffset(a,b))},_getBoundsOffset:function(g,b,e){var f=this.project(b.getNorthWest(),e).subtract(g.min),d=this.project(b.getSouthEast(),e).subtract(g.max),a=this._rebound(f.x,-d.x),c=this._rebound(f.y,-d.y);return new l.Point(a,c)},_rebound:function(a,b){return a+b>0?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(b){var c=this.getMinZoom(),a=this.getMaxZoom();return Math.max(c,Math.min(a,b))}});l.map=function(a,b){return new l.Map(a,b)};l.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(v){var e=l.LatLng.DEG_TO_RAD,b=this.MAX_LATITUDE,d=Math.max(Math.min(b,v.lat),-b),x=this.R_MAJOR,u=this.R_MINOR,a=v.lng*e*x,c=d*e,g=u/x,r=Math.sqrt(1-g*g),w=r*Math.sin(c);w=Math.pow((1-w)/(1+w),r*0.5);var f=Math.tan(0.5*((Math.PI*0.5)-c))/w;c=-x*Math.log(f);return new l.Point(a,c)},unproject:function(a){var w=l.LatLng.RAD_TO_DEG,y=this.R_MAJOR,f=this.R_MINOR,g=a.x*w/y,b=f/y,e=Math.sqrt(1-(b*b)),r=Math.exp(-a.y/y),z=(Math.PI/2)-2*Math.atan(r),d=15,A=1e-7,c=d,B=0.1,x;while((Math.abs(B)>A)&&(--c>0)){x=e*Math.sin(z);B=(Math.PI/2)-2*Math.atan(r*Math.pow((1-x)/(1+x),0.5*e))-z;z+=B}return new l.LatLng(z*w,g)}};l.CRS.EPSG3395=l.extend({},l.CRS,{code:"EPSG:3395",projection:l.Projection.Mercator,transformation:(function(){var a=l.Projection.Mercator,c=a.R_MAJOR,b=0.5/(Math.PI*c);return new l.Transformation(b,0.5,-b,0.5)}())});l.TileLayer=l.Class.extend({includes:l.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:l.Browser.mobile,updateWhenIdle:l.Browser.mobile},initialize:function(b,c){c=l.setOptions(this,c);if(c.detectRetina&&l.Browser.retina&&c.maxZoom>0){c.tileSize=Math.floor(c.tileSize/2);c.zoomOffset++;if(c.minZoom>0){c.minZoom--}this.options.maxZoom--}if(c.bounds){c.bounds=l.latLngBounds(c.bounds)}this._url=b;var a=this.options.subdomains;if(typeof a==="string"){this.options.subdomains=a.split("")}},onAdd:function(a){this._map=a;this._animated=a._zoomAnimated;this._initContainer();a.on({viewreset:this._reset,moveend:this._update},this);if(this._animated){a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this)}if(!this.options.updateWhenIdle){this._limitedUpdate=l.Util.limitExecByInterval(this._update,150,this);a.on("move",this._limitedUpdate,this)}this._reset();this._update()},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){this._container.parentNode.removeChild(this._container);a.off({viewreset:this._reset,moveend:this._update},this);if(this._animated){a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this)}if(!this.options.updateWhenIdle){a.off("move",this._limitedUpdate,this)}this._container=null;this._map=null},bringToFront:function(){var a=this._map._panes.tilePane;if(this._container){a.appendChild(this._container);this._setAutoZIndex(a,Math.max)}return this},bringToBack:function(){var a=this._map._panes.tilePane;if(this._container){a.insertBefore(this._container,a.firstChild);this._setAutoZIndex(a,Math.min)}return this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){this.options.opacity=a;if(this._map){this._updateOpacity()}return this},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},setUrl:function(b,a){this._url=b;if(!a){this.redraw()}return this},redraw:function(){if(this._map){this._reset({hard:true});this._update()}return this},_updateZIndex:function(){if(this._container&&this.options.zIndex!==m){this._container.style.zIndex=this.options.zIndex}},_setAutoZIndex:function(c,f){var e=c.children,g=-f(Infinity,-Infinity),d,a,b;for(a=0,b=e.length;a<b;a++){if(e[a]!==this._container){d=parseInt(e[a].style.zIndex,10);if(!isNaN(d)){g=f(g,d)}}}this.options.zIndex=this._container.style.zIndex=(isFinite(g)?g:0)+f(1,-1)},_updateOpacity:function(){var a,b=this._tiles;if(l.Browser.ielt9){for(a in b){l.DomUtil.setOpacity(b[a],this.options.opacity)}}else{l.DomUtil.setOpacity(this._container,this.options.opacity)}},_initContainer:function(){var b=this._map._panes.tilePane;if(!this._container){this._container=l.DomUtil.create("div","leaflet-layer");this._updateZIndex();if(this._animated){var a="leaflet-tile-container";this._bgBuffer=l.DomUtil.create("div",a,this._container);this._tileContainer=l.DomUtil.create("div",a,this._container)}else{this._tileContainer=this._container}b.appendChild(this._container);if(this.options.opacity<1){this._updateOpacity()}}},_reset:function(a){for(var b in this._tiles){this.fire("tileunload",{tile:this._tiles[b]})}this._tiles={};this._tilesToLoad=0;if(this.options.reuseTiles){this._unusedTiles=[]}this._tileContainer.innerHTML="";if(this._animated&&a&&a.hard){this._clearBgBuffer()}this._initContainer()},_getTileSize:function(){var c=this._map,a=c.getZoom()+this.options.zoomOffset,b=this.options.maxNativeZoom,d=this.options.tileSize;if(b&&a>b){d=Math.round(c.getZoomScale(a)/c.getZoomScale(b)*d)}return d},_update:function(){if(!this._map){return}var d=this._map,b=d.getPixelBounds(),c=d.getZoom(),a=this._getTileSize();if(c>this.options.maxZoom||c<this.options.minZoom){return}var e=l.bounds(b.min.divideBy(a)._floor(),b.max.divideBy(a)._floor());this._addTilesFromCenterOut(e);if(this.options.unloadInvisibleTiles||this.options.reuseTiles){this._removeOtherTiles(e)}},_addTilesFromCenterOut:function(b){var f=[],g=b.getCenter();var c,d,p;for(c=b.min.y;c<=b.max.y;c++){for(d=b.min.x;d<=b.max.x;d++){p=new l.Point(d,c);if(this._tileShouldBeLoaded(p)){f.push(p)}}}var a=f.length;if(a===0){return}f.sort(function(o,s){return o.distanceTo(g)-s.distanceTo(g)});var e=k.createDocumentFragment();if(!this._tilesToLoad){this.fire("loading")}this._tilesToLoad+=a;for(d=0;d<a;d++){this._addTile(f[d],e)}this._tileContainer.appendChild(e)},_tileShouldBeLoaded:function(e){if((e.x+":"+e.y) in this._tiles){return false}var f=this.options;if(!f.continuousWorld){var p=this._getWrapTileNum();if((f.noWrap&&(e.x<0||e.x>=p.x))||e.y<0||e.y>=p.y){return false}}if(f.bounds){var d=f.tileSize,g=e.multiplyBy(d),c=g.add([d,d]),a=this._map.unproject(g),b=this._map.unproject(c);if(!f.continuousWorld&&!f.noWrap){a=a.wrap();b=b.wrap()}if(!f.bounds.intersects([a,b])){return false}}return true},_removeOtherTiles:function(e){var a,c,d,b;for(b in this._tiles){a=b.split(":");c=parseInt(a[0],10);d=parseInt(a[1],10);if(c<e.min.x||c>e.max.x||d<e.min.y||d>e.max.y){this._removeTile(b)}}},_removeTile:function(b){var a=this._tiles[b];this.fire("tileunload",{tile:a,url:a.src});if(this.options.reuseTiles){l.DomUtil.removeClass(a,"leaflet-tile-loaded");this._unusedTiles.push(a)}else{if(a.parentNode===this._tileContainer){this._tileContainer.removeChild(a)}}if(!l.Browser.android){a.onload=null;a.src=l.Util.emptyImageUrl}delete this._tiles[b]},_addTile:function(d,b){var a=this._getTilePos(d);var c=this._getTile();l.DomUtil.setPosition(c,a,l.Browser.chrome||l.Browser.android23);this._tiles[d.x+":"+d.y]=c;this._loadTile(c,d);if(c.parentNode!==this._tileContainer){b.appendChild(c)}},_getZoomForUrl:function(){var b=this.options,a=this._map.getZoom();if(b.zoomReverse){a=b.maxZoom-a}a+=b.zoomOffset;return b.maxNativeZoom?Math.min(a,b.maxNativeZoom):a},_getTilePos:function(c){var a=this._map.getPixelOrigin(),b=this._getTileSize();return c.multiplyBy(b).subtract(a)},getTileUrl:function(a){return l.Util.template(this._url,l.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){var b=this._map.options.crs,a=b.getSize(this._map.getZoom());return a.divideBy(this.options.tileSize)},_adjustTilePoint:function(a){var b=this._getWrapTileNum();if(!this.options.continuousWorld&&!this.options.noWrap){a.x=((a.x%b.x)+b.x)%b.x}if(this.options.tms){a.y=b.y-a.y-1}a.z=this._getZoomForUrl()},_getSubdomain:function(a){var b=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[b]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var a=this._unusedTiles.pop();this._resetTile(a);return a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=l.DomUtil.create("img","leaflet-tile");a.style.width=a.style.height=this._getTileSize()+"px";a.galleryimg="no";a.onselectstart=a.onmousemove=l.Util.falseFn;if(l.Browser.ielt9&&this.options.opacity!==m){l.DomUtil.setOpacity(a,this.options.opacity)}if(l.Browser.mobileWebkit3d){a.style.WebkitBackfaceVisibility="hidden"}return a},_loadTile:function(a,b){a._layer=this;a.onload=this._tileOnLoad;a.onerror=this._tileOnError;this._adjustTilePoint(b);a.src=this.getTileUrl(b);this.fire("tileloadstart",{tile:a,url:a.src})},_tileLoaded:function(){this._tilesToLoad--;if(this._animated){l.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated")}if(!this._tilesToLoad){this.fire("load");if(this._animated){clearTimeout(this._clearBgBufferTimer);this._clearBgBufferTimer=setTimeout(l.bind(this._clearBgBuffer,this),500)}}},_tileOnLoad:function(){var a=this._layer;if(this.src!==l.Util.emptyImageUrl){l.DomUtil.addClass(this,"leaflet-tile-loaded");a.fire("tileload",{tile:this,url:this.src})}a._tileLoaded()},_tileOnError:function(){var b=this._layer;b.fire("tileerror",{tile:this,url:this.src});var a=b.options.errorTileUrl;if(a){this.src=a}b._tileLoaded()}});l.tileLayer=function(a,b){return new l.TileLayer(a,b)};l.TileLayer.WMS=l.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:false},initialize:function(a,b){this._url=a;var c=l.extend({},this.defaultWmsParams),d=b.tileSize||this.options.tileSize;if(b.detectRetina&&l.Browser.retina){c.width=c.height=d*2}else{c.width=c.height=d}for(var e in b){if(!this.options.hasOwnProperty(e)&&e!=="crs"){c[e]=b[e]}}this.wmsParams=c;l.setOptions(this,b)},onAdd:function(b){this._crs=this.options.crs||b.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code;l.TileLayer.prototype.onAdd.call(this,b)},getTileUrl:function(g){var q=this._map,a=this.options.tileSize,b=g.multiplyBy(a),d=b.add([a,a]),f=this._crs.project(q.unproject(b,g.z)),e=this._crs.project(q.unproject(d,g.z)),c=this._wmsVersion>=1.3&&this._crs===l.CRS.EPSG4326?[e.y,f.x,f.y,e.x].join(","):[f.x,e.y,e.x,f.y].join(","),r=l.Util.template(this._url,{s:this._getSubdomain(g)});return r+l.Util.getParamString(this.wmsParams,r,true)+"&BBOX="+c},setParams:function(a,b){l.extend(this.wmsParams,a);if(!b){this.redraw()}return this}});l.tileLayer.wms=function(a,b){return new l.TileLayer.WMS(a,b)};l.TileLayer.Canvas=l.TileLayer.extend({options:{async:false},initialize:function(a){l.setOptions(this,a)},redraw:function(){if(this._map){this._reset({hard:true});this._update()}for(var a in this._tiles){this._redrawTile(this._tiles[a])}return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=l.DomUtil.create("canvas","leaflet-tile");a.width=a.height=this.options.tileSize;a.onselectstart=a.onmousemove=l.Util.falseFn;return a},_loadTile:function(a,b){a._layer=this;a._tilePoint=b;this._redrawTile(a);if(!this.options.async){this.tileDrawn(a)}},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}});l.tileLayer.canvas=function(a){return new l.TileLayer.Canvas(a)};l.ImageOverlay=l.Class.extend({includes:l.Mixin.Events,options:{opacity:1},initialize:function(c,b,a){this._url=c;this._bounds=l.latLngBounds(b);l.setOptions(this,a)},onAdd:function(a){this._map=a;if(!this._image){this._initImage()}a._panes.overlayPane.appendChild(this._image);a.on("viewreset",this._reset,this);if(a.options.zoomAnimation&&l.Browser.any3d){a.on("zoomanim",this._animateZoom,this)}this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image);a.off("viewreset",this._reset,this);if(a.options.zoomAnimation){a.off("zoomanim",this._animateZoom,this)}},addTo:function(a){a.addLayer(this);return this},setOpacity:function(a){this.options.opacity=a;this._updateOpacity();return this},bringToFront:function(){if(this._image){this._map._panes.overlayPane.appendChild(this._image)}return this},bringToBack:function(){var a=this._map._panes.overlayPane;if(this._image){a.insertBefore(this._image,a.firstChild)}return this},setUrl:function(a){this._url=a;this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=l.DomUtil.create("img","leaflet-image-layer");if(this._map.options.zoomAnimation&&l.Browser.any3d){l.DomUtil.addClass(this._image,"leaflet-zoom-animated")}else{l.DomUtil.addClass(this._image,"leaflet-zoom-hide")}this._updateOpacity();l.extend(this._image,{galleryimg:"no",onselectstart:l.Util.falseFn,onmousemove:l.Util.falseFn,onload:l.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(e){var r=this._map,g=this._image,q=r.getZoomScale(e.zoom),f=this._bounds.getNorthWest(),d=this._bounds.getSouthEast(),b=r._latLngToNewLayerPoint(f,e.zoom,e.center),a=r._latLngToNewLayerPoint(d,e.zoom,e.center)._subtract(b),c=b._add(a._multiplyBy((1/2)*(1-1/q)));g.style[l.DomUtil.TRANSFORM]=l.DomUtil.getTranslateString(c)+" scale("+q+") "},_reset:function(){var b=this._image,c=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),a=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(c);l.DomUtil.setPosition(b,c);b.style.width=a.x+"px";b.style.height=a.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){l.DomUtil.setOpacity(this._image,this.options.opacity)}});l.imageOverlay=function(c,b,a){return new l.ImageOverlay(c,b,a)};l.Icon=l.Class.extend({options:{className:""},initialize:function(a){l.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,d){var c=this._getIconUrl(a);if(!c){if(a==="icon"){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var b;if(!d||d.tagName!=="IMG"){b=this._createImg(c)}else{b=this._createImg(c,d)}this._setIconStyles(b,a);return b},_setIconStyles:function(c,e){var a=this.options,d=l.point(a[e+"Size"]),b;if(e==="shadow"){b=l.point(a.shadowAnchor||a.iconAnchor)}else{b=l.point(a.iconAnchor)}if(!b&&d){b=d.divideBy(2,true)}c.className="leaflet-marker-"+e+" "+a.className;if(b){c.style.marginLeft=(-b.x)+"px";c.style.marginTop=(-b.y)+"px"}if(d){c.style.width=d.x+"px";c.style.height=d.y+"px"}},_createImg:function(a,b){b=b||k.createElement("img");b.src=a;return b},_getIconUrl:function(a){if(l.Browser.retina&&this.options[a+"RetinaUrl"]){return this.options[a+"RetinaUrl"]}return this.options[a+"Url"]}});l.icon=function(a){return new l.Icon(a)};l.Icon.Default=l.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var c=a+"Url";if(this.options[c]){return this.options[c]}if(l.Browser.retina&&a==="icon"){a+="-2x"}var b=l.Icon.Default.imagePath;if(!b){throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.")}return b+"/marker-"+a+".png"}});l.Icon.Default.imagePath=(function(){var a=k.getElementsByTagName("script"),f=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;var g,b,c,e,d;for(g=0,b=a.length;g<b;g++){c=a[g].src;e=c.match(f);if(e){d=c.split(f)[0];return(d?d+"/":"")+"images"}}}());l.Marker=l.Class.extend({includes:l.Mixin.Events,options:{icon:new l.Icon.Default(),title:"",alt:"",clickable:true,draggable:false,keyboard:true,zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250},initialize:function(a,b){l.setOptions(this,b);this._latlng=l.latLng(a)},onAdd:function(a){this._map=a;a.on("viewreset",this.update,this);this._initIcon();this.update();this.fire("add");if(a.options.zoomAnimation&&a.options.markerZoomAnimation){a.on("zoomanim",this._animateZoom,this)}},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){if(this.dragging){this.dragging.disable()}this._removeIcon();this._removeShadow();this.fire("remove");a.off({viewreset:this.update,zoomanim:this._animateZoom},this);this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=l.latLng(a);this.update();return this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){this.options.zIndexOffset=a;this.update();return this},setIcon:function(a){this.options.icon=a;if(this._map){this._initIcon();this.update()}if(this._popup){this.bindPopup(this._popup)}return this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var b=this.options,r=this._map,f=(r.options.zoomAnimation&&r.options.markerZoomAnimation),g=f?"leaflet-zoom-animated":"leaflet-zoom-hide";var c=b.icon.createIcon(this._icon),e=false;if(c!==this._icon){if(this._icon){this._removeIcon()}e=true;if(b.title){c.title=b.title}if(b.alt){c.alt=b.alt}}l.DomUtil.addClass(c,g);if(b.keyboard){c.tabIndex="0"}this._icon=c;this._initInteraction();if(b.riseOnHover){l.DomEvent.on(c,"mouseover",this._bringToFront,this).on(c,"mouseout",this._resetZIndex,this)}var a=b.icon.createShadow(this._shadow),q=false;if(a!==this._shadow){this._removeShadow();q=true}if(a){l.DomUtil.addClass(a,g)}this._shadow=a;if(b.opacity<1){this._updateOpacity()}var d=this._map._panes;if(e){d.markerPane.appendChild(this._icon)}if(a&&q){d.shadowPane.appendChild(this._shadow)}},_removeIcon:function(){if(this.options.riseOnHover){l.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex)}this._map._panes.markerPane.removeChild(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow){this._map._panes.shadowPane.removeChild(this._shadow)}this._shadow=null},_setPos:function(a){l.DomUtil.setPosition(this._icon,a);if(this._shadow){l.DomUtil.setPosition(this._shadow,a)}this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(b){var a=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center).round();this._setPos(a)},_initInteraction:function(){if(!this.options.clickable){return}var b=this._icon,c=["dblclick","mousedown","mouseover","mouseout","contextmenu"];l.DomUtil.addClass(b,"leaflet-clickable");l.DomEvent.on(b,"click",this._onMouseClick,this);l.DomEvent.on(b,"keypress",this._onKeyPress,this);for(var a=0;a<c.length;a++){l.DomEvent.on(b,c[a],this._fireMouseEvent,this)}if(l.Handler.MarkerDrag){this.dragging=new l.Handler.MarkerDrag(this);if(this.options.draggable){this.dragging.enable()}}},_onMouseClick:function(a){var b=this.dragging&&this.dragging.moved();if(this.hasEventListeners(a.type)||b){l.DomEvent.stopPropagation(a)}if(b){return}if((!this.dragging||!this.dragging._enabled)&&this._map.dragging&&this._map.dragging.moved()){return}this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){if(a.keyCode===13){this.fire("click",{originalEvent:a,latlng:this._latlng})}},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng});if(a.type==="contextmenu"&&this.hasEventListeners(a.type)){l.DomEvent.preventDefault(a)}if(a.type!=="mousedown"){l.DomEvent.stopPropagation(a)}else{l.DomEvent.preventDefault(a)}},setOpacity:function(a){this.options.opacity=a;if(this._map){this._updateOpacity()}return this},_updateOpacity:function(){l.DomUtil.setOpacity(this._icon,this.options.opacity);if(this._shadow){l.DomUtil.setOpacity(this._shadow,this.options.opacity)}},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});l.marker=function(a,b){return new l.Marker(a,b)};l.DivIcon=l.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:false},createIcon:function(c){var b=(c&&c.tagName==="DIV")?c:k.createElement("div"),a=this.options;if(a.html!==false){b.innerHTML=a.html}else{b.innerHTML=""}if(a.bgPos){b.style.backgroundPosition=(-a.bgPos.x)+"px "+(-a.bgPos.y)+"px"}this._setIconStyles(b,"icon");return b},createShadow:function(){return null}});l.divIcon=function(a){return new l.DivIcon(a)};l.Map.mergeOptions({closePopupOnClick:true});l.Popup=l.Class.extend({includes:l.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:true,closeButton:true,offset:[0,7],autoPanPadding:[5,5],keepInView:false,className:"",zoomAnimation:true},initialize:function(b,a){l.setOptions(this,b);this._source=a;this._animated=l.Browser.any3d&&this.options.zoomAnimation;this._isOpen=false},onAdd:function(a){this._map=a;if(!this._container){this._initLayout()}var b=a.options.fadeAnimation;if(b){l.DomUtil.setOpacity(this._container,0)}a._panes.popupPane.appendChild(this._container);a.on(this._getEvents(),this);this.update();if(b){l.DomUtil.setOpacity(this._container,1)}this.fire("open");a.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this})}},addTo:function(a){a.addLayer(this);return this},openOn:function(a){a.openPopup(this);return this},onRemove:function(a){a._panes.popupPane.removeChild(this._container);l.Util.falseFn(this._container.offsetWidth);a.off(this._getEvents(),this);if(a.options.fadeAnimation){l.DomUtil.setOpacity(this._container,0)}this._map=null;this.fire("close");a.fire("popupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this})}},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=l.latLng(a);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return this._content},setContent:function(a){this._content=a;this.update();return this},update:function(){if(!this._map){return}this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},_getEvents:function(){var a={viewreset:this._updatePosition};if(this._animated){a.zoomanim=this._zoomAnimation}if("closeOnClick" in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick){a.preclick=this._close}if(this.options.keepInView){a.moveend=this._adjustPan}return a},_close:function(){if(this._map){this._map.closePopup(this)}},_initLayout:function(){var a="leaflet-popup",e=a+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),c=this._container=l.DomUtil.create("div",e),b;if(this.options.closeButton){b=this._closeButton=l.DomUtil.create("a",a+"-close-button",c);b.href="#close";b.innerHTML="&#215;";l.DomEvent.disableClickPropagation(b);l.DomEvent.on(b,"click",this._onCloseButtonClick,this)}var d=this._wrapper=l.DomUtil.create("div",a+"-content-wrapper",c);l.DomEvent.disableClickPropagation(d);this._contentNode=l.DomUtil.create("div",a+"-content",d);l.DomEvent.disableScrollPropagation(this._contentNode);l.DomEvent.on(d,"contextmenu",l.DomEvent.stopPropagation);this._tipContainer=l.DomUtil.create("div",a+"-tip-container",c);this._tip=l.DomUtil.create("div",a+"-tip",this._tipContainer)},_updateContent:function(){if(!this._content){return}if(typeof this._content==="string"){this._contentNode.innerHTML=this._content}else{while(this._contentNode.hasChildNodes()){this._contentNode.removeChild(this._contentNode.firstChild)}this._contentNode.appendChild(this._content)}this.fire("contentupdate")},_updateLayout:function(){var c=this._contentNode,a=c.style;a.width="";a.whiteSpace="nowrap";var b=c.offsetWidth;b=Math.min(b,this.options.maxWidth);b=Math.max(b,this.options.minWidth);a.width=(b+1)+"px";a.whiteSpace="";a.height="";var d=c.offsetHeight,f=this.options.maxHeight,e="leaflet-popup-scrolled";if(f&&d>f){a.height=f+"px";l.DomUtil.addClass(c,e)}else{l.DomUtil.removeClass(c,e)}this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(!this._map){return}var b=this._map.latLngToLayerPoint(this._latlng),a=this._animated,c=l.point(this.options.offset);if(a){l.DomUtil.setPosition(this._container,b)}this._containerBottom=-c.y-(a?0:b.y);this._containerLeft=-Math.round(this._containerWidth/2)+c.x+(a?0:b.x);this._container.style.bottom=this._containerBottom+"px";this._container.style.left=this._containerLeft+"px"},_zoomAnimation:function(b){var a=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center);l.DomUtil.setPosition(this._container,a)},_adjustPan:function(){if(!this.options.autoPan){return}var c=this._map,e=this._container.offsetHeight,t=this._containerWidth,v=new l.Point(this._containerLeft,-e-this._containerBottom);if(this._animated){v._add(l.DomUtil.getPosition(this._container))}var a=c.layerPointToContainerPoint(v),u=l.point(this.options.autoPanPadding),b=l.point(this.options.autoPanPaddingTopLeft||u),d=l.point(this.options.autoPanPaddingBottomRight||u),f=c.getSize(),g=0,s=0;if(a.x+t+d.x>f.x){g=a.x+t-f.x+d.x}if(a.x-g-b.x<0){g=a.x-b.x}if(a.y+e+d.y>f.y){s=a.y+e-f.y+d.y}if(a.y-s-b.y<0){s=a.y-b.y}if(g||s){c.fire("autopanstart").panBy([g,s])}},_onCloseButtonClick:function(a){this._close();l.DomEvent.stop(a)}});l.popup=function(b,a){return new l.Popup(b,a)};l.Map.include({openPopup:function(b,c,a){this.closePopup();if(!(b instanceof l.Popup)){var d=b;b=new l.Popup(a).setLatLng(c).setContent(d)}b._isOpen=true;this._popup=b;return this.addLayer(b)},closePopup:function(a){if(!a||a===this._popup){a=this._popup;this._popup=null}if(a){this.removeLayer(a);a._isOpen=false}return this}});l.Marker.include({openPopup:function(){if(this._popup&&this._map&&!this._map.hasLayer(this._popup)){this._popup.setLatLng(this._latlng);this._map.openPopup(this._popup)}return this},closePopup:function(){if(this._popup){this._popup._close()}return this},togglePopup:function(){if(this._popup){if(this._popup._isOpen){this.closePopup()}else{this.openPopup()}}return this},bindPopup:function(b,c){var a=l.point(this.options.icon.options.popupAnchor||[0,0]);a=a.add(l.Popup.prototype.options.offset);if(c&&c.offset){a=a.add(c.offset)}c=l.extend({offset:a},c);if(!this._popupHandlersAdded){this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this);this._popupHandlersAdded=true}if(b instanceof l.Popup){l.setOptions(b,c);this._popup=b}else{this._popup=new l.Popup(c,this).setContent(b)}return this},setPopupContent:function(a){if(this._popup){this._popup.setContent(a)}return this},unbindPopup:function(){if(this._popup){this._popup=null;this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this);this._popupHandlersAdded=false}return this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}});l.LayerGroup=l.Class.extend({initialize:function(b){this._layers={};var c,a;if(b){for(c=0,a=b.length;c<a;c++){this.addLayer(b[c])}}},addLayer:function(b){var a=this.getLayerId(b);this._layers[a]=b;if(this._map){this._map.addLayer(b)}return this},removeLayer:function(b){var a=b in this._layers?b:this.getLayerId(b);if(this._map&&this._layers[a]){this._map.removeLayer(this._layers[a])}delete this._layers[a];return this},hasLayer:function(a){if(!a){return false}return(a in this._layers||this.getLayerId(a) in this._layers)},clearLayers:function(){this.eachLayer(this.removeLayer,this);return this},invoke:function(b){var a=Array.prototype.slice.call(arguments,1),c,d;for(c in this._layers){d=this._layers[c];if(d[b]){d[b].apply(d,a)}}return this},onAdd:function(a){this._map=a;this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a);this._map=null},addTo:function(a){a.addLayer(this);return this},eachLayer:function(b,c){for(var a in this._layers){b.call(c,this._layers[a])}return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var b in this._layers){a.push(this._layers[b])}return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return l.stamp(a)}});l.layerGroup=function(a){return new l.LayerGroup(a)};l.FeatureGroup=l.LayerGroup.extend({includes:l.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){if(this.hasLayer(a)){return this}if("on" in a){a.on(l.FeatureGroup.EVENTS,this._propagateEvent,this)}l.LayerGroup.prototype.addLayer.call(this,a);if(this._popupContent&&a.bindPopup){a.bindPopup(this._popupContent,this._popupOptions)}return this.fire("layeradd",{layer:a})},removeLayer:function(a){if(!this.hasLayer(a)){return this}if(a in this._layers){a=this._layers[a]}a.off(l.FeatureGroup.EVENTS,this._propagateEvent,this);l.LayerGroup.prototype.removeLayer.call(this,a);if(this._popupContent){this.invoke("unbindPopup")}return this.fire("layerremove",{layer:a})},bindPopup:function(a,b){this._popupContent=a;this._popupOptions=b;return this.invoke("bindPopup",a,b)},openPopup:function(a){for(var b in this._layers){this._layers[b].openPopup(a);break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new l.LatLngBounds();this.eachLayer(function(b){a.extend(b instanceof l.Marker?b.getLatLng():b.getBounds())});return a},_propagateEvent:function(a){a=l.extend({},a,{layer:a.target,target:this});this.fire(a.type,a)}});l.featureGroup=function(a){return new l.FeatureGroup(a)};l.Path=l.Class.extend({includes:[l.Mixin.Events],statics:{CLIP_PADDING:(function(){var b=l.Browser.mobile?1280:2000,a=(b/Math.max(i.outerWidth,i.outerHeight)-1)/2;return Math.max(0,Math.min(0.5,a))})()},options:{stroke:true,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:0.5,fill:false,fillColor:null,fillOpacity:0.2,clickable:true},initialize:function(a){l.setOptions(this,a)},onAdd:function(a){this._map=a;if(!this._container){this._initElements();this._initEvents()}this.projectLatlngs();this._updatePath();if(this._container){this._map._pathRoot.appendChild(this._container)}this.fire("add");a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){a._pathRoot.removeChild(this._container);this.fire("remove");this._map=null;if(l.Browser.vml){this._container=null;this._stroke=null;this._fill=null}a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){l.setOptions(this,a);if(this._container){this._updateStyle()}return this},redraw:function(){if(this._map){this.projectLatlngs();this._updatePath()}return this}});l.Map.include({_updatePathViewport:function(){var d=l.Path.CLIP_PADDING,e=this.getSize(),b=l.DomUtil.getPosition(this._mapPane),a=b.multiplyBy(-1)._subtract(e.multiplyBy(d)._round()),c=a.add(e.multiplyBy(1+d*2)._round());this._pathViewport=new l.Bounds(a,c)}});l.Path.SVG_NS="http://www.w3.org/2000/svg";l.Browser.svg=!!(k.createElementNS&&k.createElementNS(l.Path.SVG_NS,"svg").createSVGRect);l.Path=l.Path.extend({statics:{SVG:l.Browser.svg},bringToFront:function(){var b=this._map._pathRoot,a=this._container;if(a&&b.lastChild!==a){b.appendChild(a)}return this},bringToBack:function(){var a=this._map._pathRoot,c=this._container,b=a.firstChild;if(c&&b!==c){a.insertBefore(c,b)}return this},getPathString:function(){},_createElement:function(a){return k.createElementNS(l.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot();this._initPath();this._initStyle()},_initPath:function(){this._container=this._createElement("g");this._path=this._createElement("path");if(this.options.className){l.DomUtil.addClass(this._path,this.options.className)}this._container.appendChild(this._path)},_initStyle:function(){if(this.options.stroke){this._path.setAttribute("stroke-linejoin","round");this._path.setAttribute("stroke-linecap","round")}if(this.options.fill){this._path.setAttribute("fill-rule","evenodd")}if(this.options.pointerEvents){this._path.setAttribute("pointer-events",this.options.pointerEvents)}if(!this.options.clickable&&!this.options.pointerEvents){this._path.setAttribute("pointer-events","none")}this._updateStyle()},_updateStyle:function(){if(this.options.stroke){this._path.setAttribute("stroke",this.options.color);this._path.setAttribute("stroke-opacity",this.options.opacity);this._path.setAttribute("stroke-width",this.options.weight);if(this.options.dashArray){this._path.setAttribute("stroke-dasharray",this.options.dashArray)}else{this._path.removeAttribute("stroke-dasharray")}if(this.options.lineCap){this._path.setAttribute("stroke-linecap",this.options.lineCap)}if(this.options.lineJoin){this._path.setAttribute("stroke-linejoin",this.options.lineJoin)}}else{this._path.setAttribute("stroke","none")}if(this.options.fill){this._path.setAttribute("fill",this.options.fillColor||this.options.color);this._path.setAttribute("fill-opacity",this.options.fillOpacity)}else{this._path.setAttribute("fill","none")}},_updatePath:function(){var a=this.getPathString();if(!a){a="M0 0"}this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){if(l.Browser.svg||!l.Browser.vml){l.DomUtil.addClass(this._path,"leaflet-clickable")}l.DomEvent.on(this._container,"click",this._onMouseClick,this);var a=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"];for(var b=0;b<a.length;b++){l.DomEvent.on(this._container,a[b],this._fireMouseEvent,this)}}},_onMouseClick:function(a){if(this._map.dragging&&this._map.dragging.moved()){return}this._fireMouseEvent(a)},_fireMouseEvent:function(e){if(!this.hasEventListeners(e.type)){return}var a=this._map,b=a.mouseEventToContainerPoint(e),c=a.containerPointToLayerPoint(b),d=a.layerPointToLatLng(c);this.fire(e.type,{latlng:d,layerPoint:c,containerPoint:b,originalEvent:e});if(e.type==="contextmenu"){l.DomEvent.preventDefault(e)}if(e.type!=="mousemove"){l.DomEvent.stopPropagation(e)}}});l.Map.include({_initPathRoot:function(){if(!this._pathRoot){this._pathRoot=l.Path.prototype._createElement("svg");this._panes.overlayPane.appendChild(this._pathRoot);if(this.options.zoomAnimation&&l.Browser.any3d){l.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated");this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})}else{l.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide")}this.on("moveend",this._updateSvgViewport);this._updateSvgViewport()}},_animatePathZoom:function(a){var b=this.getZoomScale(a.zoom),c=this._getCenterOffset(a.center)._multiplyBy(-b)._add(this._pathViewport.min);this._pathRoot.style[l.DomUtil.TRANSFORM]=l.DomUtil.getTranslateString(c)+" scale("+b+") ";this._pathZooming=true},_endPathZoom:function(){this._pathZooming=false},_updateSvgViewport:function(){if(this._pathZooming){return}this._updatePathViewport();var g=this._pathViewport,f=g.min,b=g.max,e=b.x-f.x,c=b.y-f.y,a=this._pathRoot,d=this._panes.overlayPane;if(l.Browser.mobileWebkit){d.removeChild(a)}l.DomUtil.setPosition(a,f);a.setAttribute("width",e);a.setAttribute("height",c);a.setAttribute("viewBox",[f.x,f.y,e,c].join(" "));if(l.Browser.mobileWebkit){d.appendChild(a)}}});l.Path.include({bindPopup:function(a,b){if(a instanceof l.Popup){this._popup=a}else{if(!this._popup||b){this._popup=new l.Popup(b,this)}this._popup.setContent(a)}if(!this._popupHandlersAdded){this.on("click",this._openPopup,this).on("remove",this.closePopup,this);this._popupHandlersAdded=true}return this},unbindPopup:function(){if(this._popup){this._popup=null;this.off("click",this._openPopup).off("remove",this.closePopup);this._popupHandlersAdded=false}return this},openPopup:function(a){if(this._popup){a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)];this._openPopup({latlng:a})}return this},closePopup:function(){if(this._popup){this._popup._close()}return this},_openPopup:function(a){this._popup.setLatLng(a.latlng);this._map.openPopup(this._popup)}});l.Browser.vml=!l.Browser.svg&&(function(){try{var b=k.createElement("div");b.innerHTML='<v:shape adj="1"/>';var a=b.firstChild;a.style.behavior="url(#default#VML)";return a&&(typeof a.adj==="object")}catch(c){return false}}());l.Path=l.Browser.svg||!l.Browser.vml?l.Path:l.Path.extend({statics:{VML:true,CLIP_PADDING:0.02},_createElement:(function(){try{k.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(b){return k.createElement("<lvml:"+b+' class="lvml">')}}catch(a){return function(b){return k.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),_initPath:function(){var a=this._container=this._createElement("shape");l.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:""));if(this.options.clickable){l.DomUtil.addClass(a,"leaflet-clickable")}a.coordsize="1 1";this._path=this._createElement("path");a.appendChild(this._path);this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var c=this._stroke,d=this._fill,a=this.options,b=this._container;b.stroked=a.stroke;b.filled=a.fill;if(a.stroke){if(!c){c=this._stroke=this._createElement("stroke");c.endcap="round";b.appendChild(c)}c.weight=a.weight+"px";c.color=a.color;c.opacity=a.opacity;if(a.dashArray){c.dashStyle=l.Util.isArray(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," ")}else{c.dashStyle=""}if(a.lineCap){c.endcap=a.lineCap.replace("butt","flat")}if(a.lineJoin){c.joinstyle=a.lineJoin}}else{if(c){b.removeChild(c);this._stroke=null}}if(a.fill){if(!d){d=this._fill=this._createElement("fill");b.appendChild(d)}d.color=a.fillColor||a.color;d.opacity=a.fillOpacity}else{if(d){b.removeChild(d);this._fill=null}}},_updatePath:function(){var a=this._container.style;a.display="none";this._path.v=this.getPathString()+" ";a.display=""}});l.Map.include(l.Browser.svg||!l.Browser.vml?{}:{_initPathRoot:function(){if(this._pathRoot){return}var a=this._pathRoot=k.createElement("div");a.className="leaflet-vml-container";this._panes.overlayPane.appendChild(a);this.on("moveend",this._updatePathViewport);this._updatePathViewport()}});l.Browser.canvas=(function(){return !!k.createElement("canvas").getContext}());l.Path=(l.Path.SVG&&!i.L_PREFER_CANVAS)||!l.Browser.canvas?l.Path:l.Path.extend({statics:{CANVAS:true,SVG:false},redraw:function(){if(this._map){this.projectLatlngs();this._requestUpdate()}return this},setStyle:function(a){l.setOptions(this,a);if(this._map){this._updateStyle();this._requestUpdate()}return this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this);if(this.options.clickable){this._map.off("click",this._onClick,this);this._map.off("mousemove",this._onMouseMove,this)}this._requestUpdate();this._map=null},_requestUpdate:function(){if(this._map&&!l.Path._updateRequest){l.Path._updateRequest=l.Util.requestAnimFrame(this._fireMapMoveEnd,this._map)}},_fireMapMoveEnd:function(){l.Path._updateRequest=null;this.fire("moveend")},_initElements:function(){this._map._initPathRoot();this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;if(a.stroke){this._ctx.lineWidth=a.weight;this._ctx.strokeStyle=a.color}if(a.fill){this._ctx.fillStyle=a.fillColor||a.color}},_drawPath:function(){var c,d,a,f,b,e;this._ctx.beginPath();for(c=0,a=this._parts.length;c<a;c++){for(d=0,f=this._parts[c].length;d<f;d++){b=this._parts[c][d];e=(d===0?"move":"line")+"To";this._ctx[e](b.x,b.y)}if(this instanceof l.Polygon){this._ctx.closePath()}}},_checkIfEmpty:function(){return !this._parts.length},_updatePath:function(){if(this._checkIfEmpty()){return}var b=this._ctx,a=this.options;this._drawPath();b.save();this._updateStyle();if(a.fill){b.globalAlpha=a.fillOpacity;b.fill()}if(a.stroke){b.globalAlpha=a.opacity;b.stroke()}b.restore()},_initEvents:function(){if(this.options.clickable){this._map.on("mousemove",this._onMouseMove,this);this._map.on("click",this._onClick,this)}},_onClick:function(a){if(this._containsPoint(a.layerPoint)){this.fire("click",a)}},_onMouseMove:function(a){if(!this._map||this._map._animatingZoom){return}if(this._containsPoint(a.layerPoint)){this._ctx.canvas.style.cursor="pointer";this._mouseInside=true;this.fire("mouseover",a)}else{if(this._mouseInside){this._ctx.canvas.style.cursor="";this._mouseInside=false;this.fire("mouseout",a)}}}});l.Map.include((l.Path.SVG&&!i.L_PREFER_CANVAS)||!l.Browser.canvas?{}:{_initPathRoot:function(){var a=this._pathRoot,b;if(!a){a=this._pathRoot=k.createElement("canvas");a.style.position="absolute";b=this._canvasCtx=a.getContext("2d");b.lineCap="round";b.lineJoin="round";this._panes.overlayPane.appendChild(a);if(this.options.zoomAnimation){this._pathRoot.className="leaflet-zoom-animated";this.on("zoomanim",this._animatePathZoom);this.on("zoomend",this._endPathZoom)}this.on("moveend",this._updateCanvasViewport);this._updateCanvasViewport()}},_updateCanvasViewport:function(){if(this._pathZooming){return}this._updatePathViewport();var a=this._pathViewport,c=a.min,d=a.max.subtract(c),b=this._pathRoot;l.DomUtil.setPosition(b,c);b.width=d.x;b.height=d.y;b.getContext("2d").translate(-c.x,-c.y)}});l.LineUtil={simplify:function(b,a){if(!a||!b.length){return b.slice()}var c=a*a;b=this._reducePoints(b,c);b=this._simplifyDP(b,c);return b},pointToSegmentDistance:function(c,b,a){return Math.sqrt(this._sqClosestPointOnSegment(c,b,a,true))},closestPointOnSegment:function(c,b,a){return this._sqClosestPointOnSegment(c,b,a)},_simplifyDP:function(e,a){var b=e.length,f=typeof Uint8Array!==m+""?Uint8Array:Array,c=new f(b);c[0]=c[b-1]=1;this._simplifyDPStep(e,c,a,0,b-1);var g,d=[];for(g=0;g<b;g++){if(c[g]){d.push(e[g])}}return d},_simplifyDPStep:function(b,r,a,e,c){var q=0,d,g,f;for(g=e+1;g<=c-1;g++){f=this._sqClosestPointOnSegment(b[g],b[e],b[c],true);if(f>q){d=g;q=f}}if(q>a){r[d]=1;this._simplifyDPStep(b,r,a,e,d);this._simplifyDPStep(b,r,a,d,c)}},_reducePoints:function(f,b){var d=[f[0]];for(var a=1,e=0,c=f.length;a<c;a++){if(this._sqDist(f[a],f[e])>b){d.push(f[a]);e=a}}if(e<c-1){d.push(f[c-1])}return d},clipSegment:function(b,c,r,a){var e=a?this._lastCode:this._getBitCode(b,r),g=this._getBitCode(c,r),f,p,d;this._lastCode=g;while(true){if(!(e|g)){return[b,c]}else{if(e&g){return false}else{f=e||g;p=this._getEdgeIntersection(b,c,f,r);d=this._getBitCode(p,r);if(f===e){b=p;e=d}else{c=p;g=d}}}}},_getEdgeIntersection:function(g,a,d,b){var f=a.x-g.x,p=a.y-g.y,e=b.min,c=b.max;if(d&8){return new l.Point(g.x+f*(c.y-g.y)/p,c.y)}else{if(d&4){return new l.Point(g.x+f*(e.y-g.y)/p,e.y)}else{if(d&2){return new l.Point(c.x,g.y+p*(c.x-g.x)/f)}else{if(d&1){return new l.Point(e.x,g.y+p*(e.x-g.x)/f)}}}}},_getBitCode:function(b,c){var a=0;if(b.x<c.min.x){a|=1}else{if(b.x>c.max.x){a|=2}}if(b.y<c.min.y){a|=4}else{if(b.y>c.max.y){a|=8}}return a},_sqDist:function(c,d){var a=d.x-c.x,b=d.y-c.y;return a*a+b*b},_sqClosestPointOnSegment:function(a,f,g,t){var p=f.x,s=f.y,c=g.x-p,d=g.y-s,b=c*c+d*d,e;if(b>0){e=((a.x-p)*c+(a.y-s)*d)/b;if(e>1){p=g.x;s=g.y}else{if(e>0){p+=c*e;s+=d*e}}}c=a.x-p;d=a.y-s;return t?c*c+d*d:new l.Point(p,s)}};l.Polyline=l.Path.extend({initialize:function(b,a){l.Path.prototype.initialize.call(this,a);this._latlngs=this._convertLatLngs(b)},options:{smoothFactor:1,noClip:false},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;a<b;a++){this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])}},getPathString:function(){for(var c=0,a=this._parts.length,b="";c<a;c++){b+=this._getPathPartStr(this._parts[c])}return b},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){this._latlngs=this._convertLatLngs(a);return this.redraw()},addLatLng:function(a){this._latlngs.push(l.latLng(a));return this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);this._convertLatLngs(this._latlngs,true);this.redraw();return a},closestLayerPoint:function(v){var d=Infinity,u=this._parts,x,c,b=null;for(var p=0,w=u.length;p<w;p++){var a=u[p];for(var g=1,e=a.length;g<e;g++){x=a[g-1];c=a[g];var f=l.LineUtil._sqClosestPointOnSegment(v,x,c,true);if(f<d){d=f;b=l.LineUtil._sqClosestPointOnSegment(v,x,c)}}}if(b){b.distance=Math.sqrt(d)}return b},getBounds:function(){return new l.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(b,a){var e,c,d=a?b:[];for(e=0,c=b.length;e<c;e++){if(l.Util.isArray(b[e])&&typeof b[e][0]!=="number"){return}d[e]=l.latLng(b[e])}return d},_initEvents:function(){l.Path.prototype._initEvents.call(this)},_getPathPartStr:function(f){var b=l.Path.VML;for(var a=0,c=f.length,d="",e;a<c;a++){e=f[a];if(b){e._round()}d+=(a?"L":"M")+e.x+" "+e.y}return d},_clipPoints:function(){var c=this._originalPoints,p=c.length,e,f,d;if(this.options.noClip){this._parts=[c];return}this._parts=[];var b=this._parts,g=this._map._pathViewport,a=l.LineUtil;for(e=0,f=0;e<p-1;e++){d=a.clipSegment(c[e],c[e+1],g,e);if(!d){continue}b[f]=b[f]||[];b[f].push(d[0]);if((d[1]!==c[e+1])||(e===p-2)){b[f].push(d[1]);f++}}},_simplifyPoints:function(){var d=this._parts,c=l.LineUtil;for(var a=0,b=d.length;a<b;a++){d[a]=c.simplify(d[a],this.options.smoothFactor)}},_updatePath:function(){if(!this._map){return}this._clipPoints();this._simplifyPoints();l.Path.prototype._updatePath.call(this)}});l.polyline=function(b,a){return new l.Polyline(b,a)};l.PolyUtil={};l.PolyUtil.clipPolygon=function(p,f){var g,x=[1,4,2,8],w,y,a,z,b,v,d,e,c=l.LineUtil;for(w=0,v=p.length;w<v;w++){p[w]._code=c._getBitCode(p[w],f)}for(a=0;a<4;a++){d=x[a];g=[];for(w=0,v=p.length,y=v-1;w<v;y=w++){z=p[w];b=p[y];if(!(z._code&d)){if(b._code&d){e=c._getEdgeIntersection(b,z,d,f);e._code=c._getBitCode(e,f);g.push(e)}g.push(z)}else{if(!(b._code&d)){e=c._getEdgeIntersection(b,z,d,f);e._code=c._getBitCode(e,f);g.push(e)}}}p=g}return p};l.Polygon=l.Polyline.extend({options:{fill:true},initialize:function(b,a){l.Polyline.prototype.initialize.call(this,b,a);this._initWithHoles(b)},_initWithHoles:function(a){var d,b,c;if(a&&l.Util.isArray(a[0])&&(typeof a[0][0]!=="number")){this._latlngs=this._convertLatLngs(a[0]);this._holes=a.slice(1);for(d=0,b=this._holes.length;d<b;d++){c=this._holes[d]=this._convertLatLngs(this._holes[d]);if(c[0].equals(c[c.length-1])){c.pop()}}}a=this._latlngs;if(a.length>=2&&a[0].equals(a[a.length-1])){a.pop()}},projectLatlngs:function(){l.Polyline.prototype.projectLatlngs.call(this);this._holePoints=[];if(!this._holes){return}var c,d,b,a;for(c=0,b=this._holes.length;c<b;c++){this._holePoints[c]=[];for(d=0,a=this._holes[c].length;d<a;d++){this._holePoints[c][d]=this._map.latLngToLayerPoint(this._holes[c][d])}}},setLatLngs:function(a){if(a&&l.Util.isArray(a[0])&&(typeof a[0][0]!=="number")){this._initWithHoles(a);return this.redraw()}else{return l.Polyline.prototype.setLatLngs.call(this,a)}},_clipPoints:function(){var e=this._originalPoints,d=[];this._parts=[e].concat(this._holePoints);if(this.options.noClip){return}for(var a=0,b=this._parts.length;a<b;a++){var c=l.PolyUtil.clipPolygon(this._parts[a],this._map._pathViewport);if(c.length){d.push(c)}}this._parts=d},_getPathPartStr:function(b){var a=l.Polyline.prototype._getPathPartStr.call(this,b);return a+(l.Browser.svg?"z":"x")}});l.polygon=function(b,a){return new l.Polygon(b,a)};(function(){function a(b){return l.FeatureGroup.extend({initialize:function(d,c){this._layers={};this._options=c;this.setLatLngs(d)},setLatLngs:function(d){var c=0,e=d.length;this.eachLayer(function(f){if(c<e){f.setLatLngs(d[c++])}else{this.removeLayer(f)}},this);while(c<e){this.addLayer(new b(d[c++],this._options))}return this},getLatLngs:function(){var c=[];this.eachLayer(function(d){c.push(d.getLatLngs())});return c}})}l.MultiPolyline=a(l.Polyline);l.MultiPolygon=a(l.Polygon);l.multiPolyline=function(b,c){return new l.MultiPolyline(b,c)};l.multiPolygon=function(b,c){return new l.MultiPolygon(b,c)}}());l.Rectangle=l.Polygon.extend({initialize:function(a,b){l.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){a=l.latLngBounds(a);return[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});l.rectangle=function(a,b){return new l.Rectangle(a,b)};l.Circle=l.Path.extend({initialize:function(b,a,c){l.Path.prototype.initialize.call(this,c);this._latlng=l.latLng(b);this._mRadius=a},options:{fill:true},setLatLng:function(a){this._latlng=l.latLng(a);return this.redraw()},setRadius:function(a){this._mRadius=a;return this.redraw()},projectLatlngs:function(){var b=this._getLngRadius(),c=this._latlng,a=this._map.latLngToLayerPoint([c.lat,c.lng-b]);this._point=this._map.latLngToLayerPoint(c);this._radius=Math.max(this._point.x-a.x,1)},getBounds:function(){var b=this._getLngRadius(),a=(this._mRadius/40075017)*360,c=this._latlng;return new l.LatLngBounds([c.lat-a,c.lng-b],[c.lat+a,c.lng+b])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,b=this._radius;if(this._checkIfEmpty()){return""}if(l.Browser.svg){return"M"+a.x+","+(a.y-b)+"A"+b+","+b+",0,1,1,"+(a.x-0.1)+","+(a.y-b)+" z"}else{a._round();b=Math.round(b);return"AL "+a.x+","+a.y+" "+b+","+b+" 0,"+(65535*360)}},getRadius:function(){return this._mRadius},_getLatRadius:function(){return(this._mRadius/40075017)*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(l.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map){return false}var a=this._map._pathViewport,c=this._radius,b=this._point;return b.x-c>a.max.x||b.y-c>a.max.y||b.x+c<a.min.x||b.y+c<a.min.y}});l.circle=function(b,a,c){return new l.Circle(b,a,c)};l.CircleMarker=l.Circle.extend({options:{radius:10,weight:2},initialize:function(a,b){l.Circle.prototype.initialize.call(this,a,null,b);this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){l.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius)},setLatLng:function(a){l.Circle.prototype.setLatLng.call(this,a);if(this._popup&&this._popup._isOpen){this._popup.setLatLng(a)}},setRadius:function(a){this.options.radius=this._radius=a;return this.redraw()},getRadius:function(){return this._radius}});l.circleMarker=function(a,b){return new l.CircleMarker(a,b)};l.Polyline.include(!l.Path.CANVAS?{}:{_containsPoint:function(s,c){var d,e,g,b,f,a,p,t=this.options.weight/2;if(l.Browser.touch){t+=10}for(d=0,b=this._parts.length;d<b;d++){p=this._parts[d];for(e=0,f=p.length,g=f-1;e<f;g=e++){if(!c&&(e===0)){continue}a=l.LineUtil.pointToSegmentDistance(s,p[g],p[e]);if(a<=t){return true}}}return false}});l.Polygon.include(!l.Path.CANVAS?{}:{_containsPoint:function(s){var g=false,p,t,a,c,d,e,b,f;if(l.Polyline.prototype._containsPoint.call(this,s,true)){return true}for(c=0,b=this._parts.length;c<b;c++){p=this._parts[c];for(d=0,f=p.length,e=f-1;d<f;e=d++){t=p[d];a=p[e];if(((t.y>s.y)!==(a.y>s.y))&&(s.x<(a.x-t.x)*(s.y-t.y)/(a.y-t.y)+t.x)){g=!g}}}return g}});l.Circle.include(!l.Path.CANVAS?{}:{_drawPath:function(){var a=this._point;this._ctx.beginPath();this._ctx.arc(a.x,a.y,this._radius,0,Math.PI*2,false)},_containsPoint:function(b){var c=this._point,a=this.options.stroke?this.options.weight/2:0;return(b.distanceTo(c)<=this._radius+a)}});l.CircleMarker.include(!l.Path.CANVAS?{}:{_updateStyle:function(){l.Path.prototype._updateStyle.call(this)}});l.GeoJSON=l.FeatureGroup.extend({initialize:function(a,b){l.setOptions(this,b);this._layers={};if(a){this.addData(a)}},addData:function(g){var c=l.Util.isArray(g)?g:g.features,d,b,e;if(c){for(d=0,b=c.length;d<b;d++){e=c[d];if(e.geometries||e.geometry||e.features||e.coordinates){this.addData(c[d])}}return this}var a=this.options;if(a.filter&&!a.filter(g)){return}var f=l.GeoJSON.geometryToLayer(g,a.pointToLayer,a.coordsToLatLng,a);f.feature=l.GeoJSON.asFeature(g);f.defaultOptions=f.options;this.resetStyle(f);if(a.onEachFeature){a.onEachFeature(g,f)}return this.addLayer(f)},resetStyle:function(b){var a=this.options.style;if(a){l.Util.extend(b.options,b.defaultOptions);this._setLayerStyle(b,a)}},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(b,a){if(typeof a==="function"){a=a(b.feature)}if(b.setStyle){b.setStyle(a)}}});l.extend(l.GeoJSON,{geometryToLayer:function(b,a,v,g){var e=b.type==="Feature"?b.geometry:b,d=e.coordinates,s=[],u,c,t,f;v=v||this.coordsToLatLng;switch(e.type){case"Point":u=v(d);return a?a(b,u):new l.Marker(u);case"MultiPoint":for(t=0,f=d.length;t<f;t++){u=v(d[t]);s.push(a?a(b,u):new l.Marker(u))}return new l.FeatureGroup(s);case"LineString":c=this.coordsToLatLngs(d,0,v);return new l.Polyline(c,g);case"Polygon":if(d.length===2&&!d[1].length){throw new Error("Invalid GeoJSON object.")}c=this.coordsToLatLngs(d,1,v);return new l.Polygon(c,g);case"MultiLineString":c=this.coordsToLatLngs(d,1,v);return new l.MultiPolyline(c,g);case"MultiPolygon":c=this.coordsToLatLngs(d,2,v);return new l.MultiPolygon(c,g);case"GeometryCollection":for(t=0,f=e.geometries.length;t<f;t++){s.push(this.geometryToLayer({geometry:e.geometries[t],type:"Feature",properties:b.properties},a,v,g))}return new l.FeatureGroup(s);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(a){return new l.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(e,f,c){var d,g,a,b=[];for(g=0,a=e.length;g<a;g++){d=f?this.coordsToLatLngs(e[g],f-1,c):(c||this.coordsToLatLng)(e[g]);b.push(d)}return b},latLngToCoords:function(a){var b=[a.lng,a.lat];if(a.alt!==m){b.push(a.alt)}return b},latLngsToCoords:function(c){var d=[];for(var a=0,b=c.length;a<b;a++){d.push(l.GeoJSON.latLngToCoords(c[a]))}return d},getFeature:function(a,b){return a.feature?l.extend({},a.feature,{geometry:b}):l.GeoJSON.asFeature(b)},asFeature:function(a){if(a.type==="Feature"){return a}return{type:"Feature",properties:{},geometry:a}}});var j={toGeoJSON:function(){return l.GeoJSON.getFeature(this,{type:"Point",coordinates:l.GeoJSON.latLngToCoords(this.getLatLng())})}};l.Marker.include(j);l.Circle.include(j);l.CircleMarker.include(j);l.Polyline.include({toGeoJSON:function(){return l.GeoJSON.getFeature(this,{type:"LineString",coordinates:l.GeoJSON.latLngsToCoords(this.getLatLngs())})}});l.Polygon.include({toGeoJSON:function(){var c=[l.GeoJSON.latLngsToCoords(this.getLatLngs())],a,b,d;c[0].push(c[0][0]);if(this._holes){for(a=0,b=this._holes.length;a<b;a++){d=l.GeoJSON.latLngsToCoords(this._holes[a]);d.push(d[0]);c.push(d)}}return l.GeoJSON.getFeature(this,{type:"Polygon",coordinates:c})}});(function(){function a(b){return function(){var c=[];this.eachLayer(function(d){c.push(d.toGeoJSON().geometry.coordinates)});return l.GeoJSON.getFeature(this,{type:b,coordinates:c})}}l.MultiPolyline.include({toGeoJSON:a("MultiLineString")});l.MultiPolygon.include({toGeoJSON:a("MultiPolygon")});l.LayerGroup.include({toGeoJSON:function(){var e=this.feature&&this.feature.geometry,b=[],c;if(e&&e.type==="MultiPoint"){return a("MultiPoint").call(this)}var d=e&&e.type==="GeometryCollection";this.eachLayer(function(f){if(f.toGeoJSON){c=f.toGeoJSON();b.push(d?c.geometry:l.GeoJSON.asFeature(c))}});if(d){return l.GeoJSON.getFeature(this,{geometries:b,type:"GeometryCollection"})}return{type:"FeatureCollection",features:b}}})}());l.geoJson=function(a,b){return new l.GeoJSON(a,b)};l.DomEvent={addListener:function(f,d,c,q){var r=l.stamp(c),b="_leaflet_"+d+r,a,e,g;if(f[b]){return this}a=function(o){return c.call(q||f,o||l.DomEvent._getEvent())};if(l.Browser.pointer&&d.indexOf("touch")===0){return this.addPointerListener(f,d,a,r)}if(l.Browser.touch&&(d==="dblclick")&&this.addDoubleTapListener){this.addDoubleTapListener(f,a,r)}if("addEventListener" in f){if(d==="mousewheel"){f.addEventListener("DOMMouseScroll",a,false);f.addEventListener(d,a,false)}else{if((d==="mouseenter")||(d==="mouseleave")){e=a;g=(d==="mouseenter"?"mouseover":"mouseout");a=function(o){if(!l.DomEvent._checkMouse(f,o)){return}return e(o)};f.addEventListener(g,a,false)}else{if(d==="click"&&l.Browser.android){e=a;a=function(o){return l.DomEvent._filterClick(o,e)};f.addEventListener(d,a,false)}else{f.addEventListener(d,a,false)}}}}else{if("attachEvent" in f){f.attachEvent("on"+d,a)}}f[b]=a;return this},removeListener:function(f,a,b){var e=l.stamp(b),d="_leaflet_"+a+e,c=f[d];if(!c){return this}if(l.Browser.pointer&&a.indexOf("touch")===0){this.removePointerListener(f,a,e)}else{if(l.Browser.touch&&(a==="dblclick")&&this.removeDoubleTapListener){this.removeDoubleTapListener(f,e)}else{if("removeEventListener" in f){if(a==="mousewheel"){f.removeEventListener("DOMMouseScroll",c,false);f.removeEventListener(a,c,false)}else{if((a==="mouseenter")||(a==="mouseleave")){f.removeEventListener((a==="mouseenter"?"mouseover":"mouseout"),c,false)}else{f.removeEventListener(a,c,false)}}}else{if("detachEvent" in f){f.detachEvent("on"+a,c)}}}}f[d]=null;return this},stopPropagation:function(a){if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}l.DomEvent._skipped(a);return this},disableScrollPropagation:function(a){var b=l.DomEvent.stopPropagation;return l.DomEvent.on(a,"mousewheel",b).on(a,"MozMousePixelScroll",b)},disableClickPropagation:function(b){var c=l.DomEvent.stopPropagation;for(var a=l.Draggable.START.length-1;a>=0;a--){l.DomEvent.on(b,l.Draggable.START[a],c)}return l.DomEvent.on(b,"click",l.DomEvent._fakeStop).on(b,"dblclick",c)},preventDefault:function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}return this},stop:function(a){return l.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(r,b){var s=k.body,a=k.documentElement,c=l.DomUtil.documentIsLtr()?(r.pageX?r.pageX-s.scrollLeft-a.scrollLeft:r.clientX):(l.Browser.gecko?r.pageX-s.scrollLeft-a.scrollLeft:r.pageX?r.pageX-s.scrollLeft+a.scrollLeft:r.clientX),f=r.pageY?r.pageY-s.scrollTop-a.scrollTop:r.clientY,e=new l.Point(c,f);if(!b){return e}var d=b.getBoundingClientRect(),t=d.left-b.clientLeft,g=d.top-b.clientTop;return e._subtract(new l.Point(t,g))},getWheelDelta:function(b){var a=0;if(b.wheelDelta){a=b.wheelDelta/120}if(b.detail){a=-b.detail/3}return a},_skipEvents:{},_fakeStop:function(a){l.DomEvent._skipEvents[a.type]=true},_skipped:function(a){var b=this._skipEvents[a.type];this._skipEvents[a.type]=false;return b},_checkMouse:function(b,c){var d=c.relatedTarget;if(!d){return true}try{while(d&&(d!==b)){d=d.parentNode}}catch(a){return false}return(d!==b)},_getEvent:function(){var a=i.event;if(!a){var b=arguments.callee.caller;while(b){a=b["arguments"][0];if(a&&i.Event===a.constructor){break}b=b.caller}}return a},_filterClick:function(c,d){var a=(c.timeStamp||c.originalEvent.timeStamp),b=l.DomEvent._lastClick&&(a-l.DomEvent._lastClick);if((b&&b>100&&b<1000)||(c.target._simulatedClick&&!c._simulated)){l.DomEvent.stop(c);return}l.DomEvent._lastClick=a;return d(c)}};l.DomEvent.on=l.DomEvent.addListener;l.DomEvent.off=l.DomEvent.removeListener;l.Draggable=l.Class.extend({includes:l.Mixin.Events,statics:{START:l.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(b,a){this._element=b;this._dragStartTarget=a||b},enable:function(){if(this._enabled){return}for(var a=l.Draggable.START.length-1;a>=0;a--){l.DomEvent.on(this._dragStartTarget,l.Draggable.START[a],this._onDown,this)}this._enabled=true},disable:function(){if(!this._enabled){return}for(var a=l.Draggable.START.length-1;a>=0;a--){l.DomEvent.off(this._dragStartTarget,l.Draggable.START[a],this._onDown,this)}this._enabled=false;this._moved=false},_onDown:function(b){this._moved=false;if(b.shiftKey||((b.which!==1)&&(b.button!==1)&&!b.touches)){return}l.DomEvent.stopPropagation(b);if(l.Draggable._disabled){return}l.DomUtil.disableImageDrag();l.DomUtil.disableTextSelection();if(this._moving){return}var a=b.touches?b.touches[0]:b;this._startPoint=new l.Point(a.clientX,a.clientY);this._startPos=this._newPos=l.DomUtil.getPosition(this._element);l.DomEvent.on(k,l.Draggable.MOVE[b.type],this._onMove,this).on(k,l.Draggable.END[b.type],this._onUp,this)},_onMove:function(a){if(a.touches&&a.touches.length>1){this._moved=true;return}var c=(a.touches&&a.touches.length===1?a.touches[0]:a),b=new l.Point(c.clientX,c.clientY),d=b.subtract(this._startPoint);if(!d.x&&!d.y){return}l.DomEvent.preventDefault(a);if(!this._moved){this.fire("dragstart");this._moved=true;this._startPos=l.DomUtil.getPosition(this._element).subtract(d);l.DomUtil.addClass(k.body,"leaflet-dragging");l.DomUtil.addClass((a.target||a.srcElement),"leaflet-drag-target")}this._newPos=this._startPos.add(d);this._moving=true;l.Util.cancelAnimFrame(this._animRequest);this._animRequest=l.Util.requestAnimFrame(this._updatePosition,this,true,this._dragStartTarget)},_updatePosition:function(){this.fire("predrag");l.DomUtil.setPosition(this._element,this._newPos);this.fire("drag")},_onUp:function(a){l.DomUtil.removeClass(k.body,"leaflet-dragging");l.DomUtil.removeClass((a.target||a.srcElement),"leaflet-drag-target");for(var b in l.Draggable.MOVE){l.DomEvent.off(k,l.Draggable.MOVE[b],this._onMove).off(k,l.Draggable.END[b],this._onUp)}l.DomUtil.enableImageDrag();l.DomUtil.enableTextSelection();if(this._moved){l.Util.cancelAnimFrame(this._animRequest);this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})}this._moving=false}});l.Handler=l.Class.extend({initialize:function(a){this._map=a},enable:function(){if(this._enabled){return}this._enabled=true;this.addHooks()},disable:function(){if(!this._enabled){return}this._enabled=false;this.removeHooks()},enabled:function(){return !!this._enabled}});l.Map.mergeOptions({dragging:true,inertia:!l.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,inertiaThreshold:l.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:false});l.Map.Drag=l.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new l.Draggable(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);if(a.options.worldCopyJump){this._draggable.on("predrag",this._onPreDrag,this);a.on("viewreset",this._onViewReset,this);a.whenReady(this._onViewReset,this)}}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;if(a._panAnim){a._panAnim.stop()}a.fire("movestart").fire("dragstart");if(a.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(){if(this._map.options.inertia){var b=this._lastTime=+new Date(),a=this._lastPos=this._draggable._newPos;this._positions.push(a);this._times.push(b);if(b-this._times[0]>200){this._positions.shift();this._times.shift()}}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(a).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var d=this._worldWidth,e=Math.round(d/2),b=this._initialWorldOffset,c=this._draggable._newPos.x,g=(c-e+b)%d+e-b,a=(c+e+b)%d-e-b,f=Math.abs(g+b)<Math.abs(a+b)?g:a;this._draggable._newPos.x=f},_onDragEnd:function(b){var B=this._map,d=B.options,e=+new Date()-this._lastTime,c=!d.inertia||e>d.inertiaThreshold||!this._positions[0];B.fire("dragend",b);if(c){B.fire("moveend")}else{var a=this._lastPos.subtract(this._positions[0]),g=(this._lastTime+e-this._times[0])/1000,v=d.easeLinearity,w=a.multiplyBy(v/g),z=w.distanceTo([0,0]),x=Math.min(d.inertiaMaxSpeed,z),y=w.multiplyBy(x/z),A=x/(d.inertiaDeceleration*v),f=y.multiplyBy(-A/2).round();if(!f.x||!f.y){B.fire("moveend")}else{f=B._limitOffset(f,B.options.maxBounds);l.Util.requestAnimFrame(function(){B.panBy(f,{duration:A,easeLinearity:v,noMoveStart:true})})}}}});l.Map.addInitHook("addHandler","dragging",l.Map.Drag);l.Map.mergeOptions({doubleClickZoom:true});l.Map.DoubleClickZoom=l.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(b){var c=this._map,a=c.getZoom()+(b.originalEvent.shiftKey?-1:1);if(c.options.doubleClickZoom==="center"){c.setZoom(a)}else{c.setZoomAround(b.containerPoint,a)}}});l.Map.addInitHook("addHandler","doubleClickZoom",l.Map.DoubleClickZoom);l.Map.mergeOptions({scrollWheelZoom:true});l.Map.ScrollWheelZoom=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);l.DomEvent.on(this._map._container,"MozMousePixelScroll",l.DomEvent.preventDefault);this._delta=0},removeHooks:function(){l.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll);l.DomEvent.off(this._map._container,"MozMousePixelScroll",l.DomEvent.preventDefault)},_onWheelScroll:function(c){var b=l.DomEvent.getWheelDelta(c);this._delta+=b;this._lastMousePos=this._map.mouseEventToContainerPoint(c);if(!this._startTime){this._startTime=+new Date()}var a=Math.max(40-(+new Date()-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(l.bind(this._performZoom,this),a);l.DomEvent.preventDefault(c);l.DomEvent.stopPropagation(c)},_performZoom:function(){var c=this._map,b=this._delta,a=c.getZoom();b=b>0?Math.ceil(b):Math.floor(b);b=Math.max(Math.min(b,4),-4);b=c._limitZoom(a+b)-a;this._delta=0;this._startTime=null;if(!b){return}if(c.options.scrollWheelZoom==="center"){c.setZoom(a+b)}else{c.setZoomAround(this._lastMousePos,a+b)}}});l.Map.addInitHook("addHandler","scrollWheelZoom",l.Map.ScrollWheelZoom);l.extend(l.DomEvent,{_touchstart:l.Browser.msPointer?"MSPointerDown":l.Browser.pointer?"pointerdown":"touchstart",_touchend:l.Browser.msPointer?"MSPointerUp":l.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(v,d,b){var x,e=false,g=250,w,A="_leaflet_",f=this._touchstart,y=this._touchend,B=[];function z(r){var o;if(l.Browser.pointer){B.push(r.pointerId);o=B.length}else{o=r.touches.length}if(o>1){return}var p=Date.now(),q=p-(x||p);w=r.touches?r.touches[0]:r;e=(q>0&&q<=g);x=p}function c(q){if(l.Browser.pointer){var s=B.indexOf(q.pointerId);if(s===-1){return}B.splice(s,1)}if(e){if(l.Browser.pointer){var o={},p;for(var r in w){p=w[r];if(typeof p==="function"){o[r]=p.bind(w)}else{o[r]=p}}w=o}w.type="dblclick";d(w);x=null}}v[A+f+b]=z;v[A+y+b]=c;var a=l.Browser.pointer?k.documentElement:v;v.addEventListener(f,z,false);a.addEventListener(y,c,false);if(l.Browser.pointer){a.addEventListener(l.DomEvent.POINTER_CANCEL,c,false)}return this},removeDoubleTapListener:function(c,b){var a="_leaflet_";c.removeEventListener(this._touchstart,c[a+this._touchstart+b],false);(l.Browser.pointer?k.documentElement:c).removeEventListener(this._touchend,c[a+this._touchend+b],false);if(l.Browser.pointer){k.documentElement.removeEventListener(l.DomEvent.POINTER_CANCEL,c[a+this._touchend+b],false)}return this}});l.extend(l.DomEvent,{POINTER_DOWN:l.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:l.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:l.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:l.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:false,addPointerListener:function(d,a,b,c){switch(a){case"touchstart":return this.addPointerListenerStart(d,a,b,c);case"touchend":return this.addPointerListenerEnd(d,a,b,c);case"touchmove":return this.addPointerListenerMove(d,a,b,c);default:throw"Unknown touch event type"}},addPointerListenerStart:function(a,f,g,d){var e="_leaflet_",b=this._pointers;var c=function(o){l.DomEvent.preventDefault(o);var s=false;for(var t=0;t<b.length;t++){if(b[t].pointerId===o.pointerId){s=true;break}}if(!s){b.push(o)}o.touches=b.slice();o.changedTouches=[o];g(o)};a[e+"touchstart"+d]=c;a.addEventListener(this.POINTER_DOWN,c,false);if(!this._pointerDocumentListener){var p=function(o){for(var r=0;r<b.length;r++){if(b[r].pointerId===o.pointerId){b.splice(r,1);break}}};k.documentElement.addEventListener(this.POINTER_UP,p,false);k.documentElement.addEventListener(this.POINTER_CANCEL,p,false);this._pointerDocumentListener=true}return this},addPointerListenerMove:function(e,a,b,d){var f="_leaflet_",g=this._pointers;function c(q){if((q.pointerType===q.MSPOINTER_TYPE_MOUSE||q.pointerType==="mouse")&&q.buttons===0){return}for(var r=0;r<g.length;r++){if(g[r].pointerId===q.pointerId){g[r]=q;break}}q.touches=g.slice();q.changedTouches=[q];b(q)}e[f+"touchmove"+d]=c;e.addEventListener(this.POINTER_MOVE,c,false);return this},addPointerListenerEnd:function(e,a,b,d){var f="_leaflet_",g=this._pointers;var c=function(q){for(var r=0;r<g.length;r++){if(g[r].pointerId===q.pointerId){g.splice(r,1);break}}q.touches=g.slice();q.changedTouches=[q];b(q)};e[f+"touchend"+d]=c;e.addEventListener(this.POINTER_UP,c,false);e.addEventListener(this.POINTER_CANCEL,c,false);return this},removePointerListener:function(e,b,d){var a="_leaflet_",c=e[a+b+d];switch(b){case"touchstart":e.removeEventListener(this.POINTER_DOWN,c,false);break;case"touchmove":e.removeEventListener(this.POINTER_MOVE,c,false);break;case"touchend":e.removeEventListener(this.POINTER_UP,c,false);e.removeEventListener(this.POINTER_CANCEL,c,false);break}return this}});l.Map.mergeOptions({touchZoom:l.Browser.touch&&!l.Browser.android23,bounceAtZoomLimits:true});l.Map.TouchZoom=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){l.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var a=this._map;if(!e.touches||e.touches.length!==2||a._animatingZoom||this._zooming){return}var d=a.mouseEventToLayerPoint(e.touches[0]),b=a.mouseEventToLayerPoint(e.touches[1]),c=a._getCenterLayerPoint();this._startCenter=d.add(b)._divideBy(2);this._startDist=d.distanceTo(b);this._moved=false;this._zooming=true;this._centerOffset=c.subtract(this._startCenter);if(a._panAnim){a._panAnim.stop()}l.DomEvent.on(k,"touchmove",this._onTouchMove,this).on(k,"touchend",this._onTouchEnd,this);l.DomEvent.preventDefault(e)},_onTouchMove:function(d){var a=this._map;if(!d.touches||d.touches.length!==2||!this._zooming){return}var c=a.mouseEventToLayerPoint(d.touches[0]),b=a.mouseEventToLayerPoint(d.touches[1]);this._scale=c.distanceTo(b)/this._startDist;this._delta=c._add(b)._divideBy(2)._subtract(this._startCenter);if(this._scale===1){return}if(!a.options.bounceAtZoomLimits){if((a.getZoom()===a.getMinZoom()&&this._scale<1)||(a.getZoom()===a.getMaxZoom()&&this._scale>1)){return}}if(!this._moved){l.DomUtil.addClass(a._mapPane,"leaflet-touching");a.fire("movestart").fire("zoomstart");this._moved=true}l.Util.cancelAnimFrame(this._animRequest);this._animRequest=l.Util.requestAnimFrame(this._updateOnMove,this,true,this._map._container);l.DomEvent.preventDefault(d)},_updateOnMove:function(){var c=this._map,a=this._getScaleOrigin(),b=c.layerPointToLatLng(a),d=c.getScaleZoom(this._scale);c._animateZoom(b,d,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=false;return}var a=this._map;this._zooming=false;l.DomUtil.removeClass(a._mapPane,"leaflet-touching");l.Util.cancelAnimFrame(this._animRequest);l.DomEvent.off(k,"touchmove",this._onTouchMove).off(k,"touchend",this._onTouchEnd);var p=this._getScaleOrigin(),b=a.layerPointToLatLng(p),e=a.getZoom(),c=a.getScaleZoom(this._scale)-e,g=(c>0?Math.ceil(c):Math.floor(c)),f=a._limitZoom(e+g),d=a.getZoomScale(f)/this._scale;a._animateZoom(b,f,p,d)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}});l.Map.addInitHook("addHandler","touchZoom",l.Map.TouchZoom);l.Map.mergeOptions({tap:true,tapTolerance:15});l.Map.Tap=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){l.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(!c.touches){return}l.DomEvent.preventDefault(c);this._fireClick=true;if(c.touches.length>1){this._fireClick=false;clearTimeout(this._holdTimeout);return}var b=c.touches[0],a=b.target;this._startPos=this._newPos=new l.Point(b.clientX,b.clientY);if(a.tagName&&a.tagName.toLowerCase()==="a"){l.DomUtil.addClass(a,"leaflet-active")}this._holdTimeout=setTimeout(l.bind(function(){if(this._isTapValid()){this._fireClick=false;this._onUp();this._simulateEvent("contextmenu",b)}},this),1000);l.DomEvent.on(k,"touchmove",this._onMove,this).on(k,"touchend",this._onUp,this)},_onUp:function(c){clearTimeout(this._holdTimeout);l.DomEvent.off(k,"touchmove",this._onMove,this).off(k,"touchend",this._onUp,this);if(this._fireClick&&c&&c.changedTouches){var b=c.changedTouches[0],a=b.target;if(a&&a.tagName&&a.tagName.toLowerCase()==="a"){l.DomUtil.removeClass(a,"leaflet-active")}if(this._isTapValid()){this._simulateEvent("click",b)}}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(b){var a=b.touches[0];this._newPos=new l.Point(a.clientX,a.clientY)},_simulateEvent:function(a,b){var c=k.createEvent("MouseEvents");c._simulated=true;b.target._simulatedClick=true;c.initMouseEvent(a,true,true,i,1,b.screenX,b.screenY,b.clientX,b.clientY,false,false,false,false,0,null);b.target.dispatchEvent(c)}});if(l.Browser.touch&&!l.Browser.pointer){l.Map.addInitHook("addHandler","tap",l.Map.Tap)}l.Map.mergeOptions({boxZoom:true});l.Map.BoxZoom=l.Handler.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._moved=false},addHooks:function(){l.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){l.DomEvent.off(this._container,"mousedown",this._onMouseDown);this._moved=false},moved:function(){return this._moved},_onMouseDown:function(a){this._moved=false;if(!a.shiftKey||((a.which!==1)&&(a.button!==1))){return false}l.DomUtil.disableTextSelection();l.DomUtil.disableImageDrag();this._startLayerPoint=this._map.mouseEventToLayerPoint(a);l.DomEvent.on(k,"mousemove",this._onMouseMove,this).on(k,"mouseup",this._onMouseUp,this).on(k,"keydown",this._onKeyDown,this)},_onMouseMove:function(f){if(!this._moved){this._box=l.DomUtil.create("div","leaflet-zoom-box",this._pane);l.DomUtil.setPosition(this._box,this._startLayerPoint);this._container.style.cursor="crosshair";this._map.fire("boxzoomstart")}var a=this._startLayerPoint,b=this._box,d=this._map.mouseEventToLayerPoint(f),e=d.subtract(a),c=new l.Point(Math.min(d.x,a.x),Math.min(d.y,a.y));l.DomUtil.setPosition(b,c);this._moved=true;b.style.width=(Math.max(0,Math.abs(e.x)-4))+"px";b.style.height=(Math.max(0,Math.abs(e.y)-4))+"px"},_finish:function(){if(this._moved){this._pane.removeChild(this._box);this._container.style.cursor=""}l.DomUtil.enableTextSelection();l.DomUtil.enableImageDrag();l.DomEvent.off(k,"mousemove",this._onMouseMove).off(k,"mouseup",this._onMouseUp).off(k,"keydown",this._onKeyDown)},_onMouseUp:function(c){this._finish();var d=this._map,b=d.mouseEventToLayerPoint(c);if(this._startLayerPoint.equals(b)){return}var a=new l.LatLngBounds(d.layerPointToLatLng(this._startLayerPoint),d.layerPointToLatLng(b));d.fitBounds(a);d.fire("boxzoomend",{boxZoomBounds:a})},_onKeyDown:function(a){if(a.keyCode===27){this._finish()}}});l.Map.addInitHook("addHandler","boxZoom",l.Map.BoxZoom);l.Map.mergeOptions({keyboard:true,keyboardPanOffset:80,keyboardZoomOffset:1});l.Map.Keyboard=l.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a;this._setPanOffset(a.options.keyboardPanOffset);this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;if(a.tabIndex===-1){a.tabIndex="0"}l.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this);this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;l.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this);this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(this._focused){return}var b=k.body,c=k.documentElement,d=b.scrollTop||c.scrollTop,a=b.scrollLeft||c.scrollLeft;this._map._container.focus();i.scrollTo(a,d)},_onFocus:function(){this._focused=true;this._map.fire("focus")},_onBlur:function(){this._focused=false;this._map.fire("blur")},_setPanOffset:function(d){var e=this._panKeys={},b=this.keyCodes,a,c;for(a=0,c=b.left.length;a<c;a++){e[b.left[a]]=[-1*d,0]}for(a=0,c=b.right.length;a<c;a++){e[b.right[a]]=[d,0]}for(a=0,c=b.down.length;a<c;a++){e[b.down[a]]=[0,d]}for(a=0,c=b.up.length;a<c;a++){e[b.up[a]]=[0,-1*d]}},_setZoomOffset:function(d){var e=this._zoomKeys={},b=this.keyCodes,a,c;for(a=0,c=b.zoomIn.length;a<c;a++){e[b.zoomIn[a]]=d}for(a=0,c=b.zoomOut.length;a<c;a++){e[b.zoomOut[a]]=-d}},_addHooks:function(){l.DomEvent.on(k,"keydown",this._onKeyDown,this)},_removeHooks:function(){l.DomEvent.off(k,"keydown",this._onKeyDown,this)},_onKeyDown:function(b){var a=b.keyCode,c=this._map;if(a in this._panKeys){if(c._panAnim&&c._panAnim._inProgress){return}c.panBy(this._panKeys[a]);if(c.options.maxBounds){c.panInsideBounds(c.options.maxBounds)}}else{if(a in this._zoomKeys){c.setZoom(c.getZoom()+this._zoomKeys[a])}else{return}}l.DomEvent.stop(b)}});l.Map.addInitHook("addHandler","keyboard",l.Map.Keyboard);l.Handler.MarkerDrag=l.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;if(!this._draggable){this._draggable=new l.Draggable(a,a)}this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this);this._draggable.enable();l.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this);this._draggable.disable();l.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var b=this._marker,c=b._shadow,a=l.DomUtil.getPosition(b._icon),d=b._map.layerPointToLatLng(a);if(c){l.DomUtil.setPosition(c,a)}b._latlng=d;b.fire("move",{latlng:d}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}});l.Control=l.Class.extend({options:{position:"topright"},initialize:function(a){l.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(b){var a=this._map;if(a){a.removeControl(this)}this.options.position=b;if(a){a.addControl(this)}return this},getContainer:function(){return this._container},addTo:function(d){this._map=d;var b=this._container=this.onAdd(d),c=this.getPosition(),a=d._controlCorners[c];l.DomUtil.addClass(b,"leaflet-control");if(c.indexOf("bottom")!==-1){a.insertBefore(b,a.firstChild)}else{a.appendChild(b)}return this},removeFrom:function(c){var b=this.getPosition(),a=c._controlCorners[b];a.removeChild(this._container);this._map=null;if(this.onRemove){this.onRemove(c)}return this},_refocusOnMap:function(){if(this._map){this._map.getContainer().focus()}}});l.control=function(a){return new l.Control(a)};l.Map.include({addControl:function(a){a.addTo(this);return this},removeControl:function(a){a.removeFrom(this);return this},_initControlPos:function(){var d=this._controlCorners={},a="leaflet-",b=this._controlContainer=l.DomUtil.create("div",a+"control-container",this._container);function c(g,f){var e=a+g+" "+a+f;d[g+f]=l.DomUtil.create("div",e,b)}c("top","left");c("top","right");c("bottom","left");c("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});l.Control.Zoom=l.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(c){var b="leaflet-control-zoom",a=l.DomUtil.create("div",b+" leaflet-bar");this._map=c;this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,b+"-in",a,this._zoomIn,this);this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,b+"-out",a,this._zoomOut,this);this._updateDisabled();c.on("zoomend zoomlevelschange",this._updateDisabled,this);return a},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(g,d,e,c,f,p){var a=l.DomUtil.create("a",e,c);a.innerHTML=g;a.href="#";a.title=d;var b=l.DomEvent.stopPropagation;l.DomEvent.on(a,"click",b).on(a,"mousedown",b).on(a,"dblclick",b).on(a,"click",l.DomEvent.preventDefault).on(a,"click",f,p).on(a,"click",this._refocusOnMap,p);return a},_updateDisabled:function(){var a=this._map,b="leaflet-disabled";l.DomUtil.removeClass(this._zoomInButton,b);l.DomUtil.removeClass(this._zoomOutButton,b);if(a._zoom===a.getMinZoom()){l.DomUtil.addClass(this._zoomOutButton,b)}if(a._zoom===a.getMaxZoom()){l.DomUtil.addClass(this._zoomInButton,b)}}});l.Map.mergeOptions({zoomControl:true});l.Map.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new l.Control.Zoom();this.addControl(this.zoomControl)}});l.control.zoom=function(a){return new l.Control.Zoom(a)};l.Control.Attribution=l.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){l.setOptions(this,a);this._attributions={}},onAdd:function(a){this._container=l.DomUtil.create("div","leaflet-control-attribution");l.DomEvent.disableClickPropagation(this._container);for(var b in a._layers){if(a._layers[b].getAttribution){this.addAttribution(a._layers[b].getAttribution())}}a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this);this._update();return this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){this.options.prefix=a;this._update();return this},addAttribution:function(a){if(!a){return}if(!this._attributions[a]){this._attributions[a]=0}this._attributions[a]++;this._update();return this},removeAttribution:function(a){if(!a){return}if(this._attributions[a]){this._attributions[a]--;this._update()}return this},_update:function(){if(!this._map){return}var b=[];for(var a in this._attributions){if(this._attributions[a]){b.push(a)}}var c=[];if(this.options.prefix){c.push(this.options.prefix)}if(b.length){c.push(b.join(", "))}this._container.innerHTML=c.join(" | ")},_onLayerAdd:function(a){if(a.layer.getAttribution){this.addAttribution(a.layer.getAttribution())}},_onLayerRemove:function(a){if(a.layer.getAttribution){this.removeAttribution(a.layer.getAttribution())}}});l.Map.mergeOptions({attributionControl:true});l.Map.addInitHook(function(){if(this.options.attributionControl){this.attributionControl=(new l.Control.Attribution()).addTo(this)}});l.control.attribution=function(a){return new l.Control.Attribution(a)};l.Control.Scale=l.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:true,imperial:true,updateWhenIdle:false},onAdd:function(c){this._map=c;var d="leaflet-control-scale",b=l.DomUtil.create("div",d),a=this.options;this._addScales(a,d,b);c.on(a.updateWhenIdle?"moveend":"move",this._update,this);c.whenReady(this._update,this);return b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,b,a){if(c.metric){this._mScale=l.DomUtil.create("div",b+"-line",a)}if(c.imperial){this._iScale=l.DomUtil.create("div",b+"-line",a)}},_update:function(){var g=this._map.getBounds(),f=g.getCenter().lat,a=6378137*Math.PI*Math.cos(f*Math.PI/180),d=a*(g.getNorthEast().lng-g.getSouthWest().lng)/180,b=this._map.getSize(),c=this.options,e=0;if(b.x>0){e=d*(c.maxWidth/b.x)}this._updateScales(c,e)},_updateScales:function(b,a){if(b.metric&&a){this._updateMetric(a)}if(b.imperial&&a){this._updateImperial(a)}},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px";this._mScale.innerHTML=b<1000?b+" m":(b/1000)+" km"},_updateImperial:function(f){var a=f*3.2808399,e=this._iScale,b,c,d;if(a>5280){b=a/5280;c=this._getRoundNum(b);e.style.width=this._getScaleWidth(c/b)+"px";e.innerHTML=c+" mi"}else{d=this._getRoundNum(a);e.style.width=this._getScaleWidth(d/a)+"px";e.innerHTML=d+" ft"}},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(c){var a=Math.pow(10,(Math.floor(c)+"").length-1),b=c/a;b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1;return a*b}});l.control.scale=function(a){return new l.Control.Scale(a)};l.Control.Layers=l.Control.extend({options:{collapsed:true,position:"topright",autoZIndex:true},initialize:function(c,d,b){l.setOptions(this,b);this._layers={};this._lastZIndex=0;this._handlingClick=false;for(var a in c){this._addLayer(c[a],a)}for(a in d){this._addLayer(d[a],a,true)}},onAdd:function(a){this._initLayout();this._update();a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this);return this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,b){this._addLayer(a,b);this._update();return this},addOverlay:function(a,b){this._addLayer(a,b,true);this._update();return this},removeLayer:function(b){var a=l.stamp(b);delete this._layers[a];this._update();return this},_initLayout:function(){var a="leaflet-control-layers",b=this._container=l.DomUtil.create("div",a);b.setAttribute("aria-haspopup",true);if(!l.Browser.touch){l.DomEvent.disableClickPropagation(b).disableScrollPropagation(b)}else{l.DomEvent.on(b,"click",l.DomEvent.stopPropagation)}var c=this._form=l.DomUtil.create("form",a+"-list");if(this.options.collapsed){if(!l.Browser.android){l.DomEvent.on(b,"mouseover",this._expand,this).on(b,"mouseout",this._collapse,this)}var d=this._layersLink=l.DomUtil.create("a",a+"-toggle",b);d.href="#";d.title="Layers";if(l.Browser.touch){l.DomEvent.on(d,"click",l.DomEvent.stop).on(d,"click",this._expand,this)}else{l.DomEvent.on(d,"focus",this._expand,this)}l.DomEvent.on(c,"click",function(){setTimeout(l.bind(this._onInputClick,this),0)},this);this._map.on("click",this._collapse,this)}else{this._expand()}this._baseLayersList=l.DomUtil.create("div",a+"-base",c);this._separator=l.DomUtil.create("div",a+"-separator",c);this._overlaysList=l.DomUtil.create("div",a+"-overlays",c);b.appendChild(c)},_addLayer:function(d,a,b){var c=l.stamp(d);this._layers[c]={layer:d,name:a,overlay:b};if(this.options.autoZIndex&&d.setZIndex){this._lastZIndex++;d.setZIndex(this._lastZIndex)}},_update:function(){if(!this._container){return}this._baseLayersList.innerHTML="";this._overlaysList.innerHTML="";var b=false,d=false,a,c;for(a in this._layers){c=this._layers[a];this._addItem(c);d=d||c.overlay;b=b||!c.overlay}this._separator.style.display=d&&b?"":"none"},_onLayerChange:function(b){var c=this._layers[l.stamp(b.layer)];if(!c){return}if(!this._handlingClick){this._update()}var a=c.overlay?(b.type==="layeradd"?"overlayadd":"overlayremove"):(b.type==="layeradd"?"baselayerchange":null);if(a){this._map.fire(a,c)}},_createRadioElement:function(b,c){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+b+'"';if(c){d+=' checked="checked"'}d+="/>";var a=k.createElement("div");a.innerHTML=d;return a.firstChild},_addItem:function(e){var a=k.createElement("label"),c,f=this._map.hasLayer(e.layer);if(e.overlay){c=k.createElement("input");c.type="checkbox";c.className="leaflet-control-layers-selector";c.defaultChecked=f}else{c=this._createRadioElement("leaflet-base-layers",f)}c.layerId=l.stamp(e.layer);l.DomEvent.on(c,"click",this._onInputClick,this);var b=k.createElement("span");b.innerHTML=" "+e.name;a.appendChild(c);a.appendChild(b);var d=e.overlay?this._overlaysList:this._baseLayersList;d.appendChild(a);return a},_onInputClick:function(){var a,b,d,c=this._form.getElementsByTagName("input"),e=c.length;this._handlingClick=true;for(a=0;a<e;a++){b=c[a];d=this._layers[b.layerId];if(b.checked&&!this._map.hasLayer(d.layer)){this._map.addLayer(d.layer)}else{if(!b.checked&&this._map.hasLayer(d.layer)){this._map.removeLayer(d.layer)}}}this._handlingClick=false;this._refocusOnMap()},_expand:function(){l.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}});l.control.layers=function(b,c,a){return new l.Control.Layers(b,c,a)};l.PosAnimation=l.Class.extend({includes:l.Mixin.Events,run:function(a,b,d,c){this.stop();this._el=a;this._inProgress=true;this._newPos=b;this.fire("start");a.style[l.DomUtil.TRANSITION]="all "+(d||0.25)+"s cubic-bezier(0,0,"+(c||0.5)+",1)";l.DomEvent.on(a,l.DomUtil.TRANSITION_END,this._onTransitionEnd,this);l.DomUtil.setPosition(a,b);l.Util.falseFn(a.offsetWidth);this._stepTimer=setInterval(l.bind(this._onStep,this),50)},stop:function(){if(!this._inProgress){return}l.DomUtil.setPosition(this._el,this._getPos());this._onTransitionEnd();l.Util.falseFn(this._el.offsetWidth)},_onStep:function(){var a=this._getPos();if(!a){this._onTransitionEnd();return}this._el._leaflet_pos=a;this.fire("step")},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var d,e,a,b=this._el,c=i.getComputedStyle(b);if(l.Browser.any3d){a=c[l.DomUtil.TRANSFORM].match(this._transformRe);if(!a){return}d=parseFloat(a[1]);e=parseFloat(a[2])}else{d=parseFloat(c.left);e=parseFloat(c.top)}return new l.Point(d,e,true)},_onTransitionEnd:function(){l.DomEvent.off(this._el,l.DomUtil.TRANSITION_END,this._onTransitionEnd,this);if(!this._inProgress){return}this._inProgress=false;this._el.style[l.DomUtil.TRANSITION]="";this._el._leaflet_pos=this._newPos;clearInterval(this._stepTimer);this.fire("step").fire("end")}});l.Map.include({setView:function(b,c,a){c=c===m?this._zoom:this._limitZoom(c);b=this._limitCenter(l.latLng(b),c,this.options.maxBounds);a=a||{};if(this._panAnim){this._panAnim.stop()}if(this._loaded&&!a.reset&&a!==true){if(a.animate!==m){a.zoom=l.extend({animate:a.animate},a.zoom);a.pan=l.extend({animate:a.animate},a.pan)}var d=(this._zoom!==c)?this._tryAnimatedZoom&&this._tryAnimatedZoom(b,c,a.zoom):this._tryAnimatedPan(b,a.pan);if(d){clearTimeout(this._sizeTimer);return this}}this._resetView(b,c);return this},panBy:function(b,a){b=l.point(b).round();a=a||{};if(!b.x&&!b.y){return this}if(!this._panAnim){this._panAnim=new l.PosAnimation();this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(!a.noMoveStart){this.fire("movestart")}if(a.animate!==false){l.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(b);this._panAnim.run(this._mapPane,c,a.duration||0.25,a.easeLinearity)}else{this._rawPanBy(b);this.fire("move").fire("moveend")}return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){l.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(a,c){var b=this._getCenterOffset(a)._floor();if((c&&c.animate)!==true&&!this.getSize().contains(b)){return false}this.panBy(b,c);return true}});l.PosAnimation=l.DomUtil.TRANSITION?l.PosAnimation:l.PosAnimation.extend({run:function(a,b,d,c){this.stop();this._el=a;this._inProgress=true;this._duration=d||0.25;this._easeOutPower=1/Math.max(c||0.5,0.2);this._startPos=l.DomUtil.getPosition(a);this._offset=b.subtract(this._startPos);this._startTime=+new Date();this.fire("start");this._animate()},stop:function(){if(!this._inProgress){return}this._step();this._complete()},_animate:function(){this._animId=l.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(){var b=(+new Date())-this._startTime,a=this._duration*1000;if(b<a){this._runFrame(this._easeOut(b/a))}else{this._runFrame(1);this._complete()}},_runFrame:function(b){var a=this._startPos.add(this._offset.multiplyBy(b));l.DomUtil.setPosition(this._el,a);this.fire("step")},_complete:function(){l.Util.cancelAnimFrame(this._animId);this._inProgress=false;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}});l.Map.mergeOptions({zoomAnimation:true,zoomAnimationThreshold:4});if(l.DomUtil.TRANSITION){l.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&l.DomUtil.TRANSITION&&l.Browser.any3d&&!l.Browser.android23&&!l.Browser.mobileOpera;if(this._zoomAnimated){l.DomEvent.on(this._mapPane,l.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}})}l.Map.include(!l.DomUtil.TRANSITION?{}:{_catchTransitionEnd:function(){if(this._animatingZoom){this._onZoomTransitionEnd()}},_nothingToAnimate:function(){return !this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,a,b){if(this._animatingZoom){return true}b=b||{};if(!this._zoomAnimated||b.animate===false||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold){return false}var e=this.getZoomScale(a),f=this._getCenterOffset(d)._divideBy(1-1/e),c=this._getCenterLayerPoint()._add(f);if(b.animate!==true&&!this.getSize().contains(f)){return false}this.fire("movestart").fire("zoomstart");this._animateZoom(d,a,c,e,null,true);return true},_animateZoom:function(d,a,b,f,e,c){this._animatingZoom=true;l.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim");this._animateToCenter=d;this._animateToZoom=a;if(l.Draggable){l.Draggable._disabled=true}this.fire("zoomanim",{center:d,zoom:a,origin:b,scale:f,delta:e,backwards:c})},_onZoomTransitionEnd:function(){this._animatingZoom=false;l.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim");this._resetView(this._animateToCenter,this._animateToZoom,true,true);if(l.Draggable){l.Draggable._disabled=false}}});l.TileLayer.include({_animateZoom:function(d){if(!this._animating){this._animating=true;this._prepareBgBuffer()}var a=this._bgBuffer,c=l.DomUtil.TRANSFORM,b=d.delta?l.DomUtil.getTranslateString(d.delta):a.style[c],e=l.DomUtil.getScaleString(d.scale,d.origin);a.style[c]=d.backwards?e+" "+b:b+" "+e},_endZoomAnim:function(){var a=this._tileContainer,b=this._bgBuffer;a.style.visibility="";a.parentNode.appendChild(a);l.Util.falseFn(b.offsetWidth);this._animating=false},_clearBgBuffer:function(){var a=this._map;if(a&&!a._animatingZoom&&!a.touchZoom._zooming){this._bgBuffer.innerHTML="";this._bgBuffer.style[l.DomUtil.TRANSFORM]=""}},_prepareBgBuffer:function(){var d=this._tileContainer,a=this._bgBuffer;var b=this._getLoadedTilesPercentage(a),c=this._getLoadedTilesPercentage(d);if(a&&b>0.5&&c<0.5){d.style.visibility="hidden";this._stopLoadingImages(d);return}a.style.visibility="hidden";a.style[l.DomUtil.TRANSFORM]="";this._tileContainer=a;a=this._bgBuffer=d;this._stopLoadingImages(a);clearTimeout(this._clearBgBufferTimer)},_getLoadedTilesPercentage:function(b){var a=b.getElementsByTagName("img"),e,c,d=0;for(e=0,c=a.length;e<c;e++){if(a[e].complete){d++}}return d/c},_stopLoadingImages:function(b){var a=Array.prototype.slice.call(b.getElementsByTagName("img")),e,c,d;for(e=0,c=a.length;e<c;e++){d=a[e];if(!d.complete){d.onload=l.Util.falseFn;d.onerror=l.Util.falseFn;d.src=l.Util.emptyImageUrl;d.parentNode.removeChild(d)}}}});l.Map.include({_defaultLocateOptions:{watch:false,setView:false,maxZoom:Infinity,timeout:10000,maximumAge:0,enableHighAccuracy:false},locate:function(a){a=this._locateOptions=l.extend(this._defaultLocateOptions,a);if(!navigator.geolocation){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var b=l.bind(this._handleGeolocationResponse,this),c=l.bind(this._handleGeolocationError,this);if(a.watch){this._locationWatchId=navigator.geolocation.watchPosition(b,c,a)}else{navigator.geolocation.getCurrentPosition(b,c,a)}return this},stopLocate:function(){if(navigator.geolocation){navigator.geolocation.clearWatch(this._locationWatchId)}if(this._locateOptions){this._locateOptions.setView=false}return this},_handleGeolocationError:function(a){var b=a.code,c=a.message||(b===1?"permission denied":(b===2?"position unavailable":"timeout"));if(this._locateOptions.setView&&!this._loaded){this.fitWorld()}this.fire("locationerror",{code:b,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(s){var t=s.coords.latitude,f=s.coords.longitude,b=new l.LatLng(t,f),g=180*s.coords.accuracy/40075017,a=g/Math.cos(l.LatLng.DEG_TO_RAD*t),c=l.latLngBounds([t-g,f-a],[t+g,f+a]),d=this._locateOptions;if(d.setView){var e=Math.min(this.getBoundsZoom(c),d.maxZoom);this.setView(b,e)}var u={latlng:b,bounds:c,timestamp:s.timestamp};for(var v in s.coords){if(typeof s.coords[v]==="number"){u[v]=s.coords[v]}}this.fire("locationfound",u)}})}(window,document));